(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();var du={exports:{}},ji={},fu={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function Ry(){if(Ph)return ne;Ph=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function v(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,D={};function A(S,O,te){this.props=S,this.context=O,this.refs=D,this.updater=te||T}A.prototype.isReactComponent={},A.prototype.setState=function(S,O){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,O,"setState")},A.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function j(){}j.prototype=A.prototype;function B(S,O,te){this.props=S,this.context=O,this.refs=D,this.updater=te||T}var Y=B.prototype=new j;Y.constructor=B,R(Y,A.prototype),Y.isPureReactComponent=!0;var ee=Array.isArray,pe=Object.prototype.hasOwnProperty,Pe={current:null},ke={key:!0,ref:!0,__self:!0,__source:!0};function Me(S,O,te){var se,ae={},ue=null,ge=null;if(O!=null)for(se in O.ref!==void 0&&(ge=O.ref),O.key!==void 0&&(ue=""+O.key),O)pe.call(O,se)&&!ke.hasOwnProperty(se)&&(ae[se]=O[se]);var fe=arguments.length-2;if(fe===1)ae.children=te;else if(1<fe){for(var xe=Array(fe),gt=0;gt<fe;gt++)xe[gt]=arguments[gt+2];ae.children=xe}if(S&&S.defaultProps)for(se in fe=S.defaultProps,fe)ae[se]===void 0&&(ae[se]=fe[se]);return{$$typeof:i,type:S,key:ue,ref:ge,props:ae,_owner:Pe.current}}function De(S,O){return{$$typeof:i,type:S.type,key:O,ref:S.ref,props:S.props,_owner:S._owner}}function We(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function jt(S){var O={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(te){return O[te]})}var zt=/\/+/g;function mt(S,O){return typeof S=="object"&&S!==null&&S.key!=null?jt(""+S.key):O.toString(36)}function It(S,O,te,se,ae){var ue=typeof S;(ue==="undefined"||ue==="boolean")&&(S=null);var ge=!1;if(S===null)ge=!0;else switch(ue){case"string":case"number":ge=!0;break;case"object":switch(S.$$typeof){case i:case t:ge=!0}}if(ge)return ge=S,ae=ae(ge),S=se===""?"."+mt(ge,0):se,ee(ae)?(te="",S!=null&&(te=S.replace(zt,"$&/")+"/"),It(ae,O,te,"",function(gt){return gt})):ae!=null&&(We(ae)&&(ae=De(ae,te+(!ae.key||ge&&ge.key===ae.key?"":(""+ae.key).replace(zt,"$&/")+"/")+S)),O.push(ae)),1;if(ge=0,se=se===""?".":se+":",ee(S))for(var fe=0;fe<S.length;fe++){ue=S[fe];var xe=se+mt(ue,fe);ge+=It(ue,O,te,xe,ae)}else if(xe=v(S),typeof xe=="function")for(S=xe.call(S),fe=0;!(ue=S.next()).done;)ue=ue.value,xe=se+mt(ue,fe++),ge+=It(ue,O,te,xe,ae);else if(ue==="object")throw O=String(S),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return ge}function Bt(S,O,te){if(S==null)return S;var se=[],ae=0;return It(S,se,"","",function(ue){return O.call(te,ue,ae++)}),se}function st(S){if(S._status===-1){var O=S._result;O=O(),O.then(function(te){(S._status===0||S._status===-1)&&(S._status=1,S._result=te)},function(te){(S._status===0||S._status===-1)&&(S._status=2,S._result=te)}),S._status===-1&&(S._status=0,S._result=O)}if(S._status===1)return S._result.default;throw S._result}var be={current:null},U={transition:null},X={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:U,ReactCurrentOwner:Pe};function H(){throw Error("act(...) is not supported in production builds of React.")}return ne.Children={map:Bt,forEach:function(S,O,te){Bt(S,function(){O.apply(this,arguments)},te)},count:function(S){var O=0;return Bt(S,function(){O++}),O},toArray:function(S){return Bt(S,function(O){return O})||[]},only:function(S){if(!We(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ne.Component=A,ne.Fragment=r,ne.Profiler=l,ne.PureComponent=B,ne.StrictMode=o,ne.Suspense=p,ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,ne.act=H,ne.cloneElement=function(S,O,te){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var se=R({},S.props),ae=S.key,ue=S.ref,ge=S._owner;if(O!=null){if(O.ref!==void 0&&(ue=O.ref,ge=Pe.current),O.key!==void 0&&(ae=""+O.key),S.type&&S.type.defaultProps)var fe=S.type.defaultProps;for(xe in O)pe.call(O,xe)&&!ke.hasOwnProperty(xe)&&(se[xe]=O[xe]===void 0&&fe!==void 0?fe[xe]:O[xe])}var xe=arguments.length-2;if(xe===1)se.children=te;else if(1<xe){fe=Array(xe);for(var gt=0;gt<xe;gt++)fe[gt]=arguments[gt+2];se.children=fe}return{$$typeof:i,type:S.type,key:ae,ref:ue,props:se,_owner:ge}},ne.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:u,_context:S},S.Consumer=S},ne.createElement=Me,ne.createFactory=function(S){var O=Me.bind(null,S);return O.type=S,O},ne.createRef=function(){return{current:null}},ne.forwardRef=function(S){return{$$typeof:h,render:S}},ne.isValidElement=We,ne.lazy=function(S){return{$$typeof:E,_payload:{_status:-1,_result:S},_init:st}},ne.memo=function(S,O){return{$$typeof:g,type:S,compare:O===void 0?null:O}},ne.startTransition=function(S){var O=U.transition;U.transition={};try{S()}finally{U.transition=O}},ne.unstable_act=H,ne.useCallback=function(S,O){return be.current.useCallback(S,O)},ne.useContext=function(S){return be.current.useContext(S)},ne.useDebugValue=function(){},ne.useDeferredValue=function(S){return be.current.useDeferredValue(S)},ne.useEffect=function(S,O){return be.current.useEffect(S,O)},ne.useId=function(){return be.current.useId()},ne.useImperativeHandle=function(S,O,te){return be.current.useImperativeHandle(S,O,te)},ne.useInsertionEffect=function(S,O){return be.current.useInsertionEffect(S,O)},ne.useLayoutEffect=function(S,O){return be.current.useLayoutEffect(S,O)},ne.useMemo=function(S,O){return be.current.useMemo(S,O)},ne.useReducer=function(S,O,te){return be.current.useReducer(S,O,te)},ne.useRef=function(S){return be.current.useRef(S)},ne.useState=function(S){return be.current.useState(S)},ne.useSyncExternalStore=function(S,O,te){return be.current.useSyncExternalStore(S,O,te)},ne.useTransition=function(){return be.current.useTransition()},ne.version="18.3.1",ne}var Dh;function qu(){return Dh||(Dh=1,fu.exports=Ry()),fu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh;function Py(){if(bh)return ji;bh=1;var i=qu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,g){var E,w={},v=null,T=null;g!==void 0&&(v=""+g),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(T=p.ref);for(E in p)o.call(p,E)&&!u.hasOwnProperty(E)&&(w[E]=p[E]);if(h&&h.defaultProps)for(E in p=h.defaultProps,p)w[E]===void 0&&(w[E]=p[E]);return{$$typeof:t,type:h,key:v,ref:T,props:w,_owner:l.current}}return ji.Fragment=r,ji.jsx=d,ji.jsxs=d,ji}var Ah;function Dy(){return Ah||(Ah=1,du.exports=Py()),du.exports}var y=Dy(),P=qu(),Do={},hu={exports:{}},dt={},pu={exports:{}},mu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh;function by(){return Oh||(Oh=1,function(i){function t(U,X){var H=U.length;U.push(X);e:for(;0<H;){var S=H-1>>>1,O=U[S];if(0<l(O,X))U[S]=X,U[H]=O,H=S;else break e}}function r(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var X=U[0],H=U.pop();if(H!==X){U[0]=H;e:for(var S=0,O=U.length,te=O>>>1;S<te;){var se=2*(S+1)-1,ae=U[se],ue=se+1,ge=U[ue];if(0>l(ae,H))ue<O&&0>l(ge,ae)?(U[S]=ge,U[ue]=H,S=ue):(U[S]=ae,U[se]=H,S=se);else if(ue<O&&0>l(ge,H))U[S]=ge,U[ue]=H,S=ue;else break e}}return X}function l(U,X){var H=U.sortIndex-X.sortIndex;return H!==0?H:U.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var p=[],g=[],E=1,w=null,v=3,T=!1,R=!1,D=!1,A=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(U){for(var X=r(g);X!==null;){if(X.callback===null)o(g);else if(X.startTime<=U)o(g),X.sortIndex=X.expirationTime,t(p,X);else break;X=r(g)}}function ee(U){if(D=!1,Y(U),!R)if(r(p)!==null)R=!0,st(pe);else{var X=r(g);X!==null&&be(ee,X.startTime-U)}}function pe(U,X){R=!1,D&&(D=!1,j(Me),Me=-1),T=!0;var H=v;try{for(Y(X),w=r(p);w!==null&&(!(w.expirationTime>X)||U&&!jt());){var S=w.callback;if(typeof S=="function"){w.callback=null,v=w.priorityLevel;var O=S(w.expirationTime<=X);X=i.unstable_now(),typeof O=="function"?w.callback=O:w===r(p)&&o(p),Y(X)}else o(p);w=r(p)}if(w!==null)var te=!0;else{var se=r(g);se!==null&&be(ee,se.startTime-X),te=!1}return te}finally{w=null,v=H,T=!1}}var Pe=!1,ke=null,Me=-1,De=5,We=-1;function jt(){return!(i.unstable_now()-We<De)}function zt(){if(ke!==null){var U=i.unstable_now();We=U;var X=!0;try{X=ke(!0,U)}finally{X?mt():(Pe=!1,ke=null)}}else Pe=!1}var mt;if(typeof B=="function")mt=function(){B(zt)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Bt=It.port2;It.port1.onmessage=zt,mt=function(){Bt.postMessage(null)}}else mt=function(){A(zt,0)};function st(U){ke=U,Pe||(Pe=!0,mt())}function be(U,X){Me=A(function(){U(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_continueExecution=function(){R||T||(R=!0,st(pe))},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):De=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return r(p)},i.unstable_next=function(U){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var H=v;v=X;try{return U()}finally{v=H}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=v;v=U;try{return X()}finally{v=H}},i.unstable_scheduleCallback=function(U,X,H){var S=i.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?S+H:S):H=S,U){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=H+O,U={id:E++,callback:X,priorityLevel:U,startTime:H,expirationTime:O,sortIndex:-1},H>S?(U.sortIndex=H,t(g,U),r(p)===null&&U===r(g)&&(D?(j(Me),Me=-1):D=!0,be(ee,H-S))):(U.sortIndex=O,t(p,U),R||T||(R=!0,st(pe))),U},i.unstable_shouldYield=jt,i.unstable_wrapCallback=function(U){var X=v;return function(){var H=v;v=X;try{return U.apply(this,arguments)}finally{v=H}}}}(mu)),mu}var Lh;function Ay(){return Lh||(Lh=1,pu.exports=by()),pu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh;function Oy(){if(Mh)return dt;Mh=1;var i=qu(),t=Ay();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(l[e]=n,e=0;e<n.length;e++)o.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},w={};function v(e){return p.call(w,e)?!0:p.call(E,e)?!1:g.test(e)?w[e]=!0:(E[e]=!0,!1)}function T(e,n,s,a){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,n,s,a){if(n===null||typeof n>"u"||T(e,n,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function D(e,n,s,a,c,f,m){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=m}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new D(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];A[n]=new D(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new D(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new D(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new D(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new D(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new D(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new D(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new D(e,5,!1,e.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(j,B);A[n]=new D(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(j,B);A[n]=new D(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(j,B);A[n]=new D(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new D(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new D(e,1,!1,e.toLowerCase(),null,!0,!0)});function Y(e,n,s,a){var c=A.hasOwnProperty(n)?A[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(R(n,s,c,a)&&(s=null),a||c===null?v(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,a=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?e.setAttributeNS(a,n,s):e.setAttribute(n,s))))}var ee=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pe=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),ke=Symbol.for("react.fragment"),Me=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),We=Symbol.for("react.provider"),jt=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),Bt=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),U=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,S;function O(e){if(S===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);S=n&&n[1]||""}return`
`+S+e}var te=!1;function se(e,n){if(!e||te)return"";te=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(I){var a=I}Reflect.construct(e,[],n)}else{try{n.call()}catch(I){a=I}e.call(n.prototype)}else{try{throw Error()}catch(I){a=I}e()}}catch(I){if(I&&a&&typeof I.stack=="string"){for(var c=I.stack.split(`
`),f=a.stack.split(`
`),m=c.length-1,_=f.length-1;1<=m&&0<=_&&c[m]!==f[_];)_--;for(;1<=m&&0<=_;m--,_--)if(c[m]!==f[_]){if(m!==1||_!==1)do if(m--,_--,0>_||c[m]!==f[_]){var C=`
`+c[m].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=m&&0<=_);break}}}finally{te=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?O(e):""}function ae(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ke:return"Fragment";case Pe:return"Portal";case De:return"Profiler";case Me:return"StrictMode";case mt:return"Suspense";case It:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jt:return(e.displayName||"Context")+".Consumer";case We:return(e._context.displayName||"Context")+".Provider";case zt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bt:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case st:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}function ge(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(n);case 8:return n===Me?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xe(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gt(e){var n=xe(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(m){a=""+m,f.call(this,m)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ws(e){e._valueTracker||(e._valueTracker=gt(e))}function Lc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),a="";return e&&(a=xe(e)?e.checked?"true":"false":e.value),e=a,e!==s?(n.setValue(e),!0):!1}function Es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yl(e,n){var s=n.checked;return H({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Mc(e,n){var s=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;s=fe(n.value!=null?n.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Fc(e,n){n=n.checked,n!=null&&Y(e,"checked",n,!1)}function vl(e,n){Fc(e,n);var s=fe(n.value),a=n.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?wl(e,n.type,s):n.hasOwnProperty("defaultValue")&&wl(e,n.type,fe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function jc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function wl(e,n,s){(n!=="number"||Es(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Zr=Array.isArray;function pr(e,n,s,a){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&a&&(e[s].defaultSelected=!0)}else{for(s=""+fe(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function El(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return H({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Zr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:fe(s)}}function Bc(e,n){var s=fe(n.value),a=fe(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function Uc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Wc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cl(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Wc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cs,$c=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,a,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,a,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Cs=Cs||document.createElement("div"),Cs.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Cs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ei(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Og=["Webkit","ms","Moz","O"];Object.keys(ti).forEach(function(e){Og.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ti[n]=ti[e]})});function Hc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||ti.hasOwnProperty(e)&&ti[e]?(""+n).trim():n+"px"}function Vc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=Hc(s,n[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,c):e[s]=c}}var Lg=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xl(e,n){if(n){if(Lg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Sl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kl=null;function Nl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Il=null,mr=null,gr=null;function Gc(e){if(e=xi(e)){if(typeof Il!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Vs(n),Il(e.stateNode,e.type,n))}}function Qc(e){mr?gr?gr.push(e):gr=[e]:mr=e}function qc(){if(mr){var e=mr,n=gr;if(gr=mr=null,Gc(e),n)for(e=0;e<n.length;e++)Gc(n[e])}}function Kc(e,n){return e(n)}function Yc(){}var Tl=!1;function Xc(e,n,s){if(Tl)return e(n,s);Tl=!0;try{return Kc(e,n,s)}finally{Tl=!1,(mr!==null||gr!==null)&&(Yc(),qc())}}function ni(e,n){var s=e.stateNode;if(s===null)return null;var a=Vs(s);if(a===null)return null;s=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Rl=!1;if(h)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){Rl=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{Rl=!1}function Mg(e,n,s,a,c,f,m,_,C){var I=Array.prototype.slice.call(arguments,3);try{n.apply(s,I)}catch(L){this.onError(L)}}var ii=!1,xs=null,Ss=!1,Pl=null,Fg={onError:function(e){ii=!0,xs=e}};function jg(e,n,s,a,c,f,m,_,C){ii=!1,xs=null,Mg.apply(Fg,arguments)}function zg(e,n,s,a,c,f,m,_,C){if(jg.apply(this,arguments),ii){if(ii){var I=xs;ii=!1,xs=null}else throw Error(r(198));Ss||(Ss=!0,Pl=I)}}function Hn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Jc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Zc(e){if(Hn(e)!==e)throw Error(r(188))}function Bg(e){var n=e.alternate;if(!n){if(n=Hn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,a=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return Zc(c),e;if(f===a)return Zc(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==a.return)s=c,a=f;else{for(var m=!1,_=c.child;_;){if(_===s){m=!0,s=c,a=f;break}if(_===a){m=!0,a=c,s=f;break}_=_.sibling}if(!m){for(_=f.child;_;){if(_===s){m=!0,s=f,a=c;break}if(_===a){m=!0,a=f,s=c;break}_=_.sibling}if(!m)throw Error(r(189))}}if(s.alternate!==a)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function ed(e){return e=Bg(e),e!==null?td(e):null}function td(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=td(e);if(n!==null)return n;e=e.sibling}return null}var nd=t.unstable_scheduleCallback,rd=t.unstable_cancelCallback,Ug=t.unstable_shouldYield,Wg=t.unstable_requestPaint,Oe=t.unstable_now,$g=t.unstable_getCurrentPriorityLevel,Dl=t.unstable_ImmediatePriority,id=t.unstable_UserBlockingPriority,ks=t.unstable_NormalPriority,Hg=t.unstable_LowPriority,sd=t.unstable_IdlePriority,Ns=null,Ut=null;function Vg(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Ns,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:qg,Gg=Math.log,Qg=Math.LN2;function qg(e){return e>>>=0,e===0?32:31-(Gg(e)/Qg|0)|0}var Is=64,Ts=4194304;function si(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rs(e,n){var s=e.pendingLanes;if(s===0)return 0;var a=0,c=e.suspendedLanes,f=e.pingedLanes,m=s&268435455;if(m!==0){var _=m&~c;_!==0?a=si(_):(f&=m,f!==0&&(a=si(f)))}else m=s&~c,m!==0?a=si(m):f!==0&&(a=si(f));if(a===0)return 0;if(n!==0&&n!==a&&!(n&c)&&(c=a&-a,f=n&-n,c>=f||c===16&&(f&4194240)!==0))return n;if(a&4&&(a|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)s=31-Tt(n),c=1<<s,a|=e[s],n&=~c;return a}function Kg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yg(e,n){for(var s=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var m=31-Tt(f),_=1<<m,C=c[m];C===-1?(!(_&s)||_&a)&&(c[m]=Kg(_,n)):C<=n&&(e.expiredLanes|=_),f&=~_}}function bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function od(){var e=Is;return Is<<=1,!(Is&4194240)&&(Is=64),e}function Al(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function oi(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Tt(n),e[n]=s}function Xg(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-Tt(s),f=1<<c;n[c]=0,a[c]=-1,e[c]=-1,s&=~f}}function Ol(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var a=31-Tt(s),c=1<<a;c&n|e[a]&n&&(e[a]|=n),s&=~c}}var he=0;function ld(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ad,Ll,ud,cd,dd,Ml=!1,Ps=[],mn=null,gn=null,_n=null,li=new Map,ai=new Map,yn=[],Jg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fd(e,n){switch(e){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":li.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ai.delete(n.pointerId)}}function ui(e,n,s,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},n!==null&&(n=xi(n),n!==null&&Ll(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Zg(e,n,s,a,c){switch(n){case"focusin":return mn=ui(mn,e,n,s,a,c),!0;case"dragenter":return gn=ui(gn,e,n,s,a,c),!0;case"mouseover":return _n=ui(_n,e,n,s,a,c),!0;case"pointerover":var f=c.pointerId;return li.set(f,ui(li.get(f)||null,e,n,s,a,c)),!0;case"gotpointercapture":return f=c.pointerId,ai.set(f,ui(ai.get(f)||null,e,n,s,a,c)),!0}return!1}function hd(e){var n=Vn(e.target);if(n!==null){var s=Hn(n);if(s!==null){if(n=s.tag,n===13){if(n=Jc(s),n!==null){e.blockedOn=n,dd(e.priority,function(){ud(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ds(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=jl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);kl=a,s.target.dispatchEvent(a),kl=null}else return n=xi(s),n!==null&&Ll(n),e.blockedOn=s,!1;n.shift()}return!0}function pd(e,n,s){Ds(e)&&s.delete(n)}function e_(){Ml=!1,mn!==null&&Ds(mn)&&(mn=null),gn!==null&&Ds(gn)&&(gn=null),_n!==null&&Ds(_n)&&(_n=null),li.forEach(pd),ai.forEach(pd)}function ci(e,n){e.blockedOn===n&&(e.blockedOn=null,Ml||(Ml=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,e_)))}function di(e){function n(c){return ci(c,e)}if(0<Ps.length){ci(Ps[0],e);for(var s=1;s<Ps.length;s++){var a=Ps[s];a.blockedOn===e&&(a.blockedOn=null)}}for(mn!==null&&ci(mn,e),gn!==null&&ci(gn,e),_n!==null&&ci(_n,e),li.forEach(n),ai.forEach(n),s=0;s<yn.length;s++)a=yn[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<yn.length&&(s=yn[0],s.blockedOn===null);)hd(s),s.blockedOn===null&&yn.shift()}var _r=ee.ReactCurrentBatchConfig,bs=!0;function t_(e,n,s,a){var c=he,f=_r.transition;_r.transition=null;try{he=1,Fl(e,n,s,a)}finally{he=c,_r.transition=f}}function n_(e,n,s,a){var c=he,f=_r.transition;_r.transition=null;try{he=4,Fl(e,n,s,a)}finally{he=c,_r.transition=f}}function Fl(e,n,s,a){if(bs){var c=jl(e,n,s,a);if(c===null)ta(e,n,a,As,s),fd(e,a);else if(Zg(c,e,n,s,a))a.stopPropagation();else if(fd(e,a),n&4&&-1<Jg.indexOf(e)){for(;c!==null;){var f=xi(c);if(f!==null&&ad(f),f=jl(e,n,s,a),f===null&&ta(e,n,a,As,s),f===c)break;c=f}c!==null&&a.stopPropagation()}else ta(e,n,a,null,s)}}var As=null;function jl(e,n,s,a){if(As=null,e=Nl(a),e=Vn(e),e!==null)if(n=Hn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Jc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return As=e,null}function md(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($g()){case Dl:return 1;case id:return 4;case ks:case Hg:return 16;case sd:return 536870912;default:return 16}default:return 16}}var vn=null,zl=null,Os=null;function gd(){if(Os)return Os;var e,n=zl,s=n.length,a,c="value"in vn?vn.value:vn.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var m=s-e;for(a=1;a<=m&&n[s-a]===c[f-a];a++);return Os=c.slice(e,1<a?1-a:void 0)}function Ls(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ms(){return!0}function _d(){return!1}function _t(e){function n(s,a,c,f,m){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ms:_d,this.isPropagationStopped=_d,this}return H(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),n}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=_t(yr),fi=H({},yr,{view:0,detail:0}),r_=_t(fi),Ul,Wl,hi,Fs=H({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(Ul=e.screenX-hi.screenX,Wl=e.screenY-hi.screenY):Wl=Ul=0,hi=e),Ul)},movementY:function(e){return"movementY"in e?e.movementY:Wl}}),yd=_t(Fs),i_=H({},Fs,{dataTransfer:0}),s_=_t(i_),o_=H({},fi,{relatedTarget:0}),$l=_t(o_),l_=H({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),a_=_t(l_),u_=H({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),c_=_t(u_),d_=H({},yr,{data:0}),vd=_t(d_),f_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=p_[e])?!!n[e]:!1}function Hl(){return m_}var g_=H({},fi,{key:function(e){if(e.key){var n=f_[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?h_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(e){return e.type==="keypress"?Ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),__=_t(g_),y_=H({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=_t(y_),v_=H({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),w_=_t(v_),E_=H({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),C_=_t(E_),x_=H({},Fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S_=_t(x_),k_=[9,13,27,32],Vl=h&&"CompositionEvent"in window,pi=null;h&&"documentMode"in document&&(pi=document.documentMode);var N_=h&&"TextEvent"in window&&!pi,Ed=h&&(!Vl||pi&&8<pi&&11>=pi),Cd=" ",xd=!1;function Sd(e,n){switch(e){case"keyup":return k_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vr=!1;function I_(e,n){switch(e){case"compositionend":return kd(n);case"keypress":return n.which!==32?null:(xd=!0,Cd);case"textInput":return e=n.data,e===Cd&&xd?null:e;default:return null}}function T_(e,n){if(vr)return e==="compositionend"||!Vl&&Sd(e,n)?(e=gd(),Os=zl=vn=null,vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ed&&n.locale!=="ko"?null:n.data;default:return null}}var R_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!R_[e.type]:n==="textarea"}function Id(e,n,s,a){Qc(a),n=Ws(n,"onChange"),0<n.length&&(s=new Bl("onChange","change",null,s,a),e.push({event:s,listeners:n}))}var mi=null,gi=null;function P_(e){Vd(e,0)}function js(e){var n=Sr(e);if(Lc(n))return e}function D_(e,n){if(e==="change")return n}var Td=!1;if(h){var Gl;if(h){var Ql="oninput"in document;if(!Ql){var Rd=document.createElement("div");Rd.setAttribute("oninput","return;"),Ql=typeof Rd.oninput=="function"}Gl=Ql}else Gl=!1;Td=Gl&&(!document.documentMode||9<document.documentMode)}function Pd(){mi&&(mi.detachEvent("onpropertychange",Dd),gi=mi=null)}function Dd(e){if(e.propertyName==="value"&&js(gi)){var n=[];Id(n,gi,e,Nl(e)),Xc(P_,n)}}function b_(e,n,s){e==="focusin"?(Pd(),mi=n,gi=s,mi.attachEvent("onpropertychange",Dd)):e==="focusout"&&Pd()}function A_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return js(gi)}function O_(e,n){if(e==="click")return js(n)}function L_(e,n){if(e==="input"||e==="change")return js(n)}function M_(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rt=typeof Object.is=="function"?Object.is:M_;function _i(e,n){if(Rt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),a=Object.keys(n);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!p.call(n,c)||!Rt(e[c],n[c]))return!1}return!0}function bd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ad(e,n){var s=bd(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=n&&a>=n)return{node:s,offset:n-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=bd(s)}}function Od(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Od(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ld(){for(var e=window,n=Es();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Es(e.document)}return n}function ql(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function F_(e){var n=Ld(),s=e.focusedElem,a=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Od(s.ownerDocument.documentElement,s)){if(a!==null&&ql(s)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!e.extend&&f>a&&(c=a,a=f,f=c),c=Ad(s,f);var m=Ad(s,a);c&&m&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),f>a?(e.addRange(n),e.extend(m.node,m.offset)):(n.setEnd(m.node,m.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var j_=h&&"documentMode"in document&&11>=document.documentMode,wr=null,Kl=null,yi=null,Yl=!1;function Md(e,n,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yl||wr==null||wr!==Es(a)||(a=wr,"selectionStart"in a&&ql(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),yi&&_i(yi,a)||(yi=a,a=Ws(Kl,"onSelect"),0<a.length&&(n=new Bl("onSelect","select",null,n,s),e.push({event:n,listeners:a}),n.target=wr)))}function zs(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Er={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},Xl={},Fd={};h&&(Fd=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function Bs(e){if(Xl[e])return Xl[e];if(!Er[e])return e;var n=Er[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Fd)return Xl[e]=n[s];return e}var jd=Bs("animationend"),zd=Bs("animationiteration"),Bd=Bs("animationstart"),Ud=Bs("transitionend"),Wd=new Map,$d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,n){Wd.set(e,n),u(n,[e])}for(var Jl=0;Jl<$d.length;Jl++){var Zl=$d[Jl],z_=Zl.toLowerCase(),B_=Zl[0].toUpperCase()+Zl.slice(1);wn(z_,"on"+B_)}wn(jd,"onAnimationEnd"),wn(zd,"onAnimationIteration"),wn(Bd,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Ud,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U_=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function Hd(e,n,s){var a=e.type||"unknown-event";e.currentTarget=s,zg(a,n,void 0,e),e.currentTarget=null}function Vd(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],c=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var m=a.length-1;0<=m;m--){var _=a[m],C=_.instance,I=_.currentTarget;if(_=_.listener,C!==f&&c.isPropagationStopped())break e;Hd(c,_,I),f=C}else for(m=0;m<a.length;m++){if(_=a[m],C=_.instance,I=_.currentTarget,_=_.listener,C!==f&&c.isPropagationStopped())break e;Hd(c,_,I),f=C}}}if(Ss)throw e=Pl,Ss=!1,Pl=null,e}function we(e,n){var s=n[la];s===void 0&&(s=n[la]=new Set);var a=e+"__bubble";s.has(a)||(Gd(n,e,2,!1),s.add(a))}function ea(e,n,s){var a=0;n&&(a|=4),Gd(s,e,a,n)}var Us="_reactListening"+Math.random().toString(36).slice(2);function wi(e){if(!e[Us]){e[Us]=!0,o.forEach(function(s){s!=="selectionchange"&&(U_.has(s)||ea(s,!1,e),ea(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Us]||(n[Us]=!0,ea("selectionchange",!1,n))}}function Gd(e,n,s,a){switch(md(n)){case 1:var c=t_;break;case 4:c=n_;break;default:c=Fl}s=c.bind(null,n,s,e),c=void 0,!Rl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function ta(e,n,s,a,c){var f=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var _=a.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(m===4)for(m=a.return;m!==null;){var C=m.tag;if((C===3||C===4)&&(C=m.stateNode.containerInfo,C===c||C.nodeType===8&&C.parentNode===c))return;m=m.return}for(;_!==null;){if(m=Vn(_),m===null)return;if(C=m.tag,C===5||C===6){a=f=m;continue e}_=_.parentNode}}a=a.return}Xc(function(){var I=f,L=Nl(s),M=[];e:{var b=Wd.get(e);if(b!==void 0){var W=Bl,V=e;switch(e){case"keypress":if(Ls(s)===0)break e;case"keydown":case"keyup":W=__;break;case"focusin":V="focus",W=$l;break;case"focusout":V="blur",W=$l;break;case"beforeblur":case"afterblur":W=$l;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=s_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=w_;break;case jd:case zd:case Bd:W=a_;break;case Ud:W=C_;break;case"scroll":W=r_;break;case"wheel":W=S_;break;case"copy":case"cut":case"paste":W=c_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=wd}var G=(n&4)!==0,Le=!G&&e==="scroll",k=G?b!==null?b+"Capture":null:b;G=[];for(var x=I,N;x!==null;){N=x;var F=N.stateNode;if(N.tag===5&&F!==null&&(N=F,k!==null&&(F=ni(x,k),F!=null&&G.push(Ei(x,F,N)))),Le)break;x=x.return}0<G.length&&(b=new W(b,V,null,s,L),M.push({event:b,listeners:G}))}}if(!(n&7)){e:{if(b=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",b&&s!==kl&&(V=s.relatedTarget||s.fromElement)&&(Vn(V)||V[en]))break e;if((W||b)&&(b=L.window===L?L:(b=L.ownerDocument)?b.defaultView||b.parentWindow:window,W?(V=s.relatedTarget||s.toElement,W=I,V=V?Vn(V):null,V!==null&&(Le=Hn(V),V!==Le||V.tag!==5&&V.tag!==6)&&(V=null)):(W=null,V=I),W!==V)){if(G=yd,F="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(G=wd,F="onPointerLeave",k="onPointerEnter",x="pointer"),Le=W==null?b:Sr(W),N=V==null?b:Sr(V),b=new G(F,x+"leave",W,s,L),b.target=Le,b.relatedTarget=N,F=null,Vn(L)===I&&(G=new G(k,x+"enter",V,s,L),G.target=N,G.relatedTarget=Le,F=G),Le=F,W&&V)t:{for(G=W,k=V,x=0,N=G;N;N=Cr(N))x++;for(N=0,F=k;F;F=Cr(F))N++;for(;0<x-N;)G=Cr(G),x--;for(;0<N-x;)k=Cr(k),N--;for(;x--;){if(G===k||k!==null&&G===k.alternate)break t;G=Cr(G),k=Cr(k)}G=null}else G=null;W!==null&&Qd(M,b,W,G,!1),V!==null&&Le!==null&&Qd(M,Le,V,G,!0)}}e:{if(b=I?Sr(I):window,W=b.nodeName&&b.nodeName.toLowerCase(),W==="select"||W==="input"&&b.type==="file")var Q=D_;else if(Nd(b))if(Td)Q=L_;else{Q=A_;var q=b_}else(W=b.nodeName)&&W.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(Q=O_);if(Q&&(Q=Q(e,I))){Id(M,Q,s,L);break e}q&&q(e,b,I),e==="focusout"&&(q=b._wrapperState)&&q.controlled&&b.type==="number"&&wl(b,"number",b.value)}switch(q=I?Sr(I):window,e){case"focusin":(Nd(q)||q.contentEditable==="true")&&(wr=q,Kl=I,yi=null);break;case"focusout":yi=Kl=wr=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,Md(M,s,L);break;case"selectionchange":if(j_)break;case"keydown":case"keyup":Md(M,s,L)}var K;if(Vl)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else vr?Sd(e,s)&&(Z="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Z="onCompositionStart");Z&&(Ed&&s.locale!=="ko"&&(vr||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&vr&&(K=gd()):(vn=L,zl="value"in vn?vn.value:vn.textContent,vr=!0)),q=Ws(I,Z),0<q.length&&(Z=new vd(Z,e,null,s,L),M.push({event:Z,listeners:q}),K?Z.data=K:(K=kd(s),K!==null&&(Z.data=K)))),(K=N_?I_(e,s):T_(e,s))&&(I=Ws(I,"onBeforeInput"),0<I.length&&(L=new vd("onBeforeInput","beforeinput",null,s,L),M.push({event:L,listeners:I}),L.data=K))}Vd(M,n)})}function Ei(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ws(e,n){for(var s=n+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=ni(e,s),f!=null&&a.unshift(Ei(e,f,c)),f=ni(e,n),f!=null&&a.push(Ei(e,f,c))),e=e.return}return a}function Cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qd(e,n,s,a,c){for(var f=n._reactName,m=[];s!==null&&s!==a;){var _=s,C=_.alternate,I=_.stateNode;if(C!==null&&C===a)break;_.tag===5&&I!==null&&(_=I,c?(C=ni(s,f),C!=null&&m.unshift(Ei(s,C,_))):c||(C=ni(s,f),C!=null&&m.push(Ei(s,C,_)))),s=s.return}m.length!==0&&e.push({event:n,listeners:m})}var W_=/\r\n?/g,$_=/\u0000|\uFFFD/g;function qd(e){return(typeof e=="string"?e:""+e).replace(W_,`
`).replace($_,"")}function $s(e,n,s){if(n=qd(n),qd(e)!==n&&s)throw Error(r(425))}function Hs(){}var na=null,ra=null;function ia(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sa=typeof setTimeout=="function"?setTimeout:void 0,H_=typeof clearTimeout=="function"?clearTimeout:void 0,Kd=typeof Promise=="function"?Promise:void 0,V_=typeof queueMicrotask=="function"?queueMicrotask:typeof Kd<"u"?function(e){return Kd.resolve(null).then(e).catch(G_)}:sa;function G_(e){setTimeout(function(){throw e})}function oa(e,n){var s=n,a=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){e.removeChild(c),di(n);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);di(n)}function En(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Yd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var xr=Math.random().toString(36).slice(2),Wt="__reactFiber$"+xr,Ci="__reactProps$"+xr,en="__reactContainer$"+xr,la="__reactEvents$"+xr,Q_="__reactListeners$"+xr,q_="__reactHandles$"+xr;function Vn(e){var n=e[Wt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[en]||s[Wt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Yd(e);e!==null;){if(s=e[Wt])return s;e=Yd(e)}return n}e=s,s=e.parentNode}return null}function xi(e){return e=e[Wt]||e[en],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Vs(e){return e[Ci]||null}var aa=[],kr=-1;function Cn(e){return{current:e}}function Ee(e){0>kr||(e.current=aa[kr],aa[kr]=null,kr--)}function _e(e,n){kr++,aa[kr]=e.current,e.current=n}var xn={},Xe=Cn(xn),ot=Cn(!1),Gn=xn;function Nr(e,n){var s=e.type.contextTypes;if(!s)return xn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in s)c[f]=n[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function lt(e){return e=e.childContextTypes,e!=null}function Gs(){Ee(ot),Ee(Xe)}function Xd(e,n,s){if(Xe.current!==xn)throw Error(r(168));_e(Xe,n),_e(ot,s)}function Jd(e,n,s){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(r(108,ge(e)||"Unknown",c));return H({},s,a)}function Qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xn,Gn=Xe.current,_e(Xe,e),_e(ot,ot.current),!0}function Zd(e,n,s){var a=e.stateNode;if(!a)throw Error(r(169));s?(e=Jd(e,n,Gn),a.__reactInternalMemoizedMergedChildContext=e,Ee(ot),Ee(Xe),_e(Xe,e)):Ee(ot),_e(ot,s)}var tn=null,qs=!1,ua=!1;function ef(e){tn===null?tn=[e]:tn.push(e)}function K_(e){qs=!0,ef(e)}function Sn(){if(!ua&&tn!==null){ua=!0;var e=0,n=he;try{var s=tn;for(he=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}tn=null,qs=!1}catch(c){throw tn!==null&&(tn=tn.slice(e+1)),nd(Dl,Sn),c}finally{he=n,ua=!1}}return null}var Ir=[],Tr=0,Ks=null,Ys=0,Et=[],Ct=0,Qn=null,nn=1,rn="";function qn(e,n){Ir[Tr++]=Ys,Ir[Tr++]=Ks,Ks=e,Ys=n}function tf(e,n,s){Et[Ct++]=nn,Et[Ct++]=rn,Et[Ct++]=Qn,Qn=e;var a=nn;e=rn;var c=32-Tt(a)-1;a&=~(1<<c),s+=1;var f=32-Tt(n)+c;if(30<f){var m=c-c%5;f=(a&(1<<m)-1).toString(32),a>>=m,c-=m,nn=1<<32-Tt(n)+c|s<<c|a,rn=f+e}else nn=1<<f|s<<c|a,rn=e}function ca(e){e.return!==null&&(qn(e,1),tf(e,1,0))}function da(e){for(;e===Ks;)Ks=Ir[--Tr],Ir[Tr]=null,Ys=Ir[--Tr],Ir[Tr]=null;for(;e===Qn;)Qn=Et[--Ct],Et[Ct]=null,rn=Et[--Ct],Et[Ct]=null,nn=Et[--Ct],Et[Ct]=null}var yt=null,vt=null,Se=!1,Pt=null;function nf(e,n){var s=Nt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function rf(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,yt=e,vt=En(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,yt=e,vt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Qn!==null?{id:nn,overflow:rn}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Nt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,yt=e,vt=null,!0):!1;default:return!1}}function fa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ha(e){if(Se){var n=vt;if(n){var s=n;if(!rf(e,n)){if(fa(e))throw Error(r(418));n=En(s.nextSibling);var a=yt;n&&rf(e,n)?nf(a,s):(e.flags=e.flags&-4097|2,Se=!1,yt=e)}}else{if(fa(e))throw Error(r(418));e.flags=e.flags&-4097|2,Se=!1,yt=e}}}function sf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function Xs(e){if(e!==yt)return!1;if(!Se)return sf(e),Se=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!ia(e.type,e.memoizedProps)),n&&(n=vt)){if(fa(e))throw of(),Error(r(418));for(;n;)nf(e,n),n=En(n.nextSibling)}if(sf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){vt=En(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}vt=null}}else vt=yt?En(e.stateNode.nextSibling):null;return!0}function of(){for(var e=vt;e;)e=En(e.nextSibling)}function Rr(){vt=yt=null,Se=!1}function pa(e){Pt===null?Pt=[e]:Pt.push(e)}var Y_=ee.ReactCurrentBatchConfig;function Si(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var a=s.stateNode}if(!a)throw Error(r(147,e));var c=a,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(m){var _=c.refs;m===null?delete _[f]:_[f]=m},n._stringRef=f,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Js(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function lf(e){var n=e._init;return n(e._payload)}function af(e){function n(k,x){if(e){var N=k.deletions;N===null?(k.deletions=[x],k.flags|=16):N.push(x)}}function s(k,x){if(!e)return null;for(;x!==null;)n(k,x),x=x.sibling;return null}function a(k,x){for(k=new Map;x!==null;)x.key!==null?k.set(x.key,x):k.set(x.index,x),x=x.sibling;return k}function c(k,x){return k=bn(k,x),k.index=0,k.sibling=null,k}function f(k,x,N){return k.index=N,e?(N=k.alternate,N!==null?(N=N.index,N<x?(k.flags|=2,x):N):(k.flags|=2,x)):(k.flags|=1048576,x)}function m(k){return e&&k.alternate===null&&(k.flags|=2),k}function _(k,x,N,F){return x===null||x.tag!==6?(x=su(N,k.mode,F),x.return=k,x):(x=c(x,N),x.return=k,x)}function C(k,x,N,F){var Q=N.type;return Q===ke?L(k,x,N.props.children,F,N.key):x!==null&&(x.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===st&&lf(Q)===x.type)?(F=c(x,N.props),F.ref=Si(k,x,N),F.return=k,F):(F=xo(N.type,N.key,N.props,null,k.mode,F),F.ref=Si(k,x,N),F.return=k,F)}function I(k,x,N,F){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=ou(N,k.mode,F),x.return=k,x):(x=c(x,N.children||[]),x.return=k,x)}function L(k,x,N,F,Q){return x===null||x.tag!==7?(x=nr(N,k.mode,F,Q),x.return=k,x):(x=c(x,N),x.return=k,x)}function M(k,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=su(""+x,k.mode,N),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case pe:return N=xo(x.type,x.key,x.props,null,k.mode,N),N.ref=Si(k,null,x),N.return=k,N;case Pe:return x=ou(x,k.mode,N),x.return=k,x;case st:var F=x._init;return M(k,F(x._payload),N)}if(Zr(x)||X(x))return x=nr(x,k.mode,N,null),x.return=k,x;Js(k,x)}return null}function b(k,x,N,F){var Q=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return Q!==null?null:_(k,x,""+N,F);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case pe:return N.key===Q?C(k,x,N,F):null;case Pe:return N.key===Q?I(k,x,N,F):null;case st:return Q=N._init,b(k,x,Q(N._payload),F)}if(Zr(N)||X(N))return Q!==null?null:L(k,x,N,F,null);Js(k,N)}return null}function W(k,x,N,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number")return k=k.get(N)||null,_(x,k,""+F,Q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case pe:return k=k.get(F.key===null?N:F.key)||null,C(x,k,F,Q);case Pe:return k=k.get(F.key===null?N:F.key)||null,I(x,k,F,Q);case st:var q=F._init;return W(k,x,N,q(F._payload),Q)}if(Zr(F)||X(F))return k=k.get(N)||null,L(x,k,F,Q,null);Js(x,F)}return null}function V(k,x,N,F){for(var Q=null,q=null,K=x,Z=x=0,Ve=null;K!==null&&Z<N.length;Z++){K.index>Z?(Ve=K,K=null):Ve=K.sibling;var ce=b(k,K,N[Z],F);if(ce===null){K===null&&(K=Ve);break}e&&K&&ce.alternate===null&&n(k,K),x=f(ce,x,Z),q===null?Q=ce:q.sibling=ce,q=ce,K=Ve}if(Z===N.length)return s(k,K),Se&&qn(k,Z),Q;if(K===null){for(;Z<N.length;Z++)K=M(k,N[Z],F),K!==null&&(x=f(K,x,Z),q===null?Q=K:q.sibling=K,q=K);return Se&&qn(k,Z),Q}for(K=a(k,K);Z<N.length;Z++)Ve=W(K,k,Z,N[Z],F),Ve!==null&&(e&&Ve.alternate!==null&&K.delete(Ve.key===null?Z:Ve.key),x=f(Ve,x,Z),q===null?Q=Ve:q.sibling=Ve,q=Ve);return e&&K.forEach(function(An){return n(k,An)}),Se&&qn(k,Z),Q}function G(k,x,N,F){var Q=X(N);if(typeof Q!="function")throw Error(r(150));if(N=Q.call(N),N==null)throw Error(r(151));for(var q=Q=null,K=x,Z=x=0,Ve=null,ce=N.next();K!==null&&!ce.done;Z++,ce=N.next()){K.index>Z?(Ve=K,K=null):Ve=K.sibling;var An=b(k,K,ce.value,F);if(An===null){K===null&&(K=Ve);break}e&&K&&An.alternate===null&&n(k,K),x=f(An,x,Z),q===null?Q=An:q.sibling=An,q=An,K=Ve}if(ce.done)return s(k,K),Se&&qn(k,Z),Q;if(K===null){for(;!ce.done;Z++,ce=N.next())ce=M(k,ce.value,F),ce!==null&&(x=f(ce,x,Z),q===null?Q=ce:q.sibling=ce,q=ce);return Se&&qn(k,Z),Q}for(K=a(k,K);!ce.done;Z++,ce=N.next())ce=W(K,k,Z,ce.value,F),ce!==null&&(e&&ce.alternate!==null&&K.delete(ce.key===null?Z:ce.key),x=f(ce,x,Z),q===null?Q=ce:q.sibling=ce,q=ce);return e&&K.forEach(function(Ty){return n(k,Ty)}),Se&&qn(k,Z),Q}function Le(k,x,N,F){if(typeof N=="object"&&N!==null&&N.type===ke&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case pe:e:{for(var Q=N.key,q=x;q!==null;){if(q.key===Q){if(Q=N.type,Q===ke){if(q.tag===7){s(k,q.sibling),x=c(q,N.props.children),x.return=k,k=x;break e}}else if(q.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===st&&lf(Q)===q.type){s(k,q.sibling),x=c(q,N.props),x.ref=Si(k,q,N),x.return=k,k=x;break e}s(k,q);break}else n(k,q);q=q.sibling}N.type===ke?(x=nr(N.props.children,k.mode,F,N.key),x.return=k,k=x):(F=xo(N.type,N.key,N.props,null,k.mode,F),F.ref=Si(k,x,N),F.return=k,k=F)}return m(k);case Pe:e:{for(q=N.key;x!==null;){if(x.key===q)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){s(k,x.sibling),x=c(x,N.children||[]),x.return=k,k=x;break e}else{s(k,x);break}else n(k,x);x=x.sibling}x=ou(N,k.mode,F),x.return=k,k=x}return m(k);case st:return q=N._init,Le(k,x,q(N._payload),F)}if(Zr(N))return V(k,x,N,F);if(X(N))return G(k,x,N,F);Js(k,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(s(k,x.sibling),x=c(x,N),x.return=k,k=x):(s(k,x),x=su(N,k.mode,F),x.return=k,k=x),m(k)):s(k,x)}return Le}var Pr=af(!0),uf=af(!1),Zs=Cn(null),eo=null,Dr=null,ma=null;function ga(){ma=Dr=eo=null}function _a(e){var n=Zs.current;Ee(Zs),e._currentValue=n}function ya(e,n,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===s)break;e=e.return}}function br(e,n){eo=e,ma=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(at=!0),e.firstContext=null)}function xt(e){var n=e._currentValue;if(ma!==e)if(e={context:e,memoizedValue:n,next:null},Dr===null){if(eo===null)throw Error(r(308));Dr=e,eo.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return n}var Kn=null;function va(e){Kn===null?Kn=[e]:Kn.push(e)}function cf(e,n,s,a){var c=n.interleaved;return c===null?(s.next=s,va(n)):(s.next=c.next,c.next=s),n.interleaved=s,sn(e,a)}function sn(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var kn=!1;function wa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function df(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Nn(e,n,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,le&2){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,sn(e,s)}return c=a.interleaved,c===null?(n.next=n,va(a)):(n.next=c.next,c.next=n),a.interleaved=n,sn(e,s)}function to(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,Ol(e,s)}}function ff(e,n){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var m={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?c=f=m:f=f.next=m,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function no(e,n,s,a){var c=e.updateQueue;kn=!1;var f=c.firstBaseUpdate,m=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var C=_,I=C.next;C.next=null,m===null?f=I:m.next=I,m=C;var L=e.alternate;L!==null&&(L=L.updateQueue,_=L.lastBaseUpdate,_!==m&&(_===null?L.firstBaseUpdate=I:_.next=I,L.lastBaseUpdate=C))}if(f!==null){var M=c.baseState;m=0,L=I=C=null,_=f;do{var b=_.lane,W=_.eventTime;if((a&b)===b){L!==null&&(L=L.next={eventTime:W,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var V=e,G=_;switch(b=n,W=s,G.tag){case 1:if(V=G.payload,typeof V=="function"){M=V.call(W,M,b);break e}M=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=G.payload,b=typeof V=="function"?V.call(W,M,b):V,b==null)break e;M=H({},M,b);break e;case 2:kn=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,b=c.effects,b===null?c.effects=[_]:b.push(_))}else W={eventTime:W,lane:b,tag:_.tag,payload:_.payload,callback:_.callback,next:null},L===null?(I=L=W,C=M):L=L.next=W,m|=b;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;b=_,_=b.next,b.next=null,c.lastBaseUpdate=b,c.shared.pending=null}}while(!0);if(L===null&&(C=M),c.baseState=C,c.firstBaseUpdate=I,c.lastBaseUpdate=L,n=c.shared.interleaved,n!==null){c=n;do m|=c.lane,c=c.next;while(c!==n)}else f===null&&(c.shared.lanes=0);Jn|=m,e.lanes=m,e.memoizedState=M}}function hf(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(r(191,c));c.call(a)}}}var ki={},$t=Cn(ki),Ni=Cn(ki),Ii=Cn(ki);function Yn(e){if(e===ki)throw Error(r(174));return e}function Ea(e,n){switch(_e(Ii,n),_e(Ni,e),_e($t,ki),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Cl(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Cl(n,e)}Ee($t),_e($t,n)}function Ar(){Ee($t),Ee(Ni),Ee(Ii)}function pf(e){Yn(Ii.current);var n=Yn($t.current),s=Cl(n,e.type);n!==s&&(_e(Ni,e),_e($t,s))}function Ca(e){Ni.current===e&&(Ee($t),Ee(Ni))}var Ne=Cn(0);function ro(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xa=[];function Sa(){for(var e=0;e<xa.length;e++)xa[e]._workInProgressVersionPrimary=null;xa.length=0}var io=ee.ReactCurrentDispatcher,ka=ee.ReactCurrentBatchConfig,Xn=0,Ie=null,je=null,$e=null,so=!1,Ti=!1,Ri=0,X_=0;function Je(){throw Error(r(321))}function Na(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Rt(e[s],n[s]))return!1;return!0}function Ia(e,n,s,a,c,f){if(Xn=f,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,io.current=e===null||e.memoizedState===null?ty:ny,e=s(a,c),Ti){f=0;do{if(Ti=!1,Ri=0,25<=f)throw Error(r(301));f+=1,$e=je=null,n.updateQueue=null,io.current=ry,e=s(a,c)}while(Ti)}if(io.current=ao,n=je!==null&&je.next!==null,Xn=0,$e=je=Ie=null,so=!1,n)throw Error(r(300));return e}function Ta(){var e=Ri!==0;return Ri=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Ie.memoizedState=$e=e:$e=$e.next=e,$e}function St(){if(je===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var n=$e===null?Ie.memoizedState:$e.next;if(n!==null)$e=n,je=e;else{if(e===null)throw Error(r(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},$e===null?Ie.memoizedState=$e=e:$e=$e.next=e}return $e}function Pi(e,n){return typeof n=="function"?n(e):n}function Ra(e){var n=St(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var a=je,c=a.baseQueue,f=s.pending;if(f!==null){if(c!==null){var m=c.next;c.next=f.next,f.next=m}a.baseQueue=c=f,s.pending=null}if(c!==null){f=c.next,a=a.baseState;var _=m=null,C=null,I=f;do{var L=I.lane;if((Xn&L)===L)C!==null&&(C=C.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),a=I.hasEagerState?I.eagerState:e(a,I.action);else{var M={lane:L,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};C===null?(_=C=M,m=a):C=C.next=M,Ie.lanes|=L,Jn|=L}I=I.next}while(I!==null&&I!==f);C===null?m=a:C.next=_,Rt(a,n.memoizedState)||(at=!0),n.memoizedState=a,n.baseState=m,n.baseQueue=C,s.lastRenderedState=a}if(e=s.interleaved,e!==null){c=e;do f=c.lane,Ie.lanes|=f,Jn|=f,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Pa(e){var n=St(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var a=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var m=c=c.next;do f=e(f,m.action),m=m.next;while(m!==c);Rt(f,n.memoizedState)||(at=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,a]}function mf(){}function gf(e,n){var s=Ie,a=St(),c=n(),f=!Rt(a.memoizedState,c);if(f&&(a.memoizedState=c,at=!0),a=a.queue,Da(vf.bind(null,s,a,e),[e]),a.getSnapshot!==n||f||$e!==null&&$e.memoizedState.tag&1){if(s.flags|=2048,Di(9,yf.bind(null,s,a,c,n),void 0,null),He===null)throw Error(r(349));Xn&30||_f(s,n,c)}return c}function _f(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ie.updateQueue,n===null?(n={lastEffect:null,stores:null},Ie.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function yf(e,n,s,a){n.value=s,n.getSnapshot=a,wf(n)&&Ef(e)}function vf(e,n,s){return s(function(){wf(n)&&Ef(e)})}function wf(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Rt(e,s)}catch{return!0}}function Ef(e){var n=sn(e,1);n!==null&&Ot(n,e,1,-1)}function Cf(e){var n=Ht();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n.queue=e,e=e.dispatch=ey.bind(null,Ie,e),[n.memoizedState,e]}function Di(e,n,s,a){return e={tag:e,create:n,destroy:s,deps:a,next:null},n=Ie.updateQueue,n===null?(n={lastEffect:null,stores:null},Ie.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,n.lastEffect=e)),e}function xf(){return St().memoizedState}function oo(e,n,s,a){var c=Ht();Ie.flags|=e,c.memoizedState=Di(1|n,s,void 0,a===void 0?null:a)}function lo(e,n,s,a){var c=St();a=a===void 0?null:a;var f=void 0;if(je!==null){var m=je.memoizedState;if(f=m.destroy,a!==null&&Na(a,m.deps)){c.memoizedState=Di(n,s,f,a);return}}Ie.flags|=e,c.memoizedState=Di(1|n,s,f,a)}function Sf(e,n){return oo(8390656,8,e,n)}function Da(e,n){return lo(2048,8,e,n)}function kf(e,n){return lo(4,2,e,n)}function Nf(e,n){return lo(4,4,e,n)}function If(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tf(e,n,s){return s=s!=null?s.concat([e]):null,lo(4,4,If.bind(null,n,e),s)}function ba(){}function Rf(e,n){var s=St();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&Na(n,a[1])?a[0]:(s.memoizedState=[e,n],e)}function Pf(e,n){var s=St();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&Na(n,a[1])?a[0]:(e=e(),s.memoizedState=[e,n],e)}function Df(e,n,s){return Xn&21?(Rt(s,n)||(s=od(),Ie.lanes|=s,Jn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=s)}function J_(e,n){var s=he;he=s!==0&&4>s?s:4,e(!0);var a=ka.transition;ka.transition={};try{e(!1),n()}finally{he=s,ka.transition=a}}function bf(){return St().memoizedState}function Z_(e,n,s){var a=Pn(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Af(e))Of(n,s);else if(s=cf(e,n,s,a),s!==null){var c=rt();Ot(s,e,a,c),Lf(s,n,a)}}function ey(e,n,s){var a=Pn(e),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Af(e))Of(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var m=n.lastRenderedState,_=f(m,s);if(c.hasEagerState=!0,c.eagerState=_,Rt(_,m)){var C=n.interleaved;C===null?(c.next=c,va(n)):(c.next=C.next,C.next=c),n.interleaved=c;return}}catch{}finally{}s=cf(e,n,c,a),s!==null&&(c=rt(),Ot(s,e,a,c),Lf(s,n,a))}}function Af(e){var n=e.alternate;return e===Ie||n!==null&&n===Ie}function Of(e,n){Ti=so=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Lf(e,n,s){if(s&4194240){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,Ol(e,s)}}var ao={readContext:xt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},ty={readContext:xt,useCallback:function(e,n){return Ht().memoizedState=[e,n===void 0?null:n],e},useContext:xt,useEffect:Sf,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,oo(4194308,4,If.bind(null,n,e),s)},useLayoutEffect:function(e,n){return oo(4194308,4,e,n)},useInsertionEffect:function(e,n){return oo(4,2,e,n)},useMemo:function(e,n){var s=Ht();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var a=Ht();return n=s!==void 0?s(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Z_.bind(null,Ie,e),[a.memoizedState,e]},useRef:function(e){var n=Ht();return e={current:e},n.memoizedState=e},useState:Cf,useDebugValue:ba,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Cf(!1),n=e[0];return e=J_.bind(null,e[1]),Ht().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var a=Ie,c=Ht();if(Se){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),He===null)throw Error(r(349));Xn&30||_f(a,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Sf(vf.bind(null,a,f,e),[e]),a.flags|=2048,Di(9,yf.bind(null,a,f,s,n),void 0,null),s},useId:function(){var e=Ht(),n=He.identifierPrefix;if(Se){var s=rn,a=nn;s=(a&~(1<<32-Tt(a)-1)).toString(32)+s,n=":"+n+"R"+s,s=Ri++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=X_++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},ny={readContext:xt,useCallback:Rf,useContext:xt,useEffect:Da,useImperativeHandle:Tf,useInsertionEffect:kf,useLayoutEffect:Nf,useMemo:Pf,useReducer:Ra,useRef:xf,useState:function(){return Ra(Pi)},useDebugValue:ba,useDeferredValue:function(e){var n=St();return Df(n,je.memoizedState,e)},useTransition:function(){var e=Ra(Pi)[0],n=St().memoizedState;return[e,n]},useMutableSource:mf,useSyncExternalStore:gf,useId:bf,unstable_isNewReconciler:!1},ry={readContext:xt,useCallback:Rf,useContext:xt,useEffect:Da,useImperativeHandle:Tf,useInsertionEffect:kf,useLayoutEffect:Nf,useMemo:Pf,useReducer:Pa,useRef:xf,useState:function(){return Pa(Pi)},useDebugValue:ba,useDeferredValue:function(e){var n=St();return je===null?n.memoizedState=e:Df(n,je.memoizedState,e)},useTransition:function(){var e=Pa(Pi)[0],n=St().memoizedState;return[e,n]},useMutableSource:mf,useSyncExternalStore:gf,useId:bf,unstable_isNewReconciler:!1};function Dt(e,n){if(e&&e.defaultProps){n=H({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Aa(e,n,s,a){n=e.memoizedState,s=s(a,n),s=s==null?n:H({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var uo={isMounted:function(e){return(e=e._reactInternals)?Hn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var a=rt(),c=Pn(e),f=on(a,c);f.payload=n,s!=null&&(f.callback=s),n=Nn(e,f,c),n!==null&&(Ot(n,e,c,a),to(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var a=rt(),c=Pn(e),f=on(a,c);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Nn(e,f,c),n!==null&&(Ot(n,e,c,a),to(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=rt(),a=Pn(e),c=on(s,a);c.tag=2,n!=null&&(c.callback=n),n=Nn(e,c,a),n!==null&&(Ot(n,e,a,s),to(n,e,a))}};function Mf(e,n,s,a,c,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,m):n.prototype&&n.prototype.isPureReactComponent?!_i(s,a)||!_i(c,f):!0}function Ff(e,n,s){var a=!1,c=xn,f=n.contextType;return typeof f=="object"&&f!==null?f=xt(f):(c=lt(n)?Gn:Xe.current,a=n.contextTypes,f=(a=a!=null)?Nr(e,c):xn),n=new n(s,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=uo,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),n}function jf(e,n,s,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,a),n.state!==e&&uo.enqueueReplaceState(n,n.state,null)}function Oa(e,n,s,a){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},wa(e);var f=n.contextType;typeof f=="object"&&f!==null?c.context=xt(f):(f=lt(n)?Gn:Xe.current,c.context=Nr(e,f)),c.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Aa(e,n,f,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&uo.enqueueReplaceState(c,c.state,null),no(e,s,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Or(e,n){try{var s="",a=n;do s+=ae(a),a=a.return;while(a);var c=s}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:c,digest:null}}function La(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Ma(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var iy=typeof WeakMap=="function"?WeakMap:Map;function zf(e,n,s){s=on(-1,s),s.tag=3,s.payload={element:null};var a=n.value;return s.callback=function(){_o||(_o=!0,Xa=a),Ma(e,n)},s}function Bf(e,n,s){s=on(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;s.payload=function(){return a(c)},s.callback=function(){Ma(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){Ma(e,n),typeof a!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var m=n.stack;this.componentDidCatch(n.value,{componentStack:m!==null?m:""})}),s}function Uf(e,n,s){var a=e.pingCache;if(a===null){a=e.pingCache=new iy;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(s)||(c.add(s),e=yy.bind(null,e,n,s),n.then(e,e))}function Wf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function $f(e,n,s,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=on(-1,1),n.tag=2,Nn(s,n,1))),s.lanes|=1),e)}var sy=ee.ReactCurrentOwner,at=!1;function nt(e,n,s,a){n.child=e===null?uf(n,null,s,a):Pr(n,e.child,s,a)}function Hf(e,n,s,a,c){s=s.render;var f=n.ref;return br(n,c),a=Ia(e,n,s,a,f,c),s=Ta(),e!==null&&!at?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,ln(e,n,c)):(Se&&s&&ca(n),n.flags|=1,nt(e,n,a,c),n.child)}function Vf(e,n,s,a,c){if(e===null){var f=s.type;return typeof f=="function"&&!iu(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=f,Gf(e,n,f,a,c)):(e=xo(s.type,null,a,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&c)){var m=f.memoizedProps;if(s=s.compare,s=s!==null?s:_i,s(m,a)&&e.ref===n.ref)return ln(e,n,c)}return n.flags|=1,e=bn(f,a),e.ref=n.ref,e.return=n,n.child=e}function Gf(e,n,s,a,c){if(e!==null){var f=e.memoizedProps;if(_i(f,a)&&e.ref===n.ref)if(at=!1,n.pendingProps=a=f,(e.lanes&c)!==0)e.flags&131072&&(at=!0);else return n.lanes=e.lanes,ln(e,n,c)}return Fa(e,n,s,a,c)}function Qf(e,n,s){var a=n.pendingProps,c=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Mr,wt),wt|=s;else{if(!(s&1073741824))return e=f!==null?f.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,_e(Mr,wt),wt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:s,_e(Mr,wt),wt|=a}else f!==null?(a=f.baseLanes|s,n.memoizedState=null):a=s,_e(Mr,wt),wt|=a;return nt(e,n,c,s),n.child}function qf(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Fa(e,n,s,a,c){var f=lt(s)?Gn:Xe.current;return f=Nr(n,f),br(n,c),s=Ia(e,n,s,a,f,c),a=Ta(),e!==null&&!at?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,ln(e,n,c)):(Se&&a&&ca(n),n.flags|=1,nt(e,n,s,c),n.child)}function Kf(e,n,s,a,c){if(lt(s)){var f=!0;Qs(n)}else f=!1;if(br(n,c),n.stateNode===null)fo(e,n),Ff(n,s,a),Oa(n,s,a,c),a=!0;else if(e===null){var m=n.stateNode,_=n.memoizedProps;m.props=_;var C=m.context,I=s.contextType;typeof I=="object"&&I!==null?I=xt(I):(I=lt(s)?Gn:Xe.current,I=Nr(n,I));var L=s.getDerivedStateFromProps,M=typeof L=="function"||typeof m.getSnapshotBeforeUpdate=="function";M||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==a||C!==I)&&jf(n,m,a,I),kn=!1;var b=n.memoizedState;m.state=b,no(n,a,m,c),C=n.memoizedState,_!==a||b!==C||ot.current||kn?(typeof L=="function"&&(Aa(n,s,L,a),C=n.memoizedState),(_=kn||Mf(n,s,_,a,b,C,I))?(M||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=C),m.props=a,m.state=C,m.context=I,a=_):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{m=n.stateNode,df(e,n),_=n.memoizedProps,I=n.type===n.elementType?_:Dt(n.type,_),m.props=I,M=n.pendingProps,b=m.context,C=s.contextType,typeof C=="object"&&C!==null?C=xt(C):(C=lt(s)?Gn:Xe.current,C=Nr(n,C));var W=s.getDerivedStateFromProps;(L=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==M||b!==C)&&jf(n,m,a,C),kn=!1,b=n.memoizedState,m.state=b,no(n,a,m,c);var V=n.memoizedState;_!==M||b!==V||ot.current||kn?(typeof W=="function"&&(Aa(n,s,W,a),V=n.memoizedState),(I=kn||Mf(n,s,I,a,b,V,C)||!1)?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,V,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,V,C)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&b===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&b===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=V),m.props=a,m.state=V,m.context=C,a=I):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&b===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&b===e.memoizedState||(n.flags|=1024),a=!1)}return ja(e,n,s,a,f,c)}function ja(e,n,s,a,c,f){qf(e,n);var m=(n.flags&128)!==0;if(!a&&!m)return c&&Zd(n,s,!1),ln(e,n,f);a=n.stateNode,sy.current=n;var _=m&&typeof s.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&m?(n.child=Pr(n,e.child,null,f),n.child=Pr(n,null,_,f)):nt(e,n,_,f),n.memoizedState=a.state,c&&Zd(n,s,!0),n.child}function Yf(e){var n=e.stateNode;n.pendingContext?Xd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Xd(e,n.context,!1),Ea(e,n.containerInfo)}function Xf(e,n,s,a,c){return Rr(),pa(c),n.flags|=256,nt(e,n,s,a),n.child}var za={dehydrated:null,treeContext:null,retryLane:0};function Ba(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jf(e,n,s){var a=n.pendingProps,c=Ne.current,f=!1,m=(n.flags&128)!==0,_;if((_=m)||(_=e!==null&&e.memoizedState===null?!1:(c&2)!==0),_?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),_e(Ne,c&1),e===null)return ha(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(m=a.children,e=a.fallback,f?(a=n.mode,f=n.child,m={mode:"hidden",children:m},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=m):f=So(m,a,0,null),e=nr(e,a,s,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Ba(s),n.memoizedState=za,e):Ua(n,m));if(c=e.memoizedState,c!==null&&(_=c.dehydrated,_!==null))return oy(e,n,m,a,_,c,s);if(f){f=a.fallback,m=n.mode,c=e.child,_=c.sibling;var C={mode:"hidden",children:a.children};return!(m&1)&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=C,n.deletions=null):(a=bn(c,C),a.subtreeFlags=c.subtreeFlags&14680064),_!==null?f=bn(_,f):(f=nr(f,m,s,null),f.flags|=2),f.return=n,a.return=n,a.sibling=f,n.child=a,a=f,f=n.child,m=e.child.memoizedState,m=m===null?Ba(s):{baseLanes:m.baseLanes|s,cachePool:null,transitions:m.transitions},f.memoizedState=m,f.childLanes=e.childLanes&~s,n.memoizedState=za,a}return f=e.child,e=f.sibling,a=bn(f,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=s),a.return=n,a.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=a,n.memoizedState=null,a}function Ua(e,n){return n=So({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function co(e,n,s,a){return a!==null&&pa(a),Pr(n,e.child,null,s),e=Ua(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function oy(e,n,s,a,c,f,m){if(s)return n.flags&256?(n.flags&=-257,a=La(Error(r(422))),co(e,n,m,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=a.fallback,c=n.mode,a=So({mode:"visible",children:a.children},c,0,null),f=nr(f,c,m,null),f.flags|=2,a.return=n,f.return=n,a.sibling=f,n.child=a,n.mode&1&&Pr(n,e.child,null,m),n.child.memoizedState=Ba(m),n.memoizedState=za,f);if(!(n.mode&1))return co(e,n,m,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var _=a.dgst;return a=_,f=Error(r(419)),a=La(f,a,void 0),co(e,n,m,a)}if(_=(m&e.childLanes)!==0,at||_){if(a=He,a!==null){switch(m&-m){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|m)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,sn(e,c),Ot(a,e,c,-1))}return ru(),a=La(Error(r(421))),co(e,n,m,a)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=vy.bind(null,e),c._reactRetry=n,null):(e=f.treeContext,vt=En(c.nextSibling),yt=n,Se=!0,Pt=null,e!==null&&(Et[Ct++]=nn,Et[Ct++]=rn,Et[Ct++]=Qn,nn=e.id,rn=e.overflow,Qn=n),n=Ua(n,a.children),n.flags|=4096,n)}function Zf(e,n,s){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),ya(e.return,n,s)}function Wa(e,n,s,a,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=s,f.tailMode=c)}function eh(e,n,s){var a=n.pendingProps,c=a.revealOrder,f=a.tail;if(nt(e,n,a.children,s),a=Ne.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zf(e,s,n);else if(e.tag===19)Zf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(_e(Ne,a),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&ro(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Wa(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&ro(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Wa(n,!0,s,null,f);break;case"together":Wa(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function fo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function ln(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Jn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=bn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=bn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function ly(e,n,s){switch(n.tag){case 3:Yf(n),Rr();break;case 5:pf(n);break;case 1:lt(n.type)&&Qs(n);break;case 4:Ea(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;_e(Zs,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(_e(Ne,Ne.current&1),n.flags|=128,null):s&n.child.childLanes?Jf(e,n,s):(_e(Ne,Ne.current&1),e=ln(e,n,s),e!==null?e.sibling:null);_e(Ne,Ne.current&1);break;case 19:if(a=(s&n.childLanes)!==0,e.flags&128){if(a)return eh(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),_e(Ne,Ne.current),a)break;return null;case 22:case 23:return n.lanes=0,Qf(e,n,s)}return ln(e,n,s)}var th,$a,nh,rh;th=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},$a=function(){},nh=function(e,n,s,a){var c=e.memoizedProps;if(c!==a){e=n.stateNode,Yn($t.current);var f=null;switch(s){case"input":c=yl(e,c),a=yl(e,a),f=[];break;case"select":c=H({},c,{value:void 0}),a=H({},a,{value:void 0}),f=[];break;case"textarea":c=El(e,c),a=El(e,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Hs)}xl(s,a);var m;s=null;for(I in c)if(!a.hasOwnProperty(I)&&c.hasOwnProperty(I)&&c[I]!=null)if(I==="style"){var _=c[I];for(m in _)_.hasOwnProperty(m)&&(s||(s={}),s[m]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(l.hasOwnProperty(I)?f||(f=[]):(f=f||[]).push(I,null));for(I in a){var C=a[I];if(_=c!=null?c[I]:void 0,a.hasOwnProperty(I)&&C!==_&&(C!=null||_!=null))if(I==="style")if(_){for(m in _)!_.hasOwnProperty(m)||C&&C.hasOwnProperty(m)||(s||(s={}),s[m]="");for(m in C)C.hasOwnProperty(m)&&_[m]!==C[m]&&(s||(s={}),s[m]=C[m])}else s||(f||(f=[]),f.push(I,s)),s=C;else I==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,_=_?_.__html:void 0,C!=null&&_!==C&&(f=f||[]).push(I,C)):I==="children"?typeof C!="string"&&typeof C!="number"||(f=f||[]).push(I,""+C):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(l.hasOwnProperty(I)?(C!=null&&I==="onScroll"&&we("scroll",e),f||_===C||(f=[])):(f=f||[]).push(I,C))}s&&(f=f||[]).push("style",s);var I=f;(n.updateQueue=I)&&(n.flags|=4)}},rh=function(e,n,s,a){s!==a&&(n.flags|=4)};function bi(e,n){if(!Se)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=s,n}function ay(e,n,s){var a=n.pendingProps;switch(da(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(n),null;case 1:return lt(n.type)&&Gs(),Ze(n),null;case 3:return a=n.stateNode,Ar(),Ee(ot),Ee(Xe),Sa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xs(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Pt!==null&&(eu(Pt),Pt=null))),$a(e,n),Ze(n),null;case 5:Ca(n);var c=Yn(Ii.current);if(s=n.type,e!==null&&n.stateNode!=null)nh(e,n,s,a,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(r(166));return Ze(n),null}if(e=Yn($t.current),Xs(n)){a=n.stateNode,s=n.type;var f=n.memoizedProps;switch(a[Wt]=n,a[Ci]=f,e=(n.mode&1)!==0,s){case"dialog":we("cancel",a),we("close",a);break;case"iframe":case"object":case"embed":we("load",a);break;case"video":case"audio":for(c=0;c<vi.length;c++)we(vi[c],a);break;case"source":we("error",a);break;case"img":case"image":case"link":we("error",a),we("load",a);break;case"details":we("toggle",a);break;case"input":Mc(a,f),we("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},we("invalid",a);break;case"textarea":zc(a,f),we("invalid",a)}xl(s,f),c=null;for(var m in f)if(f.hasOwnProperty(m)){var _=f[m];m==="children"?typeof _=="string"?a.textContent!==_&&(f.suppressHydrationWarning!==!0&&$s(a.textContent,_,e),c=["children",_]):typeof _=="number"&&a.textContent!==""+_&&(f.suppressHydrationWarning!==!0&&$s(a.textContent,_,e),c=["children",""+_]):l.hasOwnProperty(m)&&_!=null&&m==="onScroll"&&we("scroll",a)}switch(s){case"input":ws(a),jc(a,f,!0);break;case"textarea":ws(a),Uc(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=Hs)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{m=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=m.createElement(s,{is:a.is}):(e=m.createElement(s),s==="select"&&(m=e,a.multiple?m.multiple=!0:a.size&&(m.size=a.size))):e=m.createElementNS(e,s),e[Wt]=n,e[Ci]=a,th(e,n,!1,!1),n.stateNode=e;e:{switch(m=Sl(s,a),s){case"dialog":we("cancel",e),we("close",e),c=a;break;case"iframe":case"object":case"embed":we("load",e),c=a;break;case"video":case"audio":for(c=0;c<vi.length;c++)we(vi[c],e);c=a;break;case"source":we("error",e),c=a;break;case"img":case"image":case"link":we("error",e),we("load",e),c=a;break;case"details":we("toggle",e),c=a;break;case"input":Mc(e,a),c=yl(e,a),we("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=H({},a,{value:void 0}),we("invalid",e);break;case"textarea":zc(e,a),c=El(e,a),we("invalid",e);break;default:c=a}xl(s,c),_=c;for(f in _)if(_.hasOwnProperty(f)){var C=_[f];f==="style"?Vc(e,C):f==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&$c(e,C)):f==="children"?typeof C=="string"?(s!=="textarea"||C!=="")&&ei(e,C):typeof C=="number"&&ei(e,""+C):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?C!=null&&f==="onScroll"&&we("scroll",e):C!=null&&Y(e,f,C,m))}switch(s){case"input":ws(e),jc(e,a,!1);break;case"textarea":ws(e),Uc(e);break;case"option":a.value!=null&&e.setAttribute("value",""+fe(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?pr(e,!!a.multiple,f,!1):a.defaultValue!=null&&pr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Hs)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ze(n),null;case 6:if(e&&n.stateNode!=null)rh(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(r(166));if(s=Yn(Ii.current),Yn($t.current),Xs(n)){if(a=n.stateNode,s=n.memoizedProps,a[Wt]=n,(f=a.nodeValue!==s)&&(e=yt,e!==null))switch(e.tag){case 3:$s(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$s(a.nodeValue,s,(e.mode&1)!==0)}f&&(n.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Wt]=n,n.stateNode=a}return Ze(n),null;case 13:if(Ee(Ne),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&vt!==null&&n.mode&1&&!(n.flags&128))of(),Rr(),n.flags|=98560,f=!1;else if(f=Xs(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Wt]=n}else Rr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ze(n),f=!1}else Pt!==null&&(eu(Pt),Pt=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||Ne.current&1?ze===0&&(ze=3):ru())),n.updateQueue!==null&&(n.flags|=4),Ze(n),null);case 4:return Ar(),$a(e,n),e===null&&wi(n.stateNode.containerInfo),Ze(n),null;case 10:return _a(n.type._context),Ze(n),null;case 17:return lt(n.type)&&Gs(),Ze(n),null;case 19:if(Ee(Ne),f=n.memoizedState,f===null)return Ze(n),null;if(a=(n.flags&128)!==0,m=f.rendering,m===null)if(a)bi(f,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(m=ro(e),m!==null){for(n.flags|=128,bi(f,!1),a=m.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=s,s=n.child;s!==null;)f=s,e=a,f.flags&=14680066,m=f.alternate,m===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=m.childLanes,f.lanes=m.lanes,f.child=m.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=m.memoizedProps,f.memoizedState=m.memoizedState,f.updateQueue=m.updateQueue,f.type=m.type,e=m.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return _e(Ne,Ne.current&1|2),n.child}e=e.sibling}f.tail!==null&&Oe()>Fr&&(n.flags|=128,a=!0,bi(f,!1),n.lanes=4194304)}else{if(!a)if(e=ro(m),e!==null){if(n.flags|=128,a=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),bi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Se)return Ze(n),null}else 2*Oe()-f.renderingStartTime>Fr&&s!==1073741824&&(n.flags|=128,a=!0,bi(f,!1),n.lanes=4194304);f.isBackwards?(m.sibling=n.child,n.child=m):(s=f.last,s!==null?s.sibling=m:n.child=m,f.last=m)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Oe(),n.sibling=null,s=Ne.current,_e(Ne,a?s&1|2:s&1),n):(Ze(n),null);case 22:case 23:return nu(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?wt&1073741824&&(Ze(n),n.subtreeFlags&6&&(n.flags|=8192)):Ze(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function uy(e,n){switch(da(n),n.tag){case 1:return lt(n.type)&&Gs(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ar(),Ee(ot),Ee(Xe),Sa(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Ca(n),null;case 13:if(Ee(Ne),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ee(Ne),null;case 4:return Ar(),null;case 10:return _a(n.type._context),null;case 22:case 23:return nu(),null;case 24:return null;default:return null}}var ho=!1,et=!1,cy=typeof WeakSet=="function"?WeakSet:Set,$=null;function Lr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){Ae(e,n,a)}else s.current=null}function Ha(e,n,s){try{s()}catch(a){Ae(e,n,a)}}var ih=!1;function dy(e,n){if(na=bs,e=Ld(),ql(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var m=0,_=-1,C=-1,I=0,L=0,M=e,b=null;t:for(;;){for(var W;M!==s||c!==0&&M.nodeType!==3||(_=m+c),M!==f||a!==0&&M.nodeType!==3||(C=m+a),M.nodeType===3&&(m+=M.nodeValue.length),(W=M.firstChild)!==null;)b=M,M=W;for(;;){if(M===e)break t;if(b===s&&++I===c&&(_=m),b===f&&++L===a&&(C=m),(W=M.nextSibling)!==null)break;M=b,b=M.parentNode}M=W}s=_===-1||C===-1?null:{start:_,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(ra={focusedElem:e,selectionRange:s},bs=!1,$=n;$!==null;)if(n=$,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,$=e;else for(;$!==null;){n=$;try{var V=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var G=V.memoizedProps,Le=V.memoizedState,k=n.stateNode,x=k.getSnapshotBeforeUpdate(n.elementType===n.type?G:Dt(n.type,G),Le);k.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=n.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(F){Ae(n,n.return,F)}if(e=n.sibling,e!==null){e.return=n.return,$=e;break}$=n.return}return V=ih,ih=!1,V}function Ai(e,n,s){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&Ha(n,s,f)}c=c.next}while(c!==a)}}function po(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==n)}}function Va(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function sh(e){var n=e.alternate;n!==null&&(e.alternate=null,sh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Wt],delete n[Ci],delete n[la],delete n[Q_],delete n[q_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oh(e){return e.tag===5||e.tag===3||e.tag===4}function lh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ga(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hs));else if(a!==4&&(e=e.child,e!==null))for(Ga(e,n,s),e=e.sibling;e!==null;)Ga(e,n,s),e=e.sibling}function Qa(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Qa(e,n,s),e=e.sibling;e!==null;)Qa(e,n,s),e=e.sibling}var Ke=null,bt=!1;function In(e,n,s){for(s=s.child;s!==null;)ah(e,n,s),s=s.sibling}function ah(e,n,s){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Ns,s)}catch{}switch(s.tag){case 5:et||Lr(s,n);case 6:var a=Ke,c=bt;Ke=null,In(e,n,s),Ke=a,bt=c,Ke!==null&&(bt?(e=Ke,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ke.removeChild(s.stateNode));break;case 18:Ke!==null&&(bt?(e=Ke,s=s.stateNode,e.nodeType===8?oa(e.parentNode,s):e.nodeType===1&&oa(e,s),di(e)):oa(Ke,s.stateNode));break;case 4:a=Ke,c=bt,Ke=s.stateNode.containerInfo,bt=!0,In(e,n,s),Ke=a,bt=c;break;case 0:case 11:case 14:case 15:if(!et&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,m=f.destroy;f=f.tag,m!==void 0&&(f&2||f&4)&&Ha(s,n,m),c=c.next}while(c!==a)}In(e,n,s);break;case 1:if(!et&&(Lr(s,n),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(_){Ae(s,n,_)}In(e,n,s);break;case 21:In(e,n,s);break;case 22:s.mode&1?(et=(a=et)||s.memoizedState!==null,In(e,n,s),et=a):In(e,n,s);break;default:In(e,n,s)}}function uh(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new cy),n.forEach(function(a){var c=wy.bind(null,e,a);s.has(a)||(s.add(a),a.then(c,c))})}}function At(e,n){var s=n.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var f=e,m=n,_=m;e:for(;_!==null;){switch(_.tag){case 5:Ke=_.stateNode,bt=!1;break e;case 3:Ke=_.stateNode.containerInfo,bt=!0;break e;case 4:Ke=_.stateNode.containerInfo,bt=!0;break e}_=_.return}if(Ke===null)throw Error(r(160));ah(f,m,c),Ke=null,bt=!1;var C=c.alternate;C!==null&&(C.return=null),c.return=null}catch(I){Ae(c,n,I)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)ch(n,e),n=n.sibling}function ch(e,n){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(n,e),Vt(e),a&4){try{Ai(3,e,e.return),po(3,e)}catch(G){Ae(e,e.return,G)}try{Ai(5,e,e.return)}catch(G){Ae(e,e.return,G)}}break;case 1:At(n,e),Vt(e),a&512&&s!==null&&Lr(s,s.return);break;case 5:if(At(n,e),Vt(e),a&512&&s!==null&&Lr(s,s.return),e.flags&32){var c=e.stateNode;try{ei(c,"")}catch(G){Ae(e,e.return,G)}}if(a&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,m=s!==null?s.memoizedProps:f,_=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{_==="input"&&f.type==="radio"&&f.name!=null&&Fc(c,f),Sl(_,m);var I=Sl(_,f);for(m=0;m<C.length;m+=2){var L=C[m],M=C[m+1];L==="style"?Vc(c,M):L==="dangerouslySetInnerHTML"?$c(c,M):L==="children"?ei(c,M):Y(c,L,M,I)}switch(_){case"input":vl(c,f);break;case"textarea":Bc(c,f);break;case"select":var b=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var W=f.value;W!=null?pr(c,!!f.multiple,W,!1):b!==!!f.multiple&&(f.defaultValue!=null?pr(c,!!f.multiple,f.defaultValue,!0):pr(c,!!f.multiple,f.multiple?[]:"",!1))}c[Ci]=f}catch(G){Ae(e,e.return,G)}}break;case 6:if(At(n,e),Vt(e),a&4){if(e.stateNode===null)throw Error(r(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(G){Ae(e,e.return,G)}}break;case 3:if(At(n,e),Vt(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{di(n.containerInfo)}catch(G){Ae(e,e.return,G)}break;case 4:At(n,e),Vt(e);break;case 13:At(n,e),Vt(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Ya=Oe())),a&4&&uh(e);break;case 22:if(L=s!==null&&s.memoizedState!==null,e.mode&1?(et=(I=et)||L,At(n,e),et=I):At(n,e),Vt(e),a&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!L&&e.mode&1)for($=e,L=e.child;L!==null;){for(M=$=L;$!==null;){switch(b=$,W=b.child,b.tag){case 0:case 11:case 14:case 15:Ai(4,b,b.return);break;case 1:Lr(b,b.return);var V=b.stateNode;if(typeof V.componentWillUnmount=="function"){a=b,s=b.return;try{n=a,V.props=n.memoizedProps,V.state=n.memoizedState,V.componentWillUnmount()}catch(G){Ae(a,s,G)}}break;case 5:Lr(b,b.return);break;case 22:if(b.memoizedState!==null){hh(M);continue}}W!==null?(W.return=b,$=W):hh(M)}L=L.sibling}e:for(L=null,M=e;;){if(M.tag===5){if(L===null){L=M;try{c=M.stateNode,I?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(_=M.stateNode,C=M.memoizedProps.style,m=C!=null&&C.hasOwnProperty("display")?C.display:null,_.style.display=Hc("display",m))}catch(G){Ae(e,e.return,G)}}}else if(M.tag===6){if(L===null)try{M.stateNode.nodeValue=I?"":M.memoizedProps}catch(G){Ae(e,e.return,G)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===e)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===e)break e;for(;M.sibling===null;){if(M.return===null||M.return===e)break e;L===M&&(L=null),M=M.return}L===M&&(L=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:At(n,e),Vt(e),a&4&&uh(e);break;case 21:break;default:At(n,e),Vt(e)}}function Vt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(oh(s)){var a=s;break e}s=s.return}throw Error(r(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ei(c,""),a.flags&=-33);var f=lh(e);Qa(e,f,c);break;case 3:case 4:var m=a.stateNode.containerInfo,_=lh(e);Ga(e,_,m);break;default:throw Error(r(161))}}catch(C){Ae(e,e.return,C)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function fy(e,n,s){$=e,dh(e)}function dh(e,n,s){for(var a=(e.mode&1)!==0;$!==null;){var c=$,f=c.child;if(c.tag===22&&a){var m=c.memoizedState!==null||ho;if(!m){var _=c.alternate,C=_!==null&&_.memoizedState!==null||et;_=ho;var I=et;if(ho=m,(et=C)&&!I)for($=c;$!==null;)m=$,C=m.child,m.tag===22&&m.memoizedState!==null?ph(c):C!==null?(C.return=m,$=C):ph(c);for(;f!==null;)$=f,dh(f),f=f.sibling;$=c,ho=_,et=I}fh(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,$=f):fh(e)}}function fh(e){for(;$!==null;){var n=$;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:et||po(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!et)if(s===null)a.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:Dt(n.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&hf(n,f,a);break;case 3:var m=n.updateQueue;if(m!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}hf(n,m,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var C=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&s.focus();break;case"img":C.src&&(s.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var I=n.alternate;if(I!==null){var L=I.memoizedState;if(L!==null){var M=L.dehydrated;M!==null&&di(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}et||n.flags&512&&Va(n)}catch(b){Ae(n,n.return,b)}}if(n===e){$=null;break}if(s=n.sibling,s!==null){s.return=n.return,$=s;break}$=n.return}}function hh(e){for(;$!==null;){var n=$;if(n===e){$=null;break}var s=n.sibling;if(s!==null){s.return=n.return,$=s;break}$=n.return}}function ph(e){for(;$!==null;){var n=$;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{po(4,n)}catch(C){Ae(n,s,C)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(C){Ae(n,c,C)}}var f=n.return;try{Va(n)}catch(C){Ae(n,f,C)}break;case 5:var m=n.return;try{Va(n)}catch(C){Ae(n,m,C)}}}catch(C){Ae(n,n.return,C)}if(n===e){$=null;break}var _=n.sibling;if(_!==null){_.return=n.return,$=_;break}$=n.return}}var hy=Math.ceil,mo=ee.ReactCurrentDispatcher,qa=ee.ReactCurrentOwner,kt=ee.ReactCurrentBatchConfig,le=0,He=null,Fe=null,Ye=0,wt=0,Mr=Cn(0),ze=0,Oi=null,Jn=0,go=0,Ka=0,Li=null,ut=null,Ya=0,Fr=1/0,an=null,_o=!1,Xa=null,Tn=null,yo=!1,Rn=null,vo=0,Mi=0,Ja=null,wo=-1,Eo=0;function rt(){return le&6?Oe():wo!==-1?wo:wo=Oe()}function Pn(e){return e.mode&1?le&2&&Ye!==0?Ye&-Ye:Y_.transition!==null?(Eo===0&&(Eo=od()),Eo):(e=he,e!==0||(e=window.event,e=e===void 0?16:md(e.type)),e):1}function Ot(e,n,s,a){if(50<Mi)throw Mi=0,Ja=null,Error(r(185));oi(e,s,a),(!(le&2)||e!==He)&&(e===He&&(!(le&2)&&(go|=s),ze===4&&Dn(e,Ye)),ct(e,a),s===1&&le===0&&!(n.mode&1)&&(Fr=Oe()+500,qs&&Sn()))}function ct(e,n){var s=e.callbackNode;Yg(e,n);var a=Rs(e,e===He?Ye:0);if(a===0)s!==null&&rd(s),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(s!=null&&rd(s),n===1)e.tag===0?K_(gh.bind(null,e)):ef(gh.bind(null,e)),V_(function(){!(le&6)&&Sn()}),s=null;else{switch(ld(a)){case 1:s=Dl;break;case 4:s=id;break;case 16:s=ks;break;case 536870912:s=sd;break;default:s=ks}s=Sh(s,mh.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function mh(e,n){if(wo=-1,Eo=0,le&6)throw Error(r(327));var s=e.callbackNode;if(jr()&&e.callbackNode!==s)return null;var a=Rs(e,e===He?Ye:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=Co(e,a);else{n=a;var c=le;le|=2;var f=yh();(He!==e||Ye!==n)&&(an=null,Fr=Oe()+500,er(e,n));do try{gy();break}catch(_){_h(e,_)}while(!0);ga(),mo.current=f,le=c,Fe!==null?n=0:(He=null,Ye=0,n=ze)}if(n!==0){if(n===2&&(c=bl(e),c!==0&&(a=c,n=Za(e,c))),n===1)throw s=Oi,er(e,0),Dn(e,a),ct(e,Oe()),s;if(n===6)Dn(e,a);else{if(c=e.current.alternate,!(a&30)&&!py(c)&&(n=Co(e,a),n===2&&(f=bl(e),f!==0&&(a=f,n=Za(e,f))),n===1))throw s=Oi,er(e,0),Dn(e,a),ct(e,Oe()),s;switch(e.finishedWork=c,e.finishedLanes=a,n){case 0:case 1:throw Error(r(345));case 2:tr(e,ut,an);break;case 3:if(Dn(e,a),(a&130023424)===a&&(n=Ya+500-Oe(),10<n)){if(Rs(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){rt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=sa(tr.bind(null,e,ut,an),n);break}tr(e,ut,an);break;case 4:if(Dn(e,a),(a&4194240)===a)break;for(n=e.eventTimes,c=-1;0<a;){var m=31-Tt(a);f=1<<m,m=n[m],m>c&&(c=m),a&=~f}if(a=c,a=Oe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*hy(a/1960))-a,10<a){e.timeoutHandle=sa(tr.bind(null,e,ut,an),a);break}tr(e,ut,an);break;case 5:tr(e,ut,an);break;default:throw Error(r(329))}}}return ct(e,Oe()),e.callbackNode===s?mh.bind(null,e):null}function Za(e,n){var s=Li;return e.current.memoizedState.isDehydrated&&(er(e,n).flags|=256),e=Co(e,n),e!==2&&(n=ut,ut=s,n!==null&&eu(n)),e}function eu(e){ut===null?ut=e:ut.push.apply(ut,e)}function py(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],f=c.getSnapshot;c=c.value;try{if(!Rt(f(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dn(e,n){for(n&=~Ka,n&=~go,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Tt(n),a=1<<s;e[s]=-1,n&=~a}}function gh(e){if(le&6)throw Error(r(327));jr();var n=Rs(e,0);if(!(n&1))return ct(e,Oe()),null;var s=Co(e,n);if(e.tag!==0&&s===2){var a=bl(e);a!==0&&(n=a,s=Za(e,a))}if(s===1)throw s=Oi,er(e,0),Dn(e,n),ct(e,Oe()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,tr(e,ut,an),ct(e,Oe()),null}function tu(e,n){var s=le;le|=1;try{return e(n)}finally{le=s,le===0&&(Fr=Oe()+500,qs&&Sn())}}function Zn(e){Rn!==null&&Rn.tag===0&&!(le&6)&&jr();var n=le;le|=1;var s=kt.transition,a=he;try{if(kt.transition=null,he=1,e)return e()}finally{he=a,kt.transition=s,le=n,!(le&6)&&Sn()}}function nu(){wt=Mr.current,Ee(Mr)}function er(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,H_(s)),Fe!==null)for(s=Fe.return;s!==null;){var a=s;switch(da(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Gs();break;case 3:Ar(),Ee(ot),Ee(Xe),Sa();break;case 5:Ca(a);break;case 4:Ar();break;case 13:Ee(Ne);break;case 19:Ee(Ne);break;case 10:_a(a.type._context);break;case 22:case 23:nu()}s=s.return}if(He=e,Fe=e=bn(e.current,null),Ye=wt=n,ze=0,Oi=null,Ka=go=Jn=0,ut=Li=null,Kn!==null){for(n=0;n<Kn.length;n++)if(s=Kn[n],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,f=s.pending;if(f!==null){var m=f.next;f.next=c,a.next=m}s.pending=a}Kn=null}return e}function _h(e,n){do{var s=Fe;try{if(ga(),io.current=ao,so){for(var a=Ie.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}so=!1}if(Xn=0,$e=je=Ie=null,Ti=!1,Ri=0,qa.current=null,s===null||s.return===null){ze=1,Oi=n,Fe=null;break}e:{var f=e,m=s.return,_=s,C=n;if(n=Ye,_.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var I=C,L=_,M=L.tag;if(!(L.mode&1)&&(M===0||M===11||M===15)){var b=L.alternate;b?(L.updateQueue=b.updateQueue,L.memoizedState=b.memoizedState,L.lanes=b.lanes):(L.updateQueue=null,L.memoizedState=null)}var W=Wf(m);if(W!==null){W.flags&=-257,$f(W,m,_,f,n),W.mode&1&&Uf(f,I,n),n=W,C=I;var V=n.updateQueue;if(V===null){var G=new Set;G.add(C),n.updateQueue=G}else V.add(C);break e}else{if(!(n&1)){Uf(f,I,n),ru();break e}C=Error(r(426))}}else if(Se&&_.mode&1){var Le=Wf(m);if(Le!==null){!(Le.flags&65536)&&(Le.flags|=256),$f(Le,m,_,f,n),pa(Or(C,_));break e}}f=C=Or(C,_),ze!==4&&(ze=2),Li===null?Li=[f]:Li.push(f),f=m;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var k=zf(f,C,n);ff(f,k);break e;case 1:_=C;var x=f.type,N=f.stateNode;if(!(f.flags&128)&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Tn===null||!Tn.has(N)))){f.flags|=65536,n&=-n,f.lanes|=n;var F=Bf(f,_,n);ff(f,F);break e}}f=f.return}while(f!==null)}wh(s)}catch(Q){n=Q,Fe===s&&s!==null&&(Fe=s=s.return);continue}break}while(!0)}function yh(){var e=mo.current;return mo.current=ao,e===null?ao:e}function ru(){(ze===0||ze===3||ze===2)&&(ze=4),He===null||!(Jn&268435455)&&!(go&268435455)||Dn(He,Ye)}function Co(e,n){var s=le;le|=2;var a=yh();(He!==e||Ye!==n)&&(an=null,er(e,n));do try{my();break}catch(c){_h(e,c)}while(!0);if(ga(),le=s,mo.current=a,Fe!==null)throw Error(r(261));return He=null,Ye=0,ze}function my(){for(;Fe!==null;)vh(Fe)}function gy(){for(;Fe!==null&&!Ug();)vh(Fe)}function vh(e){var n=xh(e.alternate,e,wt);e.memoizedProps=e.pendingProps,n===null?wh(e):Fe=n,qa.current=null}function wh(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=uy(s,n),s!==null){s.flags&=32767,Fe=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Fe=null;return}}else if(s=ay(s,n,wt),s!==null){Fe=s;return}if(n=n.sibling,n!==null){Fe=n;return}Fe=n=e}while(n!==null);ze===0&&(ze=5)}function tr(e,n,s){var a=he,c=kt.transition;try{kt.transition=null,he=1,_y(e,n,s,a)}finally{kt.transition=c,he=a}return null}function _y(e,n,s,a){do jr();while(Rn!==null);if(le&6)throw Error(r(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if(Xg(e,f),e===He&&(Fe=He=null,Ye=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||yo||(yo=!0,Sh(ks,function(){return jr(),null})),f=(s.flags&15990)!==0,s.subtreeFlags&15990||f){f=kt.transition,kt.transition=null;var m=he;he=1;var _=le;le|=4,qa.current=null,dy(e,s),ch(s,e),F_(ra),bs=!!na,ra=na=null,e.current=s,fy(s),Wg(),le=_,he=m,kt.transition=f}else e.current=s;if(yo&&(yo=!1,Rn=e,vo=c),f=e.pendingLanes,f===0&&(Tn=null),Vg(s.stateNode),ct(e,Oe()),n!==null)for(a=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(_o)throw _o=!1,e=Xa,Xa=null,e;return vo&1&&e.tag!==0&&jr(),f=e.pendingLanes,f&1?e===Ja?Mi++:(Mi=0,Ja=e):Mi=0,Sn(),null}function jr(){if(Rn!==null){var e=ld(vo),n=kt.transition,s=he;try{if(kt.transition=null,he=16>e?16:e,Rn===null)var a=!1;else{if(e=Rn,Rn=null,vo=0,le&6)throw Error(r(331));var c=le;for(le|=4,$=e.current;$!==null;){var f=$,m=f.child;if($.flags&16){var _=f.deletions;if(_!==null){for(var C=0;C<_.length;C++){var I=_[C];for($=I;$!==null;){var L=$;switch(L.tag){case 0:case 11:case 15:Ai(8,L,f)}var M=L.child;if(M!==null)M.return=L,$=M;else for(;$!==null;){L=$;var b=L.sibling,W=L.return;if(sh(L),L===I){$=null;break}if(b!==null){b.return=W,$=b;break}$=W}}}var V=f.alternate;if(V!==null){var G=V.child;if(G!==null){V.child=null;do{var Le=G.sibling;G.sibling=null,G=Le}while(G!==null)}}$=f}}if(f.subtreeFlags&2064&&m!==null)m.return=f,$=m;else e:for(;$!==null;){if(f=$,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Ai(9,f,f.return)}var k=f.sibling;if(k!==null){k.return=f.return,$=k;break e}$=f.return}}var x=e.current;for($=x;$!==null;){m=$;var N=m.child;if(m.subtreeFlags&2064&&N!==null)N.return=m,$=N;else e:for(m=x;$!==null;){if(_=$,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:po(9,_)}}catch(Q){Ae(_,_.return,Q)}if(_===m){$=null;break e}var F=_.sibling;if(F!==null){F.return=_.return,$=F;break e}$=_.return}}if(le=c,Sn(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Ns,e)}catch{}a=!0}return a}finally{he=s,kt.transition=n}}return!1}function Eh(e,n,s){n=Or(s,n),n=zf(e,n,1),e=Nn(e,n,1),n=rt(),e!==null&&(oi(e,1,n),ct(e,n))}function Ae(e,n,s){if(e.tag===3)Eh(e,e,s);else for(;n!==null;){if(n.tag===3){Eh(n,e,s);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Tn===null||!Tn.has(a))){e=Or(s,e),e=Bf(n,e,1),n=Nn(n,e,1),e=rt(),n!==null&&(oi(n,1,e),ct(n,e));break}}n=n.return}}function yy(e,n,s){var a=e.pingCache;a!==null&&a.delete(n),n=rt(),e.pingedLanes|=e.suspendedLanes&s,He===e&&(Ye&s)===s&&(ze===4||ze===3&&(Ye&130023424)===Ye&&500>Oe()-Ya?er(e,0):Ka|=s),ct(e,n)}function Ch(e,n){n===0&&(e.mode&1?(n=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):n=1);var s=rt();e=sn(e,n),e!==null&&(oi(e,n,s),ct(e,s))}function vy(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ch(e,s)}function wy(e,n){var s=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(r(314))}a!==null&&a.delete(n),Ch(e,s)}var xh;xh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||ot.current)at=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return at=!1,ly(e,n,s);at=!!(e.flags&131072)}else at=!1,Se&&n.flags&1048576&&tf(n,Ys,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;fo(e,n),e=n.pendingProps;var c=Nr(n,Xe.current);br(n,s),c=Ia(null,n,a,e,c,s);var f=Ta();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,lt(a)?(f=!0,Qs(n)):f=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,wa(n),c.updater=uo,n.stateNode=c,c._reactInternals=n,Oa(n,a,e,s),n=ja(null,n,a,!0,f,s)):(n.tag=0,Se&&f&&ca(n),nt(null,n,c,s),n=n.child),n;case 16:a=n.elementType;e:{switch(fo(e,n),e=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=Cy(a),e=Dt(a,e),c){case 0:n=Fa(null,n,a,e,s);break e;case 1:n=Kf(null,n,a,e,s);break e;case 11:n=Hf(null,n,a,e,s);break e;case 14:n=Vf(null,n,a,Dt(a.type,e),s);break e}throw Error(r(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Dt(a,c),Fa(e,n,a,c,s);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Dt(a,c),Kf(e,n,a,c,s);case 3:e:{if(Yf(n),e===null)throw Error(r(387));a=n.pendingProps,f=n.memoizedState,c=f.element,df(e,n),no(n,a,null,s);var m=n.memoizedState;if(a=m.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){c=Or(Error(r(423)),n),n=Xf(e,n,a,s,c);break e}else if(a!==c){c=Or(Error(r(424)),n),n=Xf(e,n,a,s,c);break e}else for(vt=En(n.stateNode.containerInfo.firstChild),yt=n,Se=!0,Pt=null,s=uf(n,null,a,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Rr(),a===c){n=ln(e,n,s);break e}nt(e,n,a,s)}n=n.child}return n;case 5:return pf(n),e===null&&ha(n),a=n.type,c=n.pendingProps,f=e!==null?e.memoizedProps:null,m=c.children,ia(a,c)?m=null:f!==null&&ia(a,f)&&(n.flags|=32),qf(e,n),nt(e,n,m,s),n.child;case 6:return e===null&&ha(n),null;case 13:return Jf(e,n,s);case 4:return Ea(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Pr(n,null,a,s):nt(e,n,a,s),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Dt(a,c),Hf(e,n,a,c,s);case 7:return nt(e,n,n.pendingProps,s),n.child;case 8:return nt(e,n,n.pendingProps.children,s),n.child;case 12:return nt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,f=n.memoizedProps,m=c.value,_e(Zs,a._currentValue),a._currentValue=m,f!==null)if(Rt(f.value,m)){if(f.children===c.children&&!ot.current){n=ln(e,n,s);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var _=f.dependencies;if(_!==null){m=f.child;for(var C=_.firstContext;C!==null;){if(C.context===a){if(f.tag===1){C=on(-1,s&-s),C.tag=2;var I=f.updateQueue;if(I!==null){I=I.shared;var L=I.pending;L===null?C.next=C:(C.next=L.next,L.next=C),I.pending=C}}f.lanes|=s,C=f.alternate,C!==null&&(C.lanes|=s),ya(f.return,s,n),_.lanes|=s;break}C=C.next}}else if(f.tag===10)m=f.type===n.type?null:f.child;else if(f.tag===18){if(m=f.return,m===null)throw Error(r(341));m.lanes|=s,_=m.alternate,_!==null&&(_.lanes|=s),ya(m,s,n),m=f.sibling}else m=f.child;if(m!==null)m.return=f;else for(m=f;m!==null;){if(m===n){m=null;break}if(f=m.sibling,f!==null){f.return=m.return,m=f;break}m=m.return}f=m}nt(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,br(n,s),c=xt(c),a=a(c),n.flags|=1,nt(e,n,a,s),n.child;case 14:return a=n.type,c=Dt(a,n.pendingProps),c=Dt(a.type,c),Vf(e,n,a,c,s);case 15:return Gf(e,n,n.type,n.pendingProps,s);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Dt(a,c),fo(e,n),n.tag=1,lt(a)?(e=!0,Qs(n)):e=!1,br(n,s),Ff(n,a,c),Oa(n,a,c,s),ja(null,n,a,!0,e,s);case 19:return eh(e,n,s);case 22:return Qf(e,n,s)}throw Error(r(156,n.tag))};function Sh(e,n){return nd(e,n)}function Ey(e,n,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,n,s,a){return new Ey(e,n,s,a)}function iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cy(e){if(typeof e=="function")return iu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zt)return 11;if(e===Bt)return 14}return 2}function bn(e,n){var s=e.alternate;return s===null?(s=Nt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function xo(e,n,s,a,c,f){var m=2;if(a=e,typeof e=="function")iu(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case ke:return nr(s.children,c,f,n);case Me:m=8,c|=8;break;case De:return e=Nt(12,s,n,c|2),e.elementType=De,e.lanes=f,e;case mt:return e=Nt(13,s,n,c),e.elementType=mt,e.lanes=f,e;case It:return e=Nt(19,s,n,c),e.elementType=It,e.lanes=f,e;case be:return So(s,c,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case We:m=10;break e;case jt:m=9;break e;case zt:m=11;break e;case Bt:m=14;break e;case st:m=16,a=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Nt(m,s,n,c),n.elementType=e,n.type=a,n.lanes=f,n}function nr(e,n,s,a){return e=Nt(7,e,a,n),e.lanes=s,e}function So(e,n,s,a){return e=Nt(22,e,a,n),e.elementType=be,e.lanes=s,e.stateNode={isHidden:!1},e}function su(e,n,s){return e=Nt(6,e,null,n),e.lanes=s,e}function ou(e,n,s){return n=Nt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function xy(e,n,s,a,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function lu(e,n,s,a,c,f,m,_,C){return e=new xy(e,n,s,_,C),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Nt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},wa(f),e}function Sy(e,n,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pe,key:a==null?null:""+a,children:e,containerInfo:n,implementation:s}}function kh(e){if(!e)return xn;e=e._reactInternals;e:{if(Hn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(lt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(lt(s))return Jd(e,s,n)}return n}function Nh(e,n,s,a,c,f,m,_,C){return e=lu(s,a,!0,e,c,f,m,_,C),e.context=kh(null),s=e.current,a=rt(),c=Pn(s),f=on(a,c),f.callback=n??null,Nn(s,f,c),e.current.lanes=c,oi(e,c,a),ct(e,a),e}function ko(e,n,s,a){var c=n.current,f=rt(),m=Pn(c);return s=kh(s),n.context===null?n.context=s:n.pendingContext=s,n=on(f,m),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Nn(c,n,m),e!==null&&(Ot(e,c,m,f),to(e,c,m)),m}function No(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ih(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function au(e,n){Ih(e,n),(e=e.alternate)&&Ih(e,n)}var Th=typeof reportError=="function"?reportError:function(e){console.error(e)};function uu(e){this._internalRoot=e}Io.prototype.render=uu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));ko(e,n,null,null)},Io.prototype.unmount=uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Zn(function(){ko(null,e,null,null)}),n[en]=null}};function Io(e){this._internalRoot=e}Io.prototype.unstable_scheduleHydration=function(e){if(e){var n=cd();e={blockedOn:null,target:e,priority:n};for(var s=0;s<yn.length&&n!==0&&n<yn[s].priority;s++);yn.splice(s,0,e),s===0&&hd(e)}};function cu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function To(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rh(){}function ky(e,n,s,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var I=No(m);f.call(I)}}var m=Nh(n,a,e,0,null,!1,!1,"",Rh);return e._reactRootContainer=m,e[en]=m.current,wi(e.nodeType===8?e.parentNode:e),Zn(),m}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var _=a;a=function(){var I=No(C);_.call(I)}}var C=lu(e,0,!1,null,null,!1,!1,"",Rh);return e._reactRootContainer=C,e[en]=C.current,wi(e.nodeType===8?e.parentNode:e),Zn(function(){ko(n,C,s,a)}),C}function Ro(e,n,s,a,c){var f=s._reactRootContainer;if(f){var m=f;if(typeof c=="function"){var _=c;c=function(){var C=No(m);_.call(C)}}ko(n,m,e,c)}else m=ky(s,n,e,c,a);return No(m)}ad=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=si(n.pendingLanes);s!==0&&(Ol(n,s|1),ct(n,Oe()),!(le&6)&&(Fr=Oe()+500,Sn()))}break;case 13:Zn(function(){var a=sn(e,1);if(a!==null){var c=rt();Ot(a,e,1,c)}}),au(e,1)}},Ll=function(e){if(e.tag===13){var n=sn(e,134217728);if(n!==null){var s=rt();Ot(n,e,134217728,s)}au(e,134217728)}},ud=function(e){if(e.tag===13){var n=Pn(e),s=sn(e,n);if(s!==null){var a=rt();Ot(s,e,n,a)}au(e,n)}},cd=function(){return he},dd=function(e,n){var s=he;try{return he=e,n()}finally{he=s}},Il=function(e,n,s){switch(n){case"input":if(vl(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var a=s[n];if(a!==e&&a.form===e.form){var c=Vs(a);if(!c)throw Error(r(90));Lc(a),vl(a,c)}}}break;case"textarea":Bc(e,s);break;case"select":n=s.value,n!=null&&pr(e,!!s.multiple,n,!1)}},Kc=tu,Yc=Zn;var Ny={usingClientEntryPoint:!1,Events:[xi,Sr,Vs,Qc,qc,tu]},Fi={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iy={bundleType:Fi.bundleType,version:Fi.version,rendererPackageName:Fi.rendererPackageName,rendererConfig:Fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ed(e),e===null?null:e.stateNode},findFiberByHostInstance:Fi.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{Ns=Po.inject(Iy),Ut=Po}catch{}}return dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ny,dt.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cu(n))throw Error(r(200));return Sy(e,n,null,s)},dt.createRoot=function(e,n){if(!cu(e))throw Error(r(299));var s=!1,a="",c=Th;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=lu(e,1,!1,null,null,s,!1,a,c),e[en]=n.current,wi(e.nodeType===8?e.parentNode:e),new uu(n)},dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=ed(n),e=e===null?null:e.stateNode,e},dt.flushSync=function(e){return Zn(e)},dt.hydrate=function(e,n,s){if(!To(n))throw Error(r(200));return Ro(null,e,n,!0,s)},dt.hydrateRoot=function(e,n,s){if(!cu(e))throw Error(r(405));var a=s!=null&&s.hydratedSources||null,c=!1,f="",m=Th;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),n=Nh(n,null,e,1,s??null,c,!1,f,m),e[en]=n.current,wi(e),a)for(e=0;e<a.length;e++)s=a[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new Io(n)},dt.render=function(e,n,s){if(!To(n))throw Error(r(200));return Ro(null,e,n,!1,s)},dt.unmountComponentAtNode=function(e){if(!To(e))throw Error(r(40));return e._reactRootContainer?(Zn(function(){Ro(null,null,e,!1,function(){e._reactRootContainer=null,e[en]=null})}),!0):!1},dt.unstable_batchedUpdates=tu,dt.unstable_renderSubtreeIntoContainer=function(e,n,s,a){if(!To(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return Ro(e,n,s,!1,a)},dt.version="18.3.1-next-f1338f8080-20240426",dt}var Fh;function Ly(){if(Fh)return hu.exports;Fh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),hu.exports=Oy(),hu.exports}var jh;function My(){if(jh)return Do;jh=1;var i=Ly();return Do.createRoot=i.createRoot,Do.hydrateRoot=i.hydrateRoot,Do}var Fy=My(),zh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(i,t){if(!i)throw Gr(t)},Gr=function(i){return new Error("Firebase Database ("+jp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},jy=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const l=i[r++];if(l<128)t[o++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[r++];t[o++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[r++],d=i[r++],h=i[r++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|h&63)-65536;t[o++]=String.fromCharCode(55296+(p>>10)),t[o++]=String.fromCharCode(56320+(p&1023))}else{const u=i[r++],d=i[r++];t[o++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},Ku={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<i.length;l+=3){const u=i[l],d=l+1<i.length,h=d?i[l+1]:0,p=l+2<i.length,g=p?i[l+2]:0,E=u>>2,w=(u&3)<<4|h>>4;let v=(h&15)<<2|g>>6,T=g&63;p||(T=64,d||(v=64)),o.push(r[E],r[w],r[v],r[T])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(zp(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):jy(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<i.length;){const u=r[i.charAt(l++)],h=l<i.length?r[i.charAt(l)]:0;++l;const g=l<i.length?r[i.charAt(l)]:64;++l;const w=l<i.length?r[i.charAt(l)]:64;if(++l,u==null||h==null||g==null||w==null)throw new zy;const v=u<<2|h>>4;if(o.push(v),g!==64){const T=h<<4&240|g>>2;if(o.push(T),w!==64){const R=g<<6&192|w;o.push(R)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class zy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bp=function(i){const t=zp(i);return Ku.encodeByteArray(t,!0)},zo=function(i){return Bp(i).replace(/\./g,"")},Ru=function(i){try{return Ku.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(i){return Up(void 0,i)}function Up(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!Uy(r)||(i[r]=Up(i[r],t[r]));return i}function Uy(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=()=>Wy().__FIREBASE_DEFAULTS__,Hy=()=>{if(typeof process>"u"||typeof zh>"u")return;const i=zh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Vy=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Ru(i[1]);return t&&JSON.parse(t)},Wp=()=>{try{return $y()||Hy()||Vy()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Gy=i=>{var t,r;return(r=(t=Wp())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},Qy=i=>{const t=Gy(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},$p=()=>{var i;return(i=Wp())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[zo(JSON.stringify(r)),zo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ky())}function Yy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xy(){return jp.NODE_ADMIN===!0}function Jy(){try{return typeof indexedDB=="object"}catch{return!1}}function Zy(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="FirebaseError";class cs extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=ev,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vp.prototype.create)}}class Vp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?tv(u,o):"Error",h=`${this.serviceName}: ${d} (${l}).`;return new cs(l,h,o)}}function tv(i,t){return i.replace(nv,(r,o)=>{const l=t[o];return l!=null?String(l):`<${o}?>`})}const nv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(i){return JSON.parse(i)}function Be(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=function(i){let t={},r={},o={},l="";try{const u=i.split(".");t=Xi(Ru(u[0])||""),r=Xi(Ru(u[1])||""),l=u[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:l}},rv=function(i){const t=Gp(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},iv=function(i){const t=Gp(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Wr(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function Bh(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Bo(i,t,r){const o={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(o[l]=t.call(r,i[l],l,i));return o}function Pu(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const l of r){if(!o.includes(l))return!1;const u=i[l],d=t[l];if(Uh(u)&&Uh(d)){if(!Pu(u,d))return!1}else if(u!==d)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function Uh(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(l=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let w=0;w<16;w++)o[w]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let w=0;w<16;w++)o[w]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let w=16;w<80;w++){const v=o[w-3]^o[w-8]^o[w-14]^o[w-16];o[w]=(v<<1|v>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],d=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,E;for(let w=0;w<80;w++){w<40?w<20?(g=h^u&(d^h),E=1518500249):(g=u^d^h,E=1859775393):w<60?(g=u&d|h&(u|d),E=2400959708):(g=u^d^h,E=3395469782);const v=(l<<5|l>>>27)+g+p+E+o[w]&4294967295;p=h,h=d,d=(u<<30|u>>>2)&4294967295,u=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let l=0;const u=this.buf_;let d=this.inbuf_;for(;l<r;){if(d===0)for(;l<=o;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<r;)if(u[d]=t.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}else for(;l<r;)if(u[d]=t[l],++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)t[o]=this.chain_[l]>>u&255,++o;return t}}function Yu(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);if(l>=55296&&l<=56319){const u=l-55296;o++,z(o<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(o)-56320;l=65536+(u<<10)+d}l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):l<65536?(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},rl=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(i){return i&&i._delegate?i._delegate:i}class Ji{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new nl;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cv(t))try{this.getOrInitializeService({instanceIdentifier:rr})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});o.resolve(u)}catch{}}}}clearInstance(t=rr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=rr){return this.instances.has(t)}getOptions(t=rr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[u,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);o===h&&d.resolve(l)}return l}onInit(t,r){var o;const l=this.normalizeInstanceIdentifier(r),u=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;u.add(t),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&t(d,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:uv(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=rr){return this.component?this.component.multipleInstances?t:rr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uv(i){return i===rr?void 0:i}function cv(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new av(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ye||(ye={}));const fv={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},hv=ye.INFO,pv={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},mv=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),l=pv[t];if(l)console[l](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qp{constructor(t){this.name=t,this._logLevel=hv,this._logHandler=mv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ye))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...t),this._logHandler(this,ye.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...t),this._logHandler(this,ye.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...t),this._logHandler(this,ye.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...t),this._logHandler(this,ye.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...t),this._logHandler(this,ye.ERROR,...t)}}const gv=(i,t)=>t.some(r=>i instanceof r);let Wh,$h;function _v(){return Wh||(Wh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yv(){return $h||($h=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qp=new WeakMap,Du=new WeakMap,Kp=new WeakMap,gu=new WeakMap,Xu=new WeakMap;function vv(i){const t=new Promise((r,o)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{r(On(i.result)),l()},d=()=>{o(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",d)});return t.then(r=>{r instanceof IDBCursor&&qp.set(r,i)}).catch(()=>{}),Xu.set(t,i),t}function wv(i){if(Du.has(i))return;const t=new Promise((r,o)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{r(),l()},d=()=>{o(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Du.set(i,t)}let bu={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Du.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Kp.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return On(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Ev(i){bu=i(bu)}function Cv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(_u(this),t,...r);return Kp.set(o,t.sort?t.sort():[t]),On(o)}:yv().includes(i)?function(...t){return i.apply(_u(this),t),On(qp.get(this))}:function(...t){return On(i.apply(_u(this),t))}}function xv(i){return typeof i=="function"?Cv(i):(i instanceof IDBTransaction&&wv(i),gv(i,_v())?new Proxy(i,bu):i)}function On(i){if(i instanceof IDBRequest)return vv(i);if(gu.has(i))return gu.get(i);const t=xv(i);return t!==i&&(gu.set(i,t),Xu.set(t,i)),t}const _u=i=>Xu.get(i);function Sv(i,t,{blocked:r,upgrade:o,blocking:l,terminated:u}={}){const d=indexedDB.open(i,t),h=On(d);return o&&d.addEventListener("upgradeneeded",p=>{o(On(d.result),p.oldVersion,p.newVersion,On(d.transaction),p)}),r&&d.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const kv=["get","getKey","getAll","getAllKeys","count"],Nv=["put","add","delete","clear"],yu=new Map;function Hh(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(yu.get(t))return yu.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,l=Nv.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||kv.includes(r)))return;const u=async function(d,...h){const p=this.transaction(d,l?"readwrite":"readonly");let g=p.store;return o&&(g=g.index(h.shift())),(await Promise.all([g[r](...h),l&&p.done]))[0]};return yu.set(t,u),u}Ev(i=>({...i,get:(t,r,o)=>Hh(t,r)||i.get(t,r,o),has:(t,r)=>!!Hh(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Tv(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Tv(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Au="@firebase/app",Vh="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new Qp("@firebase/app"),Rv="@firebase/app-compat",Pv="@firebase/analytics-compat",Dv="@firebase/analytics",bv="@firebase/app-check-compat",Av="@firebase/app-check",Ov="@firebase/auth",Lv="@firebase/auth-compat",Mv="@firebase/database",Fv="@firebase/data-connect",jv="@firebase/database-compat",zv="@firebase/functions",Bv="@firebase/functions-compat",Uv="@firebase/installations",Wv="@firebase/installations-compat",$v="@firebase/messaging",Hv="@firebase/messaging-compat",Vv="@firebase/performance",Gv="@firebase/performance-compat",Qv="@firebase/remote-config",qv="@firebase/remote-config-compat",Kv="@firebase/storage",Yv="@firebase/storage-compat",Xv="@firebase/firestore",Jv="@firebase/vertexai",Zv="@firebase/firestore-compat",ew="firebase",tw="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="[DEFAULT]",nw={[Au]:"fire-core",[Rv]:"fire-core-compat",[Dv]:"fire-analytics",[Pv]:"fire-analytics-compat",[Av]:"fire-app-check",[bv]:"fire-app-check-compat",[Ov]:"fire-auth",[Lv]:"fire-auth-compat",[Mv]:"fire-rtdb",[Fv]:"fire-data-connect",[jv]:"fire-rtdb-compat",[zv]:"fire-fn",[Bv]:"fire-fn-compat",[Uv]:"fire-iid",[Wv]:"fire-iid-compat",[$v]:"fire-fcm",[Hv]:"fire-fcm-compat",[Vv]:"fire-perf",[Gv]:"fire-perf-compat",[Qv]:"fire-rc",[qv]:"fire-rc-compat",[Kv]:"fire-gcs",[Yv]:"fire-gcs-compat",[Xv]:"fire-fst",[Zv]:"fire-fst-compat",[Jv]:"fire-vertex","fire-js":"fire-js",[ew]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new Map,rw=new Map,Lu=new Map;function Gh(i,t){try{i.container.addComponent(t)}catch(r){fn.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Wo(i){const t=i.name;if(Lu.has(t))return fn.debug(`There were multiple attempts to register component ${t}.`),!1;Lu.set(t,i);for(const r of Uo.values())Gh(r,i);for(const r of rw.values())Gh(r,i);return!0}function iw(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ln=new Vp("app","Firebase",sw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=tw;function Yp(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:Ou,automaticDataCollectionEnabled:!1},t),l=o.name;if(typeof l!="string"||!l)throw Ln.create("bad-app-name",{appName:String(l)});if(r||(r=$p()),!r)throw Ln.create("no-options");const u=Uo.get(l);if(u){if(Pu(r,u.options)&&Pu(o,u.config))return u;throw Ln.create("duplicate-app",{appName:l})}const d=new dv(l);for(const p of Lu.values())d.addComponent(p);const h=new ow(r,o,d);return Uo.set(l,h),h}function aw(i=Ou){const t=Uo.get(i);if(!t&&i===Ou&&$p())return Yp();if(!t)throw Ln.create("no-app",{appName:i});return t}function Br(i,t,r){var o;let l=(o=nw[i])!==null&&o!==void 0?o:i;r&&(l+=`-${r}`);const u=l.match(/\s|\//),d=t.match(/\s|\//);if(u||d){const h=[`Unable to register library "${l}" with version "${t}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&h.push("and"),d&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fn.warn(h.join(" "));return}Wo(new Ji(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="firebase-heartbeat-database",cw=1,Zi="firebase-heartbeat-store";let vu=null;function Xp(){return vu||(vu=Sv(uw,cw,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Zi)}catch(r){console.warn(r)}}}}).catch(i=>{throw Ln.create("idb-open",{originalErrorMessage:i.message})})),vu}async function dw(i){try{const r=(await Xp()).transaction(Zi),o=await r.objectStore(Zi).get(Jp(i));return await r.done,o}catch(t){if(t instanceof cs)fn.warn(t.message);else{const r=Ln.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});fn.warn(r.message)}}}async function Qh(i,t){try{const o=(await Xp()).transaction(Zi,"readwrite");await o.objectStore(Zi).put(t,Jp(i)),await o.done}catch(r){if(r instanceof cs)fn.warn(r.message);else{const o=Ln.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});fn.warn(o.message)}}}function Jp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=1024,hw=30*24*60*60*1e3;class pw{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new gw(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=qh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const h=new Date(d.date).valueOf();return Date.now()-h<=hw}),this._storage.overwrite(this._heartbeatsCache))}catch(o){fn.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=qh(),{heartbeatsToSend:o,unsentEntries:l}=mw(this._heartbeatsCache.heartbeats),u=zo(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return fn.warn(r),""}}}function qh(){return new Date().toISOString().substring(0,10)}function mw(i,t=fw){const r=[];let o=i.slice();for(const l of i){const u=r.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Kh(r)>t){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),Kh(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class gw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jy()?Zy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await dw(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Qh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Qh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function Kh(i){return zo(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(i){Wo(new Ji("platform-logger",t=>new Iv(t),"PRIVATE")),Wo(new Ji("heartbeat",t=>new pw(t),"PRIVATE")),Br(Au,Vh,i),Br(Au,Vh,"esm2017"),Br("fire-js","")}_w("");var Yh={};const Xh="@firebase/database",Jh="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zp="";function yw(i){Zp=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Be(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Xi(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return Xt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new vw(t)}}catch{}return new ww},sr=em("localStorage"),Ew=em("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new Qp("@firebase/database"),Cw=function(){let i=1;return function(){return i++}}(),tm=function(i){const t=lv(i),r=new ov;r.update(t);const o=r.digest();return Ku.encodeByteArray(o)},ds=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=ds.apply(null,o):typeof o=="object"?t+=Be(o):t+=o,t+=" "}return t};let Gi=null,Zh=!0;const xw=function(i,t){z(!0,"Can't turn on custom loggers persistently."),Ur.logLevel=ye.VERBOSE,Gi=Ur.log.bind(Ur)},tt=function(...i){if(Zh===!0&&(Zh=!1,Gi===null&&Ew.get("logging_enabled")===!0&&xw()),Gi){const t=ds.apply(null,i);Gi(t)}},fs=function(i){return function(...t){tt(i,...t)}},Mu=function(...i){const t="FIREBASE INTERNAL ERROR: "+ds(...i);Ur.error(t)},hn=function(...i){const t=`FIREBASE FATAL ERROR: ${ds(...i)}`;throw Ur.error(t),new Error(t)},ht=function(...i){const t="FIREBASE WARNING: "+ds(...i);Ur.warn(t)},Sw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ju=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},kw=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},ar="[MIN_NAME]",jn="[MAX_NAME]",Qr=function(i,t){if(i===t)return 0;if(i===ar||t===jn)return-1;if(t===ar||i===jn)return 1;{const r=ep(i),o=ep(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},Nw=function(i,t){return i===t?0:i<t?-1:1},zi=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Be(t))},Zu=function(i){if(typeof i!="object"||i===null)return Be(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Be(t[o]),r+=":",r+=Zu(i[t[o]]);return r+="}",r},nm=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let l=0;l<r;l+=t)l+t>r?o.push(i.substring(l,r)):o.push(i.substring(l,l+t));return o};function pt(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const rm=function(i){z(!Ju(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let l,u,d,h,p;i===0?(u=0,d=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),o),u=h+o,d=Math.round(i*Math.pow(2,r-h)-Math.pow(2,r))):(u=0,d=Math.round(i/Math.pow(2,1-o-r))));const g=[];for(p=r;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=t;p;p-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(l?1:0),g.reverse();const E=g.join("");let w="";for(p=0;p<64;p+=8){let v=parseInt(E.substr(p,8),2).toString(16);v.length===1&&(v="0"+v),w=w+v}return w.toLowerCase()},Iw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Tw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Rw(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const Pw=new RegExp("^-?(0*)\\d{1,10}$"),Dw=-2147483648,bw=2147483647,ep=function(i){if(Pw.test(i)){const t=Number(i);if(t>=Dw&&t<=bw)return t}return null},qr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw ht("Exception was thrown by user callback.",r),t},Math.floor(0))}},Aw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qi=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(tt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ht(t)}}class Lo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Lo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="5",im="v",sm="s",om="r",lm="f",am=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,um="ls",cm="p",Fu="ac",dm="websocket",fm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,r,o,l,u=!1,d="",h=!1,p=!1){this.secure=r,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&sr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function Mw(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function pm(i,t,r){z(typeof t=="string","typeof type must == string"),z(typeof r=="object","typeof params must == object");let o;if(t===dm)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===fm)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Mw(i)&&(r.ns=i.namespace);const l=[];return pt(r,(u,d)=>{l.push(u+"="+d)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.counters_={}}incrementCounter(t,r=1){Xt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return By(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu={},Eu={};function tc(i){const t=i.toString();return wu[t]||(wu[t]=new Fw),wu[t]}function jw(i,t){const r=i.toString();return Eu[r]||(Eu[r]=t()),Eu[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&qr(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="start",Bw="close",Uw="pLPCommand",Ww="pRTLPCB",mm="id",gm="pw",_m="ser",$w="cb",Hw="seg",Vw="ts",Gw="d",Qw="dframe",ym=1870,vm=30,qw=ym-vm,Kw=25e3,Yw=3e4;class zr{constructor(t,r,o,l,u,d,h){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=l,this.authToken=u,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=fs(t),this.stats_=tc(r),this.urlFn=p=>(this.appCheckToken&&(p[Fu]=this.appCheckToken),pm(r,fm,p))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new zw(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Yw)),kw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nc((...u)=>{const[d,h,p,g,E]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===tp)this.id=h,this.password=p;else if(d===Bw)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const o={};o[tp]="t",o[_m]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[$w]=this.scriptTagHolder.uniqueCallbackIdentifier),o[im]=ec,this.transportSessionId&&(o[sm]=this.transportSessionId),this.lastSessionId&&(o[um]=this.lastSessionId),this.applicationId&&(o[cm]=this.applicationId),this.appCheckToken&&(o[Fu]=this.appCheckToken),typeof location<"u"&&location.hostname&&am.test(location.hostname)&&(o[om]=lm);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zr.forceAllow_=!0}static forceDisallow(){zr.forceDisallow_=!0}static isAvailable(){return zr.forceAllow_?!0:!zr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Iw()&&!Tw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Be(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Bp(r),l=nm(o,qw);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[Qw]="t",o[mm]=t,o[gm]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Be(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class nc{constructor(t,r,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Cw(),window[Uw+this.uniqueCallbackIdentifier]=t,window[Ww+this.uniqueCallbackIdentifier]=r,this.myIFrame=nc.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){tt("frame writing exception"),h.stack&&tt(h.stack),tt(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||tt("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[mm]=this.myID,t[gm]=this.myPW,t[_m]=this.currentSerial;let r=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+vm+o.length<=ym;){const d=this.pendingSegs.shift();o=o+"&"+Hw+l+"="+d.seg+"&"+Vw+l+"="+d.ts+"&"+Gw+l+"="+d.d,l++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(o,Math.floor(Kw)),u=()=>{clearTimeout(l),o()};this.addTag(t,u)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{tt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=16384,Jw=45e3;let $o=null;typeof MozWebSocket<"u"?$o=MozWebSocket:typeof WebSocket<"u"&&($o=WebSocket);class Gt{constructor(t,r,o,l,u,d,h){this.connId=t,this.applicationId=o,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=fs(this.connId),this.stats_=tc(r),this.connURL=Gt.connectionURL_(r,d,h,l,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,l,u){const d={};return d[im]=ec,typeof location<"u"&&location.hostname&&am.test(location.hostname)&&(d[om]=lm),r&&(d[sm]=r),o&&(d[um]=o),l&&(d[Fu]=l),u&&(d[cm]=u),pm(t,dm,d)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sr.set("previous_websocket_failure",!0);try{let o;Xy(),this.mySock=new $o(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Gt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&$o!==null&&!Gt.forceDisallow_}static previouslyFailed(){return sr.isInMemoryStorage||sr.get("previous_websocket_failure")===!0}markConnectionHealthy(){sr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=Xi(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(z(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Be(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=nm(r,Xw);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Jw))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Gt.responsesRequiredToBeHealthy=2;Gt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{static get ALL_TRANSPORTS(){return[zr,Gt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Gt.isAvailable();let o=r&&!Gt.previouslyFailed();if(t.webSocketOnly&&(r||ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Gt];else{const l=this.transports_=[];for(const u of es.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);es.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}es.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=6e4,e0=5e3,t0=10*1024,n0=100*1024,Cu="t",np="d",r0="s",rp="r",i0="e",ip="o",sp="a",op="n",lp="p",s0="h";class o0{constructor(t,r,o,l,u,d,h,p,g,E){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=fs("c:"+this.id+":"),this.transportManager_=new es(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=Qi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>n0?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>t0?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Cu in t){const r=t[Cu];r===sp?this.upgradeIfSecondaryHealthy_():r===rp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===ip&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=zi("t",t),o=zi("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:lp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:op,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=zi("t",t),o=zi("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=zi(Cu,t);if(np in t){const o=t[np];if(r===s0){const l=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===op){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===r0?this.onConnectionShutdown_(o):r===rp?this.onReset_(o):r===i0?Mu("Server Error: "+o):r===ip?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mu("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),ec!==o&&ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Qi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Zw))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(e0))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:lp,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{put(t,r,o,l){}merge(t,r,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t){this.allowedEvents_=t,this.listeners_={},z(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const l=this.getInitialEvent(t);l&&r.apply(o,l)}off(t,r,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let u=0;u<l.length;u++)if(l[u].callback===r&&(!o||o===l[u].context)){l.splice(u,1);return}}validateEventType_(t){z(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Em{static getInstance(){return new Ho}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Hp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return z(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=32,up=768;class me{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function de(){return new me("")}function oe(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function zn(i){return i.pieces_.length-i.pieceNum_}function ve(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new me(i.pieces_,t)}function Cm(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function l0(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function xm(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function Sm(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new me(t,0)}function Ue(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof me)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&r.push(o[l])}return new me(r,0)}function re(i){return i.pieceNum_>=i.pieces_.length}function it(i,t){const r=oe(i),o=oe(t);if(r===null)return t;if(r===o)return it(ve(i),ve(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function km(i,t){if(zn(i)!==zn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Lt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(zn(i)>zn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class a0{constructor(t,r){this.errorPrefix_=r,this.parts_=xm(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=rl(this.parts_[o]);Nm(this)}}function u0(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=rl(t),Nm(i)}function c0(i){const t=i.parts_.pop();i.byteLength_-=rl(t),i.parts_.length>0&&(i.byteLength_-=1)}function Nm(i){if(i.byteLength_>up)throw new Error(i.errorPrefix_+"has a key path longer than "+up+" bytes ("+i.byteLength_+").");if(i.parts_.length>ap)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ap+") or object contains a cycle "+ir(i))}function ir(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Em{static getInstance(){return new rc}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return z(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=1e3,d0=60*5*1e3,cp=30*1e3,f0=1.3,h0=3e4,p0="server_kill",dp=3;class cn extends wm{constructor(t,r,o,l,u,d,h,p){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=cn.nextPersistentConnectionId_++,this.log_=fs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bi,this.maxReconnectDelay_=d0,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rc.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ho.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const l=++this.requestNumber_,u={r:l,a:t,b:r};this.log_(Be(u)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),o&&(this.requestCBHash_[l]=o)}get(t){this.initConnection_();const r=new nl,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),r.promise}listen(t,r,o,l){this.initConnection_();const u=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:r,query:t,tag:o};this.listens.get(d).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+o+" for "+l);const u={p:o},d="q";t.tag&&(u.q=r._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(d,u,h=>{const p=h.d,g=h.s;cn.warnOnListenWarnings_(p,r),(this.listens.get(o)&&this.listens.get(o).get(l))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(o,l),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&Xt(t,"w")){const o=Wr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||iv(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cp)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=rv(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,l=>{const u=l.s,d=l.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,t._queryObject,r)}sendUnlisten_(t,r,o,l){this.log_("Unlisten on "+t+" for "+r);const u={p:t},d="n";l&&(u.q=o,u.t=l),this.sendRequest(d,u)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,l){const u={p:r,d:o};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(t,r,o,l){this.putInternal("p",t,r,o,l)}merge(t,r,o,l){this.putInternal("m",t,r,o,l)}putInternal(t,r,o,l,u){this.initConnection_();const d={p:r,d:o};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:t,request:d,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const u=o.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Be(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):Mu("Unrecognized action received from server: "+Be(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>h0&&(this.reconnectDelay_=Bi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*f0)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+cn.nextConnectionId_++,u=this.lastSessionId;let d=!1,h=null;const p=function(){h?h.close():(d=!0,o())},g=function(w){z(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(w)};this.realtime_={close:p,sendRequest:g};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,v]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);d?tt("getToken() completed but was canceled"):(tt("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=v&&v.token,h=new o0(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,T=>{ht(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(p0)},u))}catch(w){this.log_("Failed to get token: "+w),d||(this.repoInfo_.nodeAdmin&&ht(w),p())}}}interrupt(t){tt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){tt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Bh(this.interruptReasons_)&&(this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(u=>Zu(u)).join("$"):o="default";const l=this.removeListen_(t,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,r){const o=new me(t).toString();let l;if(this.listens.has(o)){const u=this.listens.get(o);l=u.get(r),u.delete(r),u.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(t,r){tt("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dp&&(this.reconnectDelay_=cp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){tt("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+Zp.replace(/\./g,"-")]=1,Hp()?t["framework.cordova"]=1:Yy()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ho.getInstance().currentlyOnline();return Bh(this.interruptReasons_)&&t}}cn.nextPersistentConnectionId_=0;cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new ie(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new ie(ar,t),l=new ie(ar,r);return this.compare(o,l)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo;class Im extends il{static get __EMPTY_NODE(){return bo}static set __EMPTY_NODE(t){bo=t}compare(t,r){return Qr(t.name,r.name)}isDefinedOn(t){throw Gr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return ie.MIN}maxPost(){return new ie(jn,bo)}makePost(t,r){return z(typeof t=="string","KeyIndex indexValue must always be a string."),new ie(t,bo)}toString(){return".key"}}const lr=new Im;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t,r,o,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=r?o(t.key,r):1,l&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Qe{constructor(t,r,o,l,u){this.key=t,this.value=r,this.color=o??Qe.RED,this.left=l??ft.EMPTY_NODE,this.right=u??ft.EMPTY_NODE}copy(t,r,o,l,u){return new Qe(t??this.key,r??this.value,o??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let l=this;const u=o(t,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(t,r,o),null):u===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,r,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return ft.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,l;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return ft.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Qe.RED=!0;Qe.BLACK=!1;class m0{copy(t,r,o,l,u){return this}insert(t,r,o){return new Qe(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ft{constructor(t,r=ft.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ft(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ft(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Qe.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,l=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ao(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new Ao(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new Ao(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new Ao(this.root_,null,this.comparator_,!0,t)}}ft.EMPTY_NODE=new m0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(i,t){return Qr(i.name,t.name)}function ic(i,t){return Qr(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju;function _0(i){ju=i}const Tm=function(i){return typeof i=="number"?"number:"+rm(i):"string:"+i},Rm=function(i){if(i.isLeafNode()){const t=i.val();z(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Xt(t,".sv"),"Priority must be a string or number.")}else z(i===ju||i.isEmpty(),"priority of unexpected type.");z(i===ju||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fp;class Ge{static set __childrenNodeConstructor(t){fp=t}static get __childrenNodeConstructor(){return fp}constructor(t,r=Ge.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Rm(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ge(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ge.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return re(t)?this:oe(t)===".priority"?this.priorityNode_:Ge.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Ge.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=oe(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(z(o!==".priority"||zn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Ge.__childrenNodeConstructor.EMPTY_NODE.updateChild(ve(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Tm(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=rm(this.value_):t+=this.value_,this.lazyHash_=tm(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ge.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ge.__childrenNodeConstructor?-1:(z(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,l=Ge.VALUE_TYPE_ORDER.indexOf(r),u=Ge.VALUE_TYPE_ORDER.indexOf(o);return z(l>=0,"Unknown leaf type: "+r),z(u>=0,"Unknown leaf type: "+o),l===u?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Ge.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm,Dm;function y0(i){Pm=i}function v0(i){Dm=i}class w0 extends il{compare(t,r){const o=t.node.getPriority(),l=r.node.getPriority(),u=o.compareTo(l);return u===0?Qr(t.name,r.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(jn,new Ge("[PRIORITY-POST]",Dm))}makePost(t,r){const o=Pm(t);return new ie(r,new Ge("[PRIORITY-POST]",o))}toString(){return".priority"}}const Te=new w0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=Math.log(2);class C0{constructor(t){const r=u=>parseInt(Math.log(u)/E0,10),o=u=>parseInt(Array(u+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const l=o(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Vo=function(i,t,r,o){i.sort(t);const l=function(p,g){const E=g-p;let w,v;if(E===0)return null;if(E===1)return w=i[p],v=r?r(w):w,new Qe(v,w.node,Qe.BLACK,null,null);{const T=parseInt(E/2,10)+p,R=l(p,T),D=l(T+1,g);return w=i[T],v=r?r(w):w,new Qe(v,w.node,Qe.BLACK,R,D)}},u=function(p){let g=null,E=null,w=i.length;const v=function(R,D){const A=w-R,j=w;w-=R;const B=l(A+1,j),Y=i[A],ee=r?r(Y):Y;T(new Qe(ee,Y.node,D,null,B))},T=function(R){g?(g.left=R,g=R):(E=R,g=R)};for(let R=0;R<p.count;++R){const D=p.nextBitIsOne(),A=Math.pow(2,p.count-(R+1));D?v(A,Qe.BLACK):(v(A,Qe.BLACK),v(A,Qe.RED))}return E},d=new C0(i.length),h=u(d);return new ft(o||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu;const Ui={};class un{static get Default(){return z(Te,"ChildrenNode.ts has not been loaded"),xu=xu||new un({".priority":Ui},{".priority":Te}),xu}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Wr(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ft?r:null}hasIndex(t){return Xt(this.indexSet_,t.toString())}addIndex(t,r){z(t!==lr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const u=r.getIterator(ie.Wrap);let d=u.getNext();for(;d;)l=l||t.isDefinedOn(d.node),o.push(d),d=u.getNext();let h;l?h=Vo(o,t.getCompare()):h=Ui;const p=t.toString(),g=Object.assign({},this.indexSet_);g[p]=t;const E=Object.assign({},this.indexes_);return E[p]=h,new un(E,g)}addToIndexes(t,r){const o=Bo(this.indexes_,(l,u)=>{const d=Wr(this.indexSet_,u);if(z(d,"Missing index implementation for "+u),l===Ui)if(d.isDefinedOn(t.node)){const h=[],p=r.getIterator(ie.Wrap);let g=p.getNext();for(;g;)g.name!==t.name&&h.push(g),g=p.getNext();return h.push(t),Vo(h,d.getCompare())}else return Ui;else{const h=r.get(t.name);let p=l;return h&&(p=p.remove(new ie(t.name,h))),p.insert(t,t.node)}});return new un(o,this.indexSet_)}removeFromIndexes(t,r){const o=Bo(this.indexes_,l=>{if(l===Ui)return l;{const u=r.get(t.name);return u?l.remove(new ie(t.name,u)):l}});return new un(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wi;class J{static get EMPTY_NODE(){return Wi||(Wi=new J(new ft(ic),null,un.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Rm(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wi}updatePriority(t){return this.children_.isEmpty()?this:new J(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Wi:r}}getChild(t){const r=oe(t);return r===null?this:this.getImmediateChild(r).getChild(ve(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(z(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new ie(t,r);let l,u;r.isEmpty()?(l=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(t,r),u=this.indexMap_.addToIndexes(o,this.children_));const d=l.isEmpty()?Wi:this.priorityNode_;return new J(l,d,u)}}updateChild(t,r){const o=oe(t);if(o===null)return r;{z(oe(t)!==".priority"||zn(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(ve(t),r);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,l=0,u=!0;if(this.forEachChild(Te,(d,h)=>{r[d]=h.val(t),o++,u&&J.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):u=!1}),!t&&u&&l<2*o){const d=[];for(const h in r)d[h]=r[h];return d}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Tm(this.getPriority().val())+":"),this.forEachChild(Te,(r,o)=>{const l=o.hash();l!==""&&(t+=":"+r+":"+l)}),this.lazyHash_=t===""?"":tm(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const l=this.resolveIndex_(o);if(l){const u=l.getPredecessorKey(new ie(t,r));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ie(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ie(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,ie.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,t)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,ie.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,t)>0;)l.getNext(),u=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===hs?-1:0}withIndex(t){if(t===lr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new J(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===lr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Te),l=r.getIterator(Te);let u=o.getNext(),d=l.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=o.getNext(),d=l.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===lr?null:this.indexMap_.get(t.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class x0 extends J{constructor(){super(new ft(ic),J.EMPTY_NODE,un.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return J.EMPTY_NODE}isEmpty(){return!1}}const hs=new x0;Object.defineProperties(ie,{MIN:{value:new ie(ar,J.EMPTY_NODE)},MAX:{value:new ie(jn,hs)}});Im.__EMPTY_NODE=J.EMPTY_NODE;Ge.__childrenNodeConstructor=J;_0(hs);v0(hs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=!0;function qe(i,t=null){if(i===null)return J.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),z(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Ge(r,qe(t))}if(!(i instanceof Array)&&S0){const r=[];let o=!1;if(pt(i,(d,h)=>{if(d.substring(0,1)!=="."){const p=qe(h);p.isEmpty()||(o=o||!p.getPriority().isEmpty(),r.push(new ie(d,p)))}}),r.length===0)return J.EMPTY_NODE;const u=Vo(r,g0,d=>d.name,ic);if(o){const d=Vo(r,Te.getCompare());return new J(u,qe(t),new un({".priority":d},{".priority":Te}))}else return new J(u,qe(t),un.Default)}else{let r=J.EMPTY_NODE;return pt(i,(o,l)=>{if(Xt(i,o)&&o.substring(0,1)!=="."){const u=qe(l);(u.isLeafNode()||!u.isEmpty())&&(r=r.updateImmediateChild(o,u))}}),r.updatePriority(qe(t))}}y0(qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends il{constructor(t){super(),this.indexPath_=t,z(!re(t)&&oe(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),l=this.extractChild(r.node),u=o.compareTo(l);return u===0?Qr(t.name,r.name):u}makePost(t,r){const o=qe(t),l=J.EMPTY_NODE.updateChild(this.indexPath_,o);return new ie(r,l)}maxPost(){const t=J.EMPTY_NODE.updateChild(this.indexPath_,hs);return new ie(jn,t)}toString(){return xm(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends il{compare(t,r){const o=t.node.compareTo(r.node);return o===0?Qr(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(t,r){const o=qe(t);return new ie(r,o)}toString(){return".value"}}const bm=new k0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(i){return{type:"value",snapshotNode:i}}function $r(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function ts(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function ns(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function N0(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t){this.index_=t}updateChild(t,r,o,l,u,d){z(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(r);return h.getChild(l).equals(o.getChild(l))&&h.isEmpty()===o.isEmpty()||(d!=null&&(o.isEmpty()?t.hasChild(r)?d.trackChildChange(ts(r,h)):z(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange($r(r,o)):d.trackChildChange(ns(r,o,h))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Te,(l,u)=>{r.hasChild(l)||o.trackChildChange(ts(l,u))}),r.isLeafNode()||r.forEachChild(Te,(l,u)=>{if(t.hasChild(l)){const d=t.getImmediateChild(l);d.equals(u)||o.trackChildChange(ns(l,u,d))}else o.trackChildChange($r(l,u))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?J.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t){this.indexedFilter_=new oc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=rs.getStartPost_(t),this.endPost_=rs.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,l,u,d){return this.matches(new ie(r,o))||(o=J.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,l,u,d)}updateFullNode(t,r,o){r.isLeafNode()&&(r=J.EMPTY_NODE);let l=r.withIndex(this.index_);l=l.updatePriority(J.EMPTY_NODE);const u=this;return r.forEachChild(Te,(d,h)=>{u.matches(new ie(d,h))||(l=l.updateImmediateChild(d,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new rs(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,l,u,d){return this.rangedFilter_.matches(new ie(r,o))||(o=J.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,l,u,d):this.fullLimitUpdateChild_(t,r,o,u,d)}updateFullNode(t,r,o){let l;if(r.isLeafNode()||r.isEmpty())l=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){l=J.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{l=r.withIndex(this.index_),l=l.updatePriority(J.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let d=0;for(;u.hasNext();){const h=u.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:l=l.updateImmediateChild(h.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,l,u){let d;if(this.reverse_){const w=this.index_.getCompare();d=(v,T)=>w(T,v)}else d=this.index_.getCompare();const h=t;z(h.numChildren()===this.limit_,"");const p=new ie(r,o),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(p);if(h.hasChild(r)){const w=h.getImmediateChild(r);let v=l.getChildAfterChild(this.index_,g,this.reverse_);for(;v!=null&&(v.name===r||h.hasChild(v.name));)v=l.getChildAfterChild(this.index_,v,this.reverse_);const T=v==null?1:d(v,p);if(E&&!o.isEmpty()&&T>=0)return u!=null&&u.trackChildChange(ns(r,o,w)),h.updateImmediateChild(r,o);{u!=null&&u.trackChildChange(ts(r,w));const D=h.updateImmediateChild(r,J.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange($r(v.name,v.node)),D.updateImmediateChild(v.name,v.node)):D}}else return o.isEmpty()?t:E&&d(g,p)>=0?(u!=null&&(u.trackChildChange(ts(g.name,g.node)),u.trackChildChange($r(r,o))),h.updateImmediateChild(r,o).updateImmediateChild(g.name,J.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Te}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ar}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:jn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Te}copy(){const t=new lc;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function T0(i){return i.loadsAllData()?new oc(i.getIndex()):i.hasLimit()?new I0(i):new rs(i)}function R0(i,t,r){const o=i.copy();return o.startSet_=!0,t===void 0&&(t=null),o.indexStartValue_=t,r!=null?(o.startNameSet_=!0,o.indexStartName_=r):(o.startNameSet_=!1,o.indexStartName_=""),o}function P0(i,t,r){const o=i.copy();return o.endSet_=!0,t===void 0&&(t=null),o.indexEndValue_=t,r!==void 0?(o.endNameSet_=!0,o.indexEndName_=r):(o.endNameSet_=!1,o.indexEndName_=""),o}function D0(i,t){const r=i.copy();return r.index_=t,r}function hp(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Te?r="$priority":i.index_===bm?r="$value":i.index_===lr?r="$key":(z(i.index_ instanceof sc,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Be(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Be(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Be(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Be(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Be(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function pp(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Te&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends wm{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(z(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=fs("p:rest:"),this.listens_={}}listen(t,r,o,l){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const d=Go.getListenId_(t,o),h={};this.listens_[d]=h;const p=hp(t._queryParams);this.restRequest_(u+".json",p,(g,E)=>{let w=E;if(g===404&&(w=null,g=null),g===null&&this.onDataUpdate_(u,w,!1,o),Wr(this.listens_,d)===h){let v;g?g===401?v="permission_denied":v="rest_error:"+g:v="ok",l(v,null)}})}unlisten(t,r){const o=Go.getListenId_(t,r);delete this.listens_[o]}get(t){const r=hp(t._queryParams),o=t._path.toString(),l=new nl;return this.restRequest_(o+".json",r,(u,d)=>{let h=d;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(o,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(r.auth=l.accessToken),u&&u.token&&(r.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+sv(r);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(o&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=Xi(h.responseText)}catch{ht("Failed to parse JSON response for "+d+": "+h.responseText)}o(null,p)}else h.status!==401&&h.status!==404&&ht("Got unsuccessful REST response for "+d+" Status: "+h.status),o(h.status);o=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(){return{value:null,children:new Map}}function Om(i,t,r){if(re(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=oe(t);i.children.has(o)||i.children.set(o,Qo());const l=i.children.get(o);t=ve(t),Om(l,t,r)}}function zu(i,t,r){i.value!==null?r(t,i.value):A0(i,(o,l)=>{const u=new me(t.toString()+"/"+o);zu(l,u,r)})}function A0(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&pt(this.last_,(o,l)=>{r[o]=r[o]-l}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=10*1e3,L0=30*1e3,M0=5*60*1e3;class F0{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new O0(t);const o=mp+(L0-mp)*Math.random();Qi(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;pt(t,(l,u)=>{u>0&&Xt(this.statsToReport_,l)&&(r[l]=u,o=!0)}),o&&this.server_.reportStats(r),Qi(this.reportStats_.bind(this),Math.floor(Math.random()*2*M0))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mt||(Mt={}));function Lm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ac(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function uc(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=Mt.ACK_USER_WRITE,this.source=Lm()}operationForChild(t){if(re(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new me(t));return new qo(de(),r,this.revert)}}else return z(oe(this.path)===t,"operationForChild called for unrelated child."),new qo(ve(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t,r){this.source=t,this.path=r,this.type=Mt.LISTEN_COMPLETE}operationForChild(t){return re(this.path)?new is(this.source,de()):new is(this.source,ve(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=Mt.OVERWRITE}operationForChild(t){return re(this.path)?new ur(this.source,de(),this.snap.getImmediateChild(t)):new ur(this.source,ve(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=Mt.MERGE}operationForChild(t){if(re(this.path)){const r=this.children.subtree(new me(t));return r.isEmpty()?null:r.value?new ur(this.source,de(),r.value):new ss(this.source,de(),r)}else return z(oe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ss(this.source,ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(re(t))return this.isFullyInitialized()&&!this.filtered_;const r=oe(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function z0(i,t,r,o){const l=[],u=[];return t.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(N0(d.childName,d.snapshotNode))}),$i(i,l,"child_removed",t,o,r),$i(i,l,"child_added",t,o,r),$i(i,l,"child_moved",u,o,r),$i(i,l,"child_changed",t,o,r),$i(i,l,"value",t,o,r),l}function $i(i,t,r,o,l,u){const d=o.filter(h=>h.type===r);d.sort((h,p)=>U0(i,h,p)),d.forEach(h=>{const p=B0(i,h,u);l.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(p,i.query_))})})}function B0(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function U0(i,t,r){if(t.childName==null||r.childName==null)throw Gr("Should only compare child_ events.");const o=new ie(t.childName,t.snapshotNode),l=new ie(r.childName,r.snapshotNode);return i.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(i,t){return{eventCache:i,serverCache:t}}function qi(i,t,r,o){return sl(new Bn(t,r,o),i.serverCache)}function Mm(i,t,r,o){return sl(i.eventCache,new Bn(t,r,o))}function Ko(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function cr(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su;const W0=()=>(Su||(Su=new ft(Nw)),Su);class Ce{static fromObject(t){let r=new Ce(null);return pt(t,(o,l)=>{r=r.set(new me(o),l)}),r}constructor(t,r=W0()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:de(),value:this.value};if(re(t))return null;{const o=oe(t),l=this.children.get(o);if(l!==null){const u=l.findRootMostMatchingPathAndValue(ve(t),r);return u!=null?{path:Ue(new me(o),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(re(t))return this;{const r=oe(t),o=this.children.get(r);return o!==null?o.subtree(ve(t)):new Ce(null)}}set(t,r){if(re(t))return new Ce(r,this.children);{const o=oe(t),u=(this.children.get(o)||new Ce(null)).set(ve(t),r),d=this.children.insert(o,u);return new Ce(this.value,d)}}remove(t){if(re(t))return this.children.isEmpty()?new Ce(null):new Ce(null,this.children);{const r=oe(t),o=this.children.get(r);if(o){const l=o.remove(ve(t));let u;return l.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,l),this.value===null&&u.isEmpty()?new Ce(null):new Ce(this.value,u)}else return this}}get(t){if(re(t))return this.value;{const r=oe(t),o=this.children.get(r);return o?o.get(ve(t)):null}}setTree(t,r){if(re(t))return r;{const o=oe(t),u=(this.children.get(o)||new Ce(null)).setTree(ve(t),r);let d;return u.isEmpty()?d=this.children.remove(o):d=this.children.insert(o,u),new Ce(this.value,d)}}fold(t){return this.fold_(de(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((l,u)=>{o[l]=u.fold_(Ue(t,l),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,de(),r)}findOnPath_(t,r,o){const l=this.value?o(r,this.value):!1;if(l)return l;if(re(t))return null;{const u=oe(t),d=this.children.get(u);return d?d.findOnPath_(ve(t),Ue(r,u),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,de(),r)}foreachOnPath_(t,r,o){if(re(t))return this;{this.value&&o(r,this.value);const l=oe(t),u=this.children.get(l);return u?u.foreachOnPath_(ve(t),Ue(r,l),o):new Ce(null)}}foreach(t){this.foreach_(de(),t)}foreach_(t,r){this.children.inorderTraversal((o,l)=>{l.foreach_(Ue(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t){this.writeTree_=t}static empty(){return new Ft(new Ce(null))}}function Ki(i,t,r){if(re(t))return new Ft(new Ce(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const l=o.path;let u=o.value;const d=it(l,t);return u=u.updateChild(d,r),new Ft(i.writeTree_.set(l,u))}else{const l=new Ce(r),u=i.writeTree_.setTree(t,l);return new Ft(u)}}}function gp(i,t,r){let o=i;return pt(r,(l,u)=>{o=Ki(o,Ue(t,l),u)}),o}function _p(i,t){if(re(t))return Ft.empty();{const r=i.writeTree_.setTree(t,new Ce(null));return new Ft(r)}}function Bu(i,t){return fr(i,t)!=null}function fr(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(it(r.path,t)):null}function yp(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Te,(o,l)=>{t.push(new ie(o,l))}):i.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&t.push(new ie(o,l.value))}),t}function Mn(i,t){if(re(t))return i;{const r=fr(i,t);return r!=null?new Ft(new Ce(r)):new Ft(i.writeTree_.subtree(t))}}function Uu(i){return i.writeTree_.isEmpty()}function Hr(i,t){return Fm(de(),i.writeTree_,t)}function Fm(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((l,u)=>{l===".priority"?(z(u.value!==null,"Priority writes must always be leaf nodes"),o=u.value):r=Fm(Ue(i,l),u,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Ue(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(i,t){return Um(t,i)}function $0(i,t,r,o,l){z(o>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:l}),l&&(i.visibleWrites=Ki(i.visibleWrites,t,r)),i.lastWriteId=o}function H0(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function V0(i,t){const r=i.allWrites.findIndex(h=>h.writeId===t);z(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let l=o.visible,u=!1,d=i.allWrites.length-1;for(;l&&d>=0;){const h=i.allWrites[d];h.visible&&(d>=r&&G0(h,o.path)?l=!1:Lt(o.path,h.path)&&(u=!0)),d--}if(l){if(u)return Q0(i),!0;if(o.snap)i.visibleWrites=_p(i.visibleWrites,o.path);else{const h=o.children;pt(h,p=>{i.visibleWrites=_p(i.visibleWrites,Ue(o.path,p))})}return!0}else return!1}function G0(i,t){if(i.snap)return Lt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Lt(Ue(i.path,r),t))return!0;return!1}function Q0(i){i.visibleWrites=jm(i.allWrites,q0,de()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function q0(i){return i.visible}function jm(i,t,r){let o=Ft.empty();for(let l=0;l<i.length;++l){const u=i[l];if(t(u)){const d=u.path;let h;if(u.snap)Lt(r,d)?(h=it(r,d),o=Ki(o,h,u.snap)):Lt(d,r)&&(h=it(d,r),o=Ki(o,de(),u.snap.getChild(h)));else if(u.children){if(Lt(r,d))h=it(r,d),o=gp(o,h,u.children);else if(Lt(d,r))if(h=it(d,r),re(h))o=gp(o,de(),u.children);else{const p=Wr(u.children,oe(h));if(p){const g=p.getChild(ve(h));o=Ki(o,de(),g)}}}else throw Gr("WriteRecord should have .snap or .children")}}return o}function zm(i,t,r,o,l){if(!o&&!l){const u=fr(i.visibleWrites,t);if(u!=null)return u;{const d=Mn(i.visibleWrites,t);if(Uu(d))return r;if(r==null&&!Bu(d,de()))return null;{const h=r||J.EMPTY_NODE;return Hr(d,h)}}}else{const u=Mn(i.visibleWrites,t);if(!l&&Uu(u))return r;if(!l&&r==null&&!Bu(u,de()))return null;{const d=function(g){return(g.visible||l)&&(!o||!~o.indexOf(g.writeId))&&(Lt(g.path,t)||Lt(t,g.path))},h=jm(i.allWrites,d,t),p=r||J.EMPTY_NODE;return Hr(h,p)}}}function K0(i,t,r){let o=J.EMPTY_NODE;const l=fr(i.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Te,(u,d)=>{o=o.updateImmediateChild(u,d)}),o;if(r){const u=Mn(i.visibleWrites,t);return r.forEachChild(Te,(d,h)=>{const p=Hr(Mn(u,new me(d)),h);o=o.updateImmediateChild(d,p)}),yp(u).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}else{const u=Mn(i.visibleWrites,t);return yp(u).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}}function Y0(i,t,r,o,l){z(o||l,"Either existingEventSnap or existingServerSnap must exist");const u=Ue(t,r);if(Bu(i.visibleWrites,u))return null;{const d=Mn(i.visibleWrites,u);return Uu(d)?l.getChild(r):Hr(d,l.getChild(r))}}function X0(i,t,r,o){const l=Ue(t,r),u=fr(i.visibleWrites,l);if(u!=null)return u;if(o.isCompleteForChild(r)){const d=Mn(i.visibleWrites,l);return Hr(d,o.getNode().getImmediateChild(r))}else return null}function J0(i,t){return fr(i.visibleWrites,t)}function Z0(i,t,r,o,l,u,d){let h;const p=Mn(i.visibleWrites,t),g=fr(p,de());if(g!=null)h=g;else if(r!=null)h=Hr(p,r);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const E=[],w=d.getCompare(),v=u?h.getReverseIteratorFrom(o,d):h.getIteratorFrom(o,d);let T=v.getNext();for(;T&&E.length<l;)w(T,o)!==0&&E.push(T),T=v.getNext();return E}else return[]}function eE(){return{visibleWrites:Ft.empty(),allWrites:[],lastWriteId:-1}}function Yo(i,t,r,o){return zm(i.writeTree,i.treePath,t,r,o)}function cc(i,t){return K0(i.writeTree,i.treePath,t)}function vp(i,t,r,o){return Y0(i.writeTree,i.treePath,t,r,o)}function Xo(i,t){return J0(i.writeTree,Ue(i.treePath,t))}function tE(i,t,r,o,l,u){return Z0(i.writeTree,i.treePath,t,r,o,l,u)}function dc(i,t,r){return X0(i.writeTree,i.treePath,t,r)}function Bm(i,t){return Um(Ue(i.treePath,t),i.writeTree)}function Um(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;z(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),z(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const u=l.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(o,ns(o,t.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(o,ts(o,l.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(o,$r(o,t.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(o,ns(o,t.snapshotNode,l.oldSnap));else throw Gr("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const Wm=new rE;class fc{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Bn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dc(this.writes_,t,o)}}getChildAfterChild(t,r,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:cr(this.viewCache_),u=tE(this.writes_,l,r,1,o,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(i){return{filter:i}}function sE(i,t){z(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),z(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function oE(i,t,r,o,l){const u=new nE;let d,h;if(r.type===Mt.OVERWRITE){const g=r;g.source.fromUser?d=Wu(i,t,g.path,g.snap,o,l,u):(z(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!re(g.path),d=Jo(i,t,g.path,g.snap,o,l,h,u))}else if(r.type===Mt.MERGE){const g=r;g.source.fromUser?d=aE(i,t,g.path,g.children,o,l,u):(z(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),d=$u(i,t,g.path,g.children,o,l,h,u))}else if(r.type===Mt.ACK_USER_WRITE){const g=r;g.revert?d=dE(i,t,g.path,o,l,u):d=uE(i,t,g.path,g.affectedTree,o,l,u)}else if(r.type===Mt.LISTEN_COMPLETE)d=cE(i,t,r.path,o,u);else throw Gr("Unknown operation type: "+r.type);const p=u.getChanges();return lE(t,d,p),{viewCache:d,changes:p}}function lE(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),u=Ko(i);(r.length>0||!i.eventCache.isFullyInitialized()||l&&!o.getNode().equals(u)||!o.getNode().getPriority().equals(u.getPriority()))&&r.push(Am(Ko(t)))}}function $m(i,t,r,o,l,u){const d=t.eventCache;if(Xo(o,r)!=null)return t;{let h,p;if(re(r))if(z(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=cr(t),E=g instanceof J?g:J.EMPTY_NODE,w=cc(o,E);h=i.filter.updateFullNode(t.eventCache.getNode(),w,u)}else{const g=Yo(o,cr(t));h=i.filter.updateFullNode(t.eventCache.getNode(),g,u)}else{const g=oe(r);if(g===".priority"){z(zn(r)===1,"Can't have a priority with additional path components");const E=d.getNode();p=t.serverCache.getNode();const w=vp(o,r,E,p);w!=null?h=i.filter.updatePriority(E,w):h=d.getNode()}else{const E=ve(r);let w;if(d.isCompleteForChild(g)){p=t.serverCache.getNode();const v=vp(o,r,d.getNode(),p);v!=null?w=d.getNode().getImmediateChild(g).updateChild(E,v):w=d.getNode().getImmediateChild(g)}else w=dc(o,g,t.serverCache);w!=null?h=i.filter.updateChild(d.getNode(),g,w,E,l,u):h=d.getNode()}}return qi(t,h,d.isFullyInitialized()||re(r),i.filter.filtersNodes())}}function Jo(i,t,r,o,l,u,d,h){const p=t.serverCache;let g;const E=d?i.filter:i.filter.getIndexedFilter();if(re(r))g=E.updateFullNode(p.getNode(),o,null);else if(E.filtersNodes()&&!p.isFiltered()){const T=p.getNode().updateChild(r,o);g=E.updateFullNode(p.getNode(),T,null)}else{const T=oe(r);if(!p.isCompleteForPath(r)&&zn(r)>1)return t;const R=ve(r),A=p.getNode().getImmediateChild(T).updateChild(R,o);T===".priority"?g=E.updatePriority(p.getNode(),A):g=E.updateChild(p.getNode(),T,A,R,Wm,null)}const w=Mm(t,g,p.isFullyInitialized()||re(r),E.filtersNodes()),v=new fc(l,w,u);return $m(i,w,r,l,v,h)}function Wu(i,t,r,o,l,u,d){const h=t.eventCache;let p,g;const E=new fc(l,t,u);if(re(r))g=i.filter.updateFullNode(t.eventCache.getNode(),o,d),p=qi(t,g,!0,i.filter.filtersNodes());else{const w=oe(r);if(w===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),o),p=qi(t,g,h.isFullyInitialized(),h.isFiltered());else{const v=ve(r),T=h.getNode().getImmediateChild(w);let R;if(re(v))R=o;else{const D=E.getCompleteChild(w);D!=null?Cm(v)===".priority"&&D.getChild(Sm(v)).isEmpty()?R=D:R=D.updateChild(v,o):R=J.EMPTY_NODE}if(T.equals(R))p=t;else{const D=i.filter.updateChild(h.getNode(),w,R,v,E,d);p=qi(t,D,h.isFullyInitialized(),i.filter.filtersNodes())}}}return p}function wp(i,t){return i.eventCache.isCompleteForChild(t)}function aE(i,t,r,o,l,u,d){let h=t;return o.foreach((p,g)=>{const E=Ue(r,p);wp(t,oe(E))&&(h=Wu(i,h,E,g,l,u,d))}),o.foreach((p,g)=>{const E=Ue(r,p);wp(t,oe(E))||(h=Wu(i,h,E,g,l,u,d))}),h}function Ep(i,t,r){return r.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function $u(i,t,r,o,l,u,d,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,g;re(r)?g=o:g=new Ce(null).setTree(r,o);const E=t.serverCache.getNode();return g.children.inorderTraversal((w,v)=>{if(E.hasChild(w)){const T=t.serverCache.getNode().getImmediateChild(w),R=Ep(i,T,v);p=Jo(i,p,new me(w),R,l,u,d,h)}}),g.children.inorderTraversal((w,v)=>{const T=!t.serverCache.isCompleteForChild(w)&&v.value===null;if(!E.hasChild(w)&&!T){const R=t.serverCache.getNode().getImmediateChild(w),D=Ep(i,R,v);p=Jo(i,p,new me(w),D,l,u,d,h)}}),p}function uE(i,t,r,o,l,u,d){if(Xo(l,r)!=null)return t;const h=t.serverCache.isFiltered(),p=t.serverCache;if(o.value!=null){if(re(r)&&p.isFullyInitialized()||p.isCompleteForPath(r))return Jo(i,t,r,p.getNode().getChild(r),l,u,h,d);if(re(r)){let g=new Ce(null);return p.getNode().forEachChild(lr,(E,w)=>{g=g.set(new me(E),w)}),$u(i,t,r,g,l,u,h,d)}else return t}else{let g=new Ce(null);return o.foreach((E,w)=>{const v=Ue(r,E);p.isCompleteForPath(v)&&(g=g.set(E,p.getNode().getChild(v)))}),$u(i,t,r,g,l,u,h,d)}}function cE(i,t,r,o,l){const u=t.serverCache,d=Mm(t,u.getNode(),u.isFullyInitialized()||re(r),u.isFiltered());return $m(i,d,r,o,Wm,l)}function dE(i,t,r,o,l,u){let d;if(Xo(o,r)!=null)return t;{const h=new fc(o,t,l),p=t.eventCache.getNode();let g;if(re(r)||oe(r)===".priority"){let E;if(t.serverCache.isFullyInitialized())E=Yo(o,cr(t));else{const w=t.serverCache.getNode();z(w instanceof J,"serverChildren would be complete if leaf node"),E=cc(o,w)}E=E,g=i.filter.updateFullNode(p,E,u)}else{const E=oe(r);let w=dc(o,E,t.serverCache);w==null&&t.serverCache.isCompleteForChild(E)&&(w=p.getImmediateChild(E)),w!=null?g=i.filter.updateChild(p,E,w,ve(r),h,u):t.eventCache.getNode().hasChild(E)?g=i.filter.updateChild(p,E,J.EMPTY_NODE,ve(r),h,u):g=p,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Yo(o,cr(t)),d.isLeafNode()&&(g=i.filter.updateFullNode(g,d,u)))}return d=t.serverCache.isFullyInitialized()||Xo(o,de())!=null,qi(t,g,d,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new oc(o.getIndex()),u=T0(o);this.processor_=iE(u);const d=r.serverCache,h=r.eventCache,p=l.updateFullNode(J.EMPTY_NODE,d.getNode(),null),g=u.updateFullNode(J.EMPTY_NODE,h.getNode(),null),E=new Bn(p,d.isFullyInitialized(),l.filtersNodes()),w=new Bn(g,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=sl(w,E),this.eventGenerator_=new j0(this.query_)}get query(){return this.query_}}function hE(i){return i.viewCache_.serverCache.getNode()}function pE(i){return Ko(i.viewCache_)}function mE(i,t){const r=cr(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!re(t)&&!r.getImmediateChild(oe(t)).isEmpty())?r.getChild(t):null}function Cp(i){return i.eventRegistrations_.length===0}function gE(i,t){i.eventRegistrations_.push(t)}function xp(i,t,r){const o=[];if(r){z(t==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(r,l);d&&o.push(d)})}if(t){let l=[];for(let u=0;u<i.eventRegistrations_.length;++u){const d=i.eventRegistrations_[u];if(!d.matches(t))l.push(d);else if(t.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return o}function Sp(i,t,r,o){t.type===Mt.MERGE&&t.source.queryId!==null&&(z(cr(i.viewCache_),"We should always have a full cache before handling merges"),z(Ko(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,u=oE(i.processor_,l,t,r,o);return sE(i.processor_,u.viewCache),z(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,Hm(i,u.changes,u.viewCache.eventCache.getNode(),null)}function _E(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Te,(u,d)=>{o.push($r(u,d))}),r.isFullyInitialized()&&o.push(Am(r.getNode())),Hm(i,o,r.getNode(),t)}function Hm(i,t,r,o){const l=o?[o]:i.eventRegistrations_;return z0(i.eventGenerator_,t,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo;class Vm{constructor(){this.views=new Map}}function yE(i){z(!Zo,"__referenceConstructor has already been defined"),Zo=i}function vE(){return z(Zo,"Reference.ts has not been loaded"),Zo}function wE(i){return i.views.size===0}function hc(i,t,r,o){const l=t.source.queryId;if(l!==null){const u=i.views.get(l);return z(u!=null,"SyncTree gave us an op for an invalid query."),Sp(u,t,r,o)}else{let u=[];for(const d of i.views.values())u=u.concat(Sp(d,t,r,o));return u}}function Gm(i,t,r,o,l){const u=t._queryIdentifier,d=i.views.get(u);if(!d){let h=Yo(r,l?o:null),p=!1;h?p=!0:o instanceof J?(h=cc(r,o),p=!1):(h=J.EMPTY_NODE,p=!1);const g=sl(new Bn(h,p,!1),new Bn(o,l,!1));return new fE(t,g)}return d}function EE(i,t,r,o,l,u){const d=Gm(i,t,o,l,u);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,d),gE(d,r),_E(d,r)}function CE(i,t,r,o){const l=t._queryIdentifier,u=[];let d=[];const h=Un(i);if(l==="default")for(const[p,g]of i.views.entries())d=d.concat(xp(g,r,o)),Cp(g)&&(i.views.delete(p),g.query._queryParams.loadsAllData()||u.push(g.query));else{const p=i.views.get(l);p&&(d=d.concat(xp(p,r,o)),Cp(p)&&(i.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!Un(i)&&u.push(new(vE())(t._repo,t._path)),{removed:u,events:d}}function Qm(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Fn(i,t){let r=null;for(const o of i.views.values())r=r||mE(o,t);return r}function qm(i,t){if(t._queryParams.loadsAllData())return ll(i);{const o=t._queryIdentifier;return i.views.get(o)}}function Km(i,t){return qm(i,t)!=null}function Un(i){return ll(i)!=null}function ll(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el;function xE(i){z(!el,"__referenceConstructor has already been defined"),el=i}function SE(){return z(el,"Reference.ts has not been loaded"),el}let kE=1;class kp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ce(null),this.pendingWriteTree_=eE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ym(i,t,r,o,l){return $0(i.pendingWriteTree_,t,r,o,l),l?ms(i,new ur(Lm(),t,r)):[]}function or(i,t,r=!1){const o=H0(i.pendingWriteTree_,t);if(V0(i.pendingWriteTree_,t)){let u=new Ce(null);return o.snap!=null?u=u.set(de(),!0):pt(o.children,d=>{u=u.set(new me(d),!0)}),ms(i,new qo(o.path,u,r))}else return[]}function ps(i,t,r){return ms(i,new ur(ac(),t,r))}function NE(i,t,r){const o=Ce.fromObject(r);return ms(i,new ss(ac(),t,o))}function IE(i,t){return ms(i,new is(ac(),t))}function TE(i,t,r){const o=mc(i,r);if(o){const l=gc(o),u=l.path,d=l.queryId,h=it(u,t),p=new is(uc(d),h);return _c(i,u,p)}else return[]}function Xm(i,t,r,o,l=!1){const u=t._path,d=i.syncPointTree_.get(u);let h=[];if(d&&(t._queryIdentifier==="default"||Km(d,t))){const p=CE(d,t,r,o);wE(d)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const g=p.removed;if(h=p.events,!l){const E=g.findIndex(v=>v._queryParams.loadsAllData())!==-1,w=i.syncPointTree_.findOnPath(u,(v,T)=>Un(T));if(E&&!w){const v=i.syncPointTree_.subtree(u);if(!v.isEmpty()){const T=bE(v);for(let R=0;R<T.length;++R){const D=T[R],A=D.query,j=tg(i,D);i.listenProvider_.startListening(Yi(A),os(i,A),j.hashFn,j.onComplete)}}}!w&&g.length>0&&!o&&(E?i.listenProvider_.stopListening(Yi(t),null):g.forEach(v=>{const T=i.queryToTagMap.get(al(v));i.listenProvider_.stopListening(Yi(v),T)}))}AE(i,g)}return h}function Jm(i,t,r,o){const l=mc(i,o);if(l!=null){const u=gc(l),d=u.path,h=u.queryId,p=it(d,t),g=new ur(uc(h),p,r);return _c(i,d,g)}else return[]}function RE(i,t,r,o){const l=mc(i,o);if(l){const u=gc(l),d=u.path,h=u.queryId,p=it(d,t),g=Ce.fromObject(r),E=new ss(uc(h),p,g);return _c(i,d,E)}else return[]}function PE(i,t,r,o=!1){const l=t._path;let u=null,d=!1;i.syncPointTree_.foreachOnPath(l,(v,T)=>{const R=it(v,l);u=u||Fn(T,R),d=d||Un(T)});let h=i.syncPointTree_.get(l);h?(d=d||Un(h),u=u||Fn(h,de())):(h=new Vm,i.syncPointTree_=i.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=J.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((T,R)=>{const D=Fn(R,de());D&&(u=u.updateImmediateChild(T,D))}));const g=Km(h,t);if(!g&&!t._queryParams.loadsAllData()){const v=al(t);z(!i.queryToTagMap.has(v),"View does not exist, but we have a tag");const T=OE();i.queryToTagMap.set(v,T),i.tagToQueryMap.set(T,v)}const E=ol(i.pendingWriteTree_,l);let w=EE(h,t,r,E,u,p);if(!g&&!d&&!o){const v=qm(h,t);w=w.concat(LE(i,t,v))}return w}function pc(i,t,r){const l=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(t,(d,h)=>{const p=it(d,t),g=Fn(h,p);if(g)return g});return zm(l,t,u,r,!0)}function DE(i,t){const r=t._path;let o=null;i.syncPointTree_.foreachOnPath(r,(g,E)=>{const w=it(g,r);o=o||Fn(E,w)});let l=i.syncPointTree_.get(r);l?o=o||Fn(l,de()):(l=new Vm,i.syncPointTree_=i.syncPointTree_.set(r,l));const u=o!=null,d=u?new Bn(o,!0,!1):null,h=ol(i.pendingWriteTree_,t._path),p=Gm(l,t,h,u?d.getNode():J.EMPTY_NODE,u);return pE(p)}function ms(i,t){return Zm(t,i.syncPointTree_,null,ol(i.pendingWriteTree_,de()))}function Zm(i,t,r,o){if(re(i.path))return eg(i,t,r,o);{const l=t.get(de());r==null&&l!=null&&(r=Fn(l,de()));let u=[];const d=oe(i.path),h=i.operationForChild(d),p=t.children.get(d);if(p&&h){const g=r?r.getImmediateChild(d):null,E=Bm(o,d);u=u.concat(Zm(h,p,g,E))}return l&&(u=u.concat(hc(l,i,o,r))),u}}function eg(i,t,r,o){const l=t.get(de());r==null&&l!=null&&(r=Fn(l,de()));let u=[];return t.children.inorderTraversal((d,h)=>{const p=r?r.getImmediateChild(d):null,g=Bm(o,d),E=i.operationForChild(d);E&&(u=u.concat(eg(E,h,p,g)))}),l&&(u=u.concat(hc(l,i,o,r))),u}function tg(i,t){const r=t.query,o=os(i,r);return{hashFn:()=>(hE(t)||J.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?TE(i,r._path,o):IE(i,r._path);{const u=Rw(l,r);return Xm(i,r,null,u)}}}}function os(i,t){const r=al(t);return i.queryToTagMap.get(r)}function al(i){return i._path.toString()+"$"+i._queryIdentifier}function mc(i,t){return i.tagToQueryMap.get(t)}function gc(i){const t=i.indexOf("$");return z(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new me(i.substr(0,t))}}function _c(i,t,r){const o=i.syncPointTree_.get(t);z(o,"Missing sync point for query tag that we're tracking");const l=ol(i.pendingWriteTree_,t);return hc(o,r,l,null)}function bE(i){return i.fold((t,r,o)=>{if(r&&Un(r))return[ll(r)];{let l=[];return r&&(l=Qm(r)),pt(o,(u,d)=>{l=l.concat(d)}),l}})}function Yi(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(SE())(i._repo,i._path):i}function AE(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const l=al(o),u=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(u)}}}function OE(){return kE++}function LE(i,t,r){const o=t._path,l=os(i,t),u=tg(i,r),d=i.listenProvider_.startListening(Yi(t),l,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(o);if(l)z(!Un(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((g,E,w)=>{if(!re(g)&&E&&Un(E))return[ll(E).query];{let v=[];return E&&(v=v.concat(Qm(E).map(T=>T.query))),pt(w,(T,R)=>{v=v.concat(R)}),v}});for(let g=0;g<p.length;++g){const E=p[g];i.listenProvider_.stopListening(Yi(E),os(i,E))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new yc(r)}node(){return this.node_}}class vc{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Ue(this.path_,t);return new vc(this.syncTree_,r)}node(){return pc(this.syncTree_,this.path_)}}const ME=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Np=function(i,t,r){if(!i||typeof i!="object")return i;if(z(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return FE(i[".sv"],t,r);if(typeof i[".sv"]=="object")return jE(i[".sv"],t);z(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},FE=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:z(!1,"Unexpected server value: "+i)}},jE=function(i,t,r){i.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&z(!1,"Unexpected increment value: "+o);const l=t.node();if(z(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const d=l.getValue();return typeof d!="number"?o:d+o},zE=function(i,t,r,o){return wc(t,new vc(r,i),o)},ng=function(i,t,r){return wc(i,new yc(t),r)};function wc(i,t,r){const o=i.getPriority().val(),l=Np(o,t.getImmediateChild(".priority"),r);let u;if(i.isLeafNode()){const d=i,h=Np(d.getValue(),t,r);return h!==d.getValue()||l!==d.getPriority().val()?new Ge(h,qe(l)):i}else{const d=i;return u=d,l!==d.getPriority().val()&&(u=u.updatePriority(new Ge(l))),d.forEachChild(Te,(h,p)=>{const g=wc(p,t.getImmediateChild(h),r);g!==p&&(u=u.updateImmediateChild(h,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function Cc(i,t){let r=t instanceof me?t:new me(t),o=i,l=oe(r);for(;l!==null;){const u=Wr(o.node.children,l)||{children:{},childCount:0};o=new Ec(l,o,u),r=ve(r),l=oe(r)}return o}function Kr(i){return i.node.value}function rg(i,t){i.node.value=t,Hu(i)}function ig(i){return i.node.childCount>0}function BE(i){return Kr(i)===void 0&&!ig(i)}function ul(i,t){pt(i.node.children,(r,o)=>{t(new Ec(r,i,o))})}function sg(i,t,r,o){r&&t(i),ul(i,l=>{sg(l,t,!0)})}function UE(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function gs(i){return new me(i.parent===null?i.name:gs(i.parent)+"/"+i.name)}function Hu(i){i.parent!==null&&WE(i.parent,i.name,i)}function WE(i,t,r){const o=BE(r),l=Xt(i.node.children,t);o&&l?(delete i.node.children[t],i.node.childCount--,Hu(i)):!o&&!l&&(i.node.children[t]=r.node,i.node.childCount++,Hu(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=/[\[\].#$\/\u0000-\u001F\u007F]/,HE=/[\[\].#$\u0000-\u001F\u007F]/,ku=10*1024*1024,og=function(i){return typeof i=="string"&&i.length!==0&&!$E.test(i)},lg=function(i){return typeof i=="string"&&i.length!==0&&!HE.test(i)},VE=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),lg(i)},Ip=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!Ju(i)||i&&typeof i=="object"&&Xt(i,".sv")},cl=function(i,t,r,o){o&&t===void 0||xc(Yu(i,"value"),t,r)},xc=function(i,t,r){const o=r instanceof me?new a0(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+ir(o));if(typeof t=="function")throw new Error(i+"contains a function "+ir(o)+" with contents = "+t.toString());if(Ju(t))throw new Error(i+"contains "+t.toString()+" "+ir(o));if(typeof t=="string"&&t.length>ku/3&&rl(t)>ku)throw new Error(i+"contains a string greater than "+ku+" utf8 bytes "+ir(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,u=!1;if(pt(t,(d,h)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!og(d)))throw new Error(i+" contains an invalid key ("+d+") "+ir(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);u0(o,d),xc(i,h,o),c0(o)}),l&&u)throw new Error(i+' contains ".value" child '+ir(o)+" in addition to actual children.")}},Sc=function(i,t,r,o){if(!lg(r))throw new Error(Yu(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},GE=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Sc(i,t,r)},QE=function(i,t){if(oe(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},qE=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!og(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!VE(r))throw new Error(Yu(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ag(i,t){let r=null;for(let o=0;o<t.length;o++){const l=t[o],u=l.getPath();r!==null&&!km(u,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(l)}r&&i.eventLists_.push(r)}function Qt(i,t,r){ag(i,r),YE(i,o=>Lt(o,t)||Lt(t,o))}function YE(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const l=i.eventLists_[o];if(l){const u=l.path;t(u)?(XE(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function XE(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Gi&&tt("event: "+r.toString()),qr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="repo_interrupt",ZE=25;class eC{constructor(t,r,o,l){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qo(),this.transactionQueueTree_=new Ec,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tC(i,t,r){if(i.stats_=tc(i.repoInfo_),i.forceRestClient_||Aw())i.server_=new Go(i.repoInfo_,(o,l,u,d)=>{Tp(i,o,l,u,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Rp(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new cn(i.repoInfo_,t,(o,l,u,d)=>{Tp(i,o,l,u,d)},o=>{Rp(i,o)},o=>{rC(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=jw(i.repoInfo_,()=>new F0(i.stats_,i.server_)),i.infoData_=new b0,i.infoSyncTree_=new kp({startListening:(o,l,u,d)=>{let h=[];const p=i.infoData_.getNode(o._path);return p.isEmpty()||(h=ps(i.infoSyncTree_,o._path,p),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),Nc(i,"connected",!1),i.serverSyncTree_=new kp({startListening:(o,l,u,d)=>(i.server_.listen(o,u,l,(h,p)=>{const g=d(h,p);Qt(i.eventQueue_,o._path,g)}),[]),stopListening:(o,l)=>{i.server_.unlisten(o,l)}})}function nC(i){const r=i.infoData_.getNode(new me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function kc(i){return ME({timestamp:nC(i)})}function Tp(i,t,r,o,l){i.dataUpdateCount++;const u=new me(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let d=[];if(l)if(o){const p=Bo(r,g=>qe(g));d=RE(i.serverSyncTree_,u,p,l)}else{const p=qe(r);d=Jm(i.serverSyncTree_,u,p,l)}else if(o){const p=Bo(r,g=>qe(g));d=NE(i.serverSyncTree_,u,p)}else{const p=qe(r);d=ps(i.serverSyncTree_,u,p)}let h=u;d.length>0&&(h=fl(i,u)),Qt(i.eventQueue_,h,d)}function Rp(i,t){Nc(i,"connected",t),t===!1&&oC(i)}function rC(i,t){pt(t,(r,o)=>{Nc(i,r,o)})}function Nc(i,t,r){const o=new me("/.info/"+t),l=qe(r);i.infoData_.updateSnapshot(o,l);const u=ps(i.infoSyncTree_,o,l);Qt(i.eventQueue_,o,u)}function ug(i){return i.nextWriteId_++}function iC(i,t,r){const o=DE(i.serverSyncTree_,t);return o!=null?Promise.resolve(o):i.server_.get(t).then(l=>{const u=qe(l).withIndex(t._queryParams.getIndex());PE(i.serverSyncTree_,t,r,!0);let d;if(t._queryParams.loadsAllData())d=ps(i.serverSyncTree_,t._path,u);else{const h=os(i.serverSyncTree_,t);d=Jm(i.serverSyncTree_,t._path,u,h)}return Qt(i.eventQueue_,t._path,d),Xm(i.serverSyncTree_,t,r,null,!0),u},l=>(dl(i,"get for query "+Be(t)+" failed: "+l),Promise.reject(new Error(l))))}function sC(i,t,r,o,l){dl(i,"set",{path:t.toString(),value:r,priority:o});const u=kc(i),d=qe(r,o),h=pc(i.serverSyncTree_,t),p=ng(d,h,u),g=ug(i),E=Ym(i.serverSyncTree_,t,p,g,!0);ag(i.eventQueue_,E),i.server_.put(t.toString(),d.val(!0),(v,T)=>{const R=v==="ok";R||ht("set at "+t+" failed: "+v);const D=or(i.serverSyncTree_,g,!R);Qt(i.eventQueue_,t,D),aC(i,l,v,T)});const w=pg(i,t);fl(i,w),Qt(i.eventQueue_,w,[])}function oC(i){dl(i,"onDisconnectEvents");const t=kc(i),r=Qo();zu(i.onDisconnect_,de(),(l,u)=>{const d=zE(l,u,i.serverSyncTree_,t);Om(r,l,d)});let o=[];zu(r,de(),(l,u)=>{o=o.concat(ps(i.serverSyncTree_,l,u));const d=pg(i,l);fl(i,d)}),i.onDisconnect_=Qo(),Qt(i.eventQueue_,de(),o)}function lC(i){i.persistentConnection_&&i.persistentConnection_.interrupt(JE)}function dl(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),tt(r,...t)}function aC(i,t,r,o){t&&qr(()=>{if(r==="ok")t(null);else{const l=(r||"error").toUpperCase();let u=l;o&&(u+=": "+o);const d=new Error(u);d.code=l,t(d)}})}function cg(i,t,r){return pc(i.serverSyncTree_,t,r)||J.EMPTY_NODE}function Ic(i,t=i.transactionQueueTree_){if(t||hl(i,t),Kr(t)){const r=fg(i,t);z(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&uC(i,gs(t),r)}else ig(t)&&ul(t,r=>{Ic(i,r)})}function uC(i,t,r){const o=r.map(g=>g.currentWriteId),l=cg(i,t,o);let u=l;const d=l.hash();for(let g=0;g<r.length;g++){const E=r[g];z(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const w=it(t,E.path);u=u.updateChild(w,E.currentOutputSnapshotRaw)}const h=u.val(!0),p=t;i.server_.put(p.toString(),h,g=>{dl(i,"transaction put response",{path:p.toString(),status:g});let E=[];if(g==="ok"){const w=[];for(let v=0;v<r.length;v++)r[v].status=2,E=E.concat(or(i.serverSyncTree_,r[v].currentWriteId)),r[v].onComplete&&w.push(()=>r[v].onComplete(null,!0,r[v].currentOutputSnapshotResolved)),r[v].unwatcher();hl(i,Cc(i.transactionQueueTree_,t)),Ic(i,i.transactionQueueTree_),Qt(i.eventQueue_,t,E);for(let v=0;v<w.length;v++)qr(w[v])}else{if(g==="datastale")for(let w=0;w<r.length;w++)r[w].status===3?r[w].status=4:r[w].status=0;else{ht("transaction at "+p.toString()+" failed: "+g);for(let w=0;w<r.length;w++)r[w].status=4,r[w].abortReason=g}fl(i,t)}},d)}function fl(i,t){const r=dg(i,t),o=gs(r),l=fg(i,r);return cC(i,l,o),o}function cC(i,t,r){if(t.length===0)return;const o=[];let l=[];const d=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const p=t[h],g=it(r,p.path);let E=!1,w;if(z(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)E=!0,w=p.abortReason,l=l.concat(or(i.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=ZE)E=!0,w="maxretry",l=l.concat(or(i.serverSyncTree_,p.currentWriteId,!0));else{const v=cg(i,p.path,d);p.currentInputSnapshot=v;const T=t[h].update(v.val());if(T!==void 0){xc("transaction failed: Data returned ",T,p.path);let R=qe(T);typeof T=="object"&&T!=null&&Xt(T,".priority")||(R=R.updatePriority(v.getPriority()));const A=p.currentWriteId,j=kc(i),B=ng(R,v,j);p.currentOutputSnapshotRaw=R,p.currentOutputSnapshotResolved=B,p.currentWriteId=ug(i),d.splice(d.indexOf(A),1),l=l.concat(Ym(i.serverSyncTree_,p.path,B,p.currentWriteId,p.applyLocally)),l=l.concat(or(i.serverSyncTree_,A,!0))}else E=!0,w="nodata",l=l.concat(or(i.serverSyncTree_,p.currentWriteId,!0))}Qt(i.eventQueue_,r,l),l=[],E&&(t[h].status=2,function(v){setTimeout(v,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(w==="nodata"?o.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):o.push(()=>t[h].onComplete(new Error(w),!1,null))))}hl(i,i.transactionQueueTree_);for(let h=0;h<o.length;h++)qr(o[h]);Ic(i,i.transactionQueueTree_)}function dg(i,t){let r,o=i.transactionQueueTree_;for(r=oe(t);r!==null&&Kr(o)===void 0;)o=Cc(o,r),t=ve(t),r=oe(t);return o}function fg(i,t){const r=[];return hg(i,t,r),r.sort((o,l)=>o.order-l.order),r}function hg(i,t,r){const o=Kr(t);if(o)for(let l=0;l<o.length;l++)r.push(o[l]);ul(t,l=>{hg(i,l,r)})}function hl(i,t){const r=Kr(t);if(r){let o=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[o]=r[l],o++);r.length=o,rg(t,r.length>0?r:void 0)}ul(t,o=>{hl(i,o)})}function pg(i,t){const r=gs(dg(i,t)),o=Cc(i.transactionQueueTree_,t);return UE(o,l=>{Nu(i,l)}),Nu(i,o),sg(o,l=>{Nu(i,l)}),r}function Nu(i,t){const r=Kr(t);if(r){const o=[];let l=[],u=-1;for(let d=0;d<r.length;d++)r[d].status===3||(r[d].status===1?(z(u===d-1,"All SENT items should be at beginning of queue."),u=d,r[d].status=3,r[d].abortReason="set"):(z(r[d].status===0,"Unexpected transaction status in abort"),r[d].unwatcher(),l=l.concat(or(i.serverSyncTree_,r[d].currentWriteId,!0)),r[d].onComplete&&o.push(r[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?rg(t,void 0):r.length=u+1,Qt(i.eventQueue_,gs(t),l);for(let d=0;d<o.length;d++)qr(o[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let l=r[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function fC(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ht(`Invalid query segment '${r}' in query '${i}'`)}return t}const Pp=function(i,t){const r=hC(i),o=r.namespace;r.domain==="firebase.com"&&hn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&hn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||Sw();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new hm(r.host,r.secure,o,l,t,"",o!==r.subdomain),path:new me(r.pathString)}},hC=function(i){let t="",r="",o="",l="",u="",d=!0,h="https",p=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(h=i.substring(0,g-1),i=i.substring(g+2));let E=i.indexOf("/");E===-1&&(E=i.length);let w=i.indexOf("?");w===-1&&(w=i.length),t=i.substring(0,Math.min(E,w)),E<w&&(l=dC(i.substring(E,w)));const v=fC(i.substring(Math.min(i.length,w)));g=t.indexOf(":"),g>=0?(d=h==="https"||h==="wss",p=parseInt(t.substring(g+1),10)):g=t.length;const T=t.slice(0,g);if(T.toLowerCase()==="localhost")r="localhost";else if(T.split(".").length<=2)r=T;else{const R=t.indexOf(".");o=t.substring(0,R).toLowerCase(),r=t.substring(R+1),u=o}"ns"in v&&(u=v.ns)}return{host:t,port:p,domain:r,subdomain:o,secure:d,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t,r,o,l){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}}class mC{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,r,o,l){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=l}get key(){return re(this._path)?null:Cm(this._path)}get ref(){return new pn(this._repo,this._path)}get _queryIdentifier(){const t=pp(this._queryParams),r=Zu(t);return r==="{}"?"default":r}get _queryObject(){return pp(this._queryParams)}isEqual(t){if(t=dr(t),!(t instanceof Yr))return!1;const r=this._repo===t._repo,o=km(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return r&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+l0(this._path)}}function _C(i,t){if(i._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Tc(i){let t=null,r=null;if(i.hasStart()&&(t=i.getIndexStartValue()),i.hasEnd()&&(r=i.getIndexEndValue()),i.getIndex()===lr){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==ar)throw new Error(o);if(typeof t!="string")throw new Error(l)}if(i.hasEnd()){if(i.getIndexEndName()!==jn)throw new Error(o);if(typeof r!="string")throw new Error(l)}}else if(i.getIndex()===Te){if(t!=null&&!Ip(t)||r!=null&&!Ip(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(z(i.getIndex()instanceof sc||i.getIndex()===bm,"unknown index type."),t!=null&&typeof t=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function mg(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class pn extends Yr{constructor(t,r){super(t,r,new lc,!1)}get parent(){const t=Sm(this._path);return t===null?null:new pn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class ls{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new me(t),o=as(this.ref,t);return new ls(this._node.getChild(r),o,Te)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>t(new ls(l,as(this.ref,o),Te)))}hasChild(t){const r=new me(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qt(i,t){return i=dr(i),i._checkNotDeleted("ref"),t!==void 0?as(i._root,t):i._root}function as(i,t){return i=dr(i),oe(i._path)===null?GE("child","path",t):Sc("child","path",t),new pn(i._repo,Ue(i._path,t))}function Vr(i,t){i=dr(i),QE("set",i._path),cl("set",t,i._path,!1);const r=new nl;return sC(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}function hr(i){i=dr(i);const t=new gC(()=>{}),r=new Rc(t);return iC(i._repo,i,r).then(o=>new ls(o,new pn(i._repo,i._path),i._queryParams.getIndex()))}class Rc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new pC("value",this,new ls(t.snapshotNode,new pn(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new mC(this,t,r):null}matches(t){return t instanceof Rc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class pl{}class yC extends pl{constructor(t,r){super(),this._value=t,this._key=r,this.type="endAt"}_apply(t){cl("endAt",this._value,t._path,!0);const r=P0(t._queryParams,this._value,this._key);if(mg(r),Tc(r),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Yr(t._repo,t._path,r,t._orderByCalled)}}class vC extends pl{constructor(t,r){super(),this._value=t,this._key=r,this.type="startAt"}_apply(t){cl("startAt",this._value,t._path,!0);const r=R0(t._queryParams,this._value,this._key);if(mg(r),Tc(r),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Yr(t._repo,t._path,r,t._orderByCalled)}}class wC extends pl{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){_C(t,"orderByChild");const r=new me(this._path);if(re(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new sc(r),l=D0(t._queryParams,o);return Tc(l),new Yr(t._repo,t._path,l,!0)}}function gg(i){return Sc("orderByChild","path",i),new wC(i)}class EC extends pl{constructor(t,r){super(),this._value=t,this._key=r,this.type="equalTo"}_apply(t){if(cl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new yC(this._value,this._key)._apply(new vC(this._value,this._key)._apply(t))}}function _g(i,t){return new EC(i,t)}function yg(i,...t){let r=dr(i);for(const o of t)r=o._apply(r);return r}yE(pn);xE(pn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="FIREBASE_DATABASE_EMULATOR_HOST",Vu={};let xC=!1;function SC(i,t,r,o){i.repoInfo_=new hm(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function kC(i,t,r,o,l){let u=o||i.options.databaseURL;u===void 0&&(i.options.projectId||hn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=Pp(u,l),h=d.repoInfo,p;typeof process<"u"&&Yh&&(p=Yh[CC]),p?(u=`http://${p}?ns=${h.namespace}`,d=Pp(u,l),h=d.repoInfo):d.repoInfo.secure;const g=new Lw(i.name,i.options,t);qE("Invalid Firebase Database URL",d),re(d.path)||hn("Database URL must point to the root of a Firebase Database (not including a child path).");const E=IC(h,i,g,new Ow(i.name,r));return new TC(E,i)}function NC(i,t){const r=Vu[t];(!r||r[i.key]!==i)&&hn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),lC(i),delete r[i.key]}function IC(i,t,r,o){let l=Vu[t.name];l||(l={},Vu[t.name]=l);let u=l[i.toURLString()];return u&&hn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new eC(i,xC,r,o),l[i.toURLString()]=u,u}class TC{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pn(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(NC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&hn("Cannot call "+t+" on a deleted database.")}}function RC(i=aw(),t){const r=iw(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=Qy("database");o&&PC(r,...o)}return r}function PC(i,t,r,o={}){i=dr(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&hn("Cannot call useEmulator() after instance has already been initialized.");const l=i._repoInternal;let u;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&hn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Lo(Lo.OWNER);else if(o.mockUserToken){const d=typeof o.mockUserToken=="string"?o.mockUserToken:qy(o.mockUserToken,i.app.options.projectId);u=new Lo(d)}SC(l,t,r,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(i){yw(lw),Wo(new Ji("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return kC(o,l,u,r)},"PUBLIC").setMultipleInstances(!0)),Br(Xh,Jh,i),Br(Xh,Jh,"esm2017")}cn.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};cn.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};DC();var bC="firebase",AC="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(bC,AC,"app");const OC={apiKey:"AIzaSyAKEAcA5YjJcDdjICBZQVfx81bdcNbzvP0",authDomain:"internetbillingsystem-9d4fe.firebaseapp.com",databaseURL:"https://internetbillingsystem-9d4fe-default-rtdb.firebaseio.com",projectId:"internetbillingsystem-9d4fe",storageBucket:"internetbillingsystem-9d4fe.firebasestorage.app",messagingSenderId:"203101832242",appId:"1:203101832242:web:09198a7b73cc3115c8682b",measurementId:"G-RC84E6QDEX"},LC=Yp(OC),Kt=RC(LC);function MC({userName:i,userIndex:t,userSpeed:r,userSender:o,userLocation:l,userAccount:u,userPassword:d,userContact:h,userIp:p,userFee:g}){return y.jsxs(y.Fragment,{children:[y.jsxs("strong",{className:"text-primary900 underline underline-offset-2 text-2xl",children:[t,".",i]}),y.jsxs("div",{className:"font-bold text-gray-500 flex mt-2",children:[y.jsx("p",{children:"  : "}),y.jsx("div",{children:r})]}),y.jsxs("div",{className:"font-bold text-gray-500 flex",children:[y.jsx("p",{children:"   : "}),y.jsx("div",{children:g})]}),y.jsxs("div",{className:"font-bold text-gray-500 flex",children:[y.jsx("p",{children:" : "}),y.jsx("div",{children:o})]}),y.jsxs("div",{className:"font-bold text-gray-500 flex",children:[y.jsx("p",{children:" : "}),y.jsx("div",{children:l})]}),y.jsxs("div",{className:"font-bold text-gray-500 flex flex-col",children:[y.jsx("p",{children:"  : "}),y.jsx("div",{children:u})]}),y.jsxs("div",{className:"font-bold text-gray-500 flex",children:[y.jsx("p",{children:"  : "}),y.jsx("div",{children:d})]}),y.jsxs("div",{className:"font-bold text-gray-500 flex",children:[y.jsx("p",{children:" : "}),y.jsx("div",{children:h})]}),y.jsxs("div",{className:"font-bold text-gray-500 flex",children:[y.jsx("p",{children:" ip : "}),y.jsx("div",{children:p})]})]})}var Hi={},Dp;function FC(){if(Dp)return Hi;Dp=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.parse=d,Hi.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function d(v,T){const R=new u,D=v.length;if(D<2)return R;const A=(T==null?void 0:T.decode)||E;let j=0;do{const B=v.indexOf("=",j);if(B===-1)break;const Y=v.indexOf(";",j),ee=Y===-1?D:Y;if(B>ee){j=v.lastIndexOf(";",B-1)+1;continue}const pe=h(v,j,B),Pe=p(v,B,pe),ke=v.slice(pe,Pe);if(R[ke]===void 0){let Me=h(v,B+1,ee),De=p(v,ee,Me);const We=A(v.slice(Me,De));R[ke]=We}j=ee+1}while(j<D);return R}function h(v,T,R){do{const D=v.charCodeAt(T);if(D!==32&&D!==9)return T}while(++T<R);return R}function p(v,T,R){for(;T>R;){const D=v.charCodeAt(--T);if(D!==32&&D!==9)return T+1}return R}function g(v,T,R){const D=(R==null?void 0:R.encode)||encodeURIComponent;if(!i.test(v))throw new TypeError(`argument name is invalid: ${v}`);const A=D(T);if(!t.test(A))throw new TypeError(`argument val is invalid: ${T}`);let j=v+"="+A;if(!R)return j;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);j+="; Max-Age="+R.maxAge}if(R.domain){if(!r.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);j+="; Domain="+R.domain}if(R.path){if(!o.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);j+="; Path="+R.path}if(R.expires){if(!w(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);j+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(j+="; HttpOnly"),R.secure&&(j+="; Secure"),R.partitioned&&(j+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return j}function E(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function w(v){return l.call(v)==="[object Date]"}return Hi}FC();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bp="popstate";function jC(i={}){function t(o,l){let{pathname:u,search:d,hash:h}=o.location;return Gu("",{pathname:u,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(o,l){return typeof l=="string"?l:us(l)}return BC(t,r,null,i)}function Re(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Yt(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zC(){return Math.random().toString(36).substring(2,10)}function Ap(i,t){return{usr:i.state,key:i.key,idx:t}}function Gu(i,t,r=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Xr(t):t,state:r,key:t&&t.key||o||zC()}}function us({pathname:i="/",search:t="",hash:r=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Xr(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substring(r),i=i.substring(0,r));let o=i.indexOf("?");o>=0&&(t.search=i.substring(o),i=i.substring(0,o)),i&&(t.pathname=i)}return t}function BC(i,t,r,o={}){let{window:l=document.defaultView,v5Compat:u=!1}=o,d=l.history,h="POP",p=null,g=E();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function E(){return(d.state||{idx:null}).idx}function w(){h="POP";let A=E(),j=A==null?null:A-g;g=A,p&&p({action:h,location:D.location,delta:j})}function v(A,j){h="PUSH";let B=Gu(D.location,A,j);g=E()+1;let Y=Ap(B,g),ee=D.createHref(B);try{d.pushState(Y,"",ee)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;l.location.assign(ee)}u&&p&&p({action:h,location:D.location,delta:1})}function T(A,j){h="REPLACE";let B=Gu(D.location,A,j);g=E();let Y=Ap(B,g),ee=D.createHref(B);d.replaceState(Y,"",ee),u&&p&&p({action:h,location:D.location,delta:0})}function R(A){let j=l.location.origin!=="null"?l.location.origin:l.location.href,B=typeof A=="string"?A:us(A);return B=B.replace(/ $/,"%20"),Re(j,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,j)}let D={get action(){return h},get location(){return i(l,d)},listen(A){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(bp,w),p=A,()=>{l.removeEventListener(bp,w),p=null}},createHref(A){return t(l,A)},createURL:R,encodeLocation(A){let j=R(A);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:T,go(A){return d.go(A)}};return D}function vg(i,t,r="/"){return UC(i,t,r,!1)}function UC(i,t,r,o){let l=typeof t=="string"?Xr(t):t,u=Wn(l.pathname||"/",r);if(u==null)return null;let d=wg(i);WC(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let g=ZC(u);h=XC(d[p],g,o)}return h}function wg(i,t=[],r=[],o=""){let l=(u,d,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(Re(p.relativePath.startsWith(o),`Absolute route path "${p.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(o.length));let g=dn([o,p.relativePath]),E=r.concat(p);u.children&&u.children.length>0&&(Re(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),wg(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:KC(g,u.index),routesMeta:E})};return i.forEach((u,d)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,d);else for(let p of Eg(u.path))l(u,d,p)}),t}function Eg(i){let t=i.split("/");if(t.length===0)return[];let[r,...o]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let d=Eg(o.join("/")),h=[];return h.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...d),h.map(p=>i.startsWith("/")&&p===""?"/":p)}function WC(i){i.sort((t,r)=>t.score!==r.score?r.score-t.score:YC(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var $C=/^:[\w-]+$/,HC=3,VC=2,GC=1,QC=10,qC=-2,Op=i=>i==="*";function KC(i,t){let r=i.split("/"),o=r.length;return r.some(Op)&&(o+=qC),t&&(o+=VC),r.filter(l=>!Op(l)).reduce((l,u)=>l+($C.test(u)?HC:u===""?GC:QC),o)}function YC(i,t){return i.length===t.length&&i.slice(0,-1).every((o,l)=>o===t[l])?i[i.length-1]-t[t.length-1]:0}function XC(i,t,r=!1){let{routesMeta:o}=i,l={},u="/",d=[];for(let h=0;h<o.length;++h){let p=o[h],g=h===o.length-1,E=u==="/"?t:t.slice(u.length)||"/",w=tl({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),v=p.route;if(!w&&g&&r&&!o[o.length-1].route.index&&(w=tl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:dn([u,w.pathname]),pathnameBase:rx(dn([u,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(u=dn([u,w.pathnameBase]))}return d}function tl(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,o]=JC(i.path,i.caseSensitive,i.end),l=t.match(r);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:o.reduce((g,{paramName:E,isOptional:w},v)=>{if(E==="*"){let R=h[v]||"";d=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}const T=h[v];return w&&!T?g[E]=void 0:g[E]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:i}}function JC(i,t=!1,r=!0){Yt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),o]}function ZC(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yt(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Wn(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=i.charAt(r);return o&&o!=="/"?null:i.slice(r)||"/"}function ex(i,t="/"){let{pathname:r,search:o="",hash:l=""}=typeof i=="string"?Xr(i):i;return{pathname:r?r.startsWith("/")?r:tx(r,t):t,search:ix(o),hash:sx(l)}}function tx(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Iu(i,t,r,o){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nx(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Cg(i){let t=nx(i);return t.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase)}function xg(i,t,r,o=!1){let l;typeof i=="string"?l=Xr(i):(l={...i},Re(!l.pathname||!l.pathname.includes("?"),Iu("?","pathname","search",l)),Re(!l.pathname||!l.pathname.includes("#"),Iu("#","pathname","hash",l)),Re(!l.search||!l.search.includes("#"),Iu("#","search","hash",l)));let u=i===""||l.pathname==="",d=u?"/":l.pathname,h;if(d==null)h=r;else{let w=t.length-1;if(!o&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),w-=1;l.pathname=v.join("/")}h=w>=0?t[w]:"/"}let p=ex(l,h),g=d&&d!=="/"&&d.endsWith("/"),E=(u||d===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var dn=i=>i.join("/").replace(/\/\/+/g,"/"),rx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),ix=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,sx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ox(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Sg=["POST","PUT","PATCH","DELETE"];new Set(Sg);var lx=["GET",...Sg];new Set(lx);var Jr=P.createContext(null);Jr.displayName="DataRouter";var ml=P.createContext(null);ml.displayName="DataRouterState";var kg=P.createContext({isTransitioning:!1});kg.displayName="ViewTransition";var ax=P.createContext(new Map);ax.displayName="Fetchers";var ux=P.createContext(null);ux.displayName="Await";var Jt=P.createContext(null);Jt.displayName="Navigation";var _s=P.createContext(null);_s.displayName="Location";var Zt=P.createContext({outlet:null,matches:[],isDataRoute:!1});Zt.displayName="Route";var Pc=P.createContext(null);Pc.displayName="RouteError";function cx(i,{relative:t}={}){Re(ys(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=P.useContext(Jt),{hash:l,pathname:u,search:d}=vs(i,{relative:t}),h=u;return r!=="/"&&(h=u==="/"?r:dn([r,u])),o.createHref({pathname:h,search:d,hash:l})}function ys(){return P.useContext(_s)!=null}function $n(){return Re(ys(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(_s).location}var Ng="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ig(i){P.useContext(Jt).static||P.useLayoutEffect(i)}function dx(){let{isDataRoute:i}=P.useContext(Zt);return i?kx():fx()}function fx(){Re(ys(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(Jr),{basename:t,navigator:r}=P.useContext(Jt),{matches:o}=P.useContext(Zt),{pathname:l}=$n(),u=JSON.stringify(Cg(o)),d=P.useRef(!1);return Ig(()=>{d.current=!0}),P.useCallback((p,g={})=>{if(Yt(d.current,Ng),!d.current)return;if(typeof p=="number"){r.go(p);return}let E=xg(p,JSON.parse(u),l,g.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:dn([t,E.pathname])),(g.replace?r.replace:r.push)(E,g.state,g)},[t,r,u,l,i])}P.createContext(null);function hx(){let{matches:i}=P.useContext(Zt),t=i[i.length-1];return t?t.params:{}}function vs(i,{relative:t}={}){let{matches:r}=P.useContext(Zt),{pathname:o}=$n(),l=JSON.stringify(Cg(r));return P.useMemo(()=>xg(i,JSON.parse(l),o,t==="path"),[i,l,o,t])}function px(i,t){return Tg(i,t)}function Tg(i,t,r,o){var j;Re(ys(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(Jt),{matches:u}=P.useContext(Zt),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",E=d&&d.route;{let B=E&&E.path||"";Rg(p,!E||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=$n(),v;if(t){let B=typeof t=="string"?Xr(t):t;Re(g==="/"||((j=B.pathname)==null?void 0:j.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),v=B}else v=w;let T=v.pathname||"/",R=T;if(g!=="/"){let B=g.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(B.length).join("/")}let D=vg(i,{pathname:R});Yt(E||D!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Yt(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=vx(D&&D.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:dn([g,l.encodeLocation?l.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:dn([g,l.encodeLocation?l.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),u,r,o);return t&&A?P.createElement(_s.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function mx(){let i=Sx(),t=ox(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),r?P.createElement("pre",{style:l},r):null,d)}var gx=P.createElement(mx,null),_x=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?P.createElement(Zt.Provider,{value:this.props.routeContext},P.createElement(Pc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yx({routeContext:i,match:t,children:r}){let o=P.useContext(Jr);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Zt.Provider,{value:i},r)}function vx(i,t=[],r=null,o=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let l=i,u=r==null?void 0:r.errors;if(u!=null){let p=l.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Re(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(r)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:E,errors:w}=r,v=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||v){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,g,E)=>{let w,v=!1,T=null,R=null;r&&(w=u&&g.route.id?u[g.route.id]:void 0,T=g.route.errorElement||gx,d&&(h<0&&E===0?(Rg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,R=null):h===E&&(v=!0,R=g.route.hydrateFallbackElement||null)));let D=t.concat(l.slice(0,E+1)),A=()=>{let j;return w?j=T:v?j=R:g.route.Component?j=P.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=p,P.createElement(yx,{match:g,routeContext:{outlet:p,matches:D,isDataRoute:r!=null},children:j})};return r&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?P.createElement(_x,{location:r.location,revalidation:r.revalidation,component:T,error:w,children:A(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):A()},null)}function Dc(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wx(i){let t=P.useContext(Jr);return Re(t,Dc(i)),t}function Ex(i){let t=P.useContext(ml);return Re(t,Dc(i)),t}function Cx(i){let t=P.useContext(Zt);return Re(t,Dc(i)),t}function bc(i){let t=Cx(i),r=t.matches[t.matches.length-1];return Re(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function xx(){return bc("useRouteId")}function Sx(){var o;let i=P.useContext(Pc),t=Ex("useRouteError"),r=bc("useRouteError");return i!==void 0?i:(o=t.errors)==null?void 0:o[r]}function kx(){let{router:i}=wx("useNavigate"),t=bc("useNavigate"),r=P.useRef(!1);return Ig(()=>{r.current=!0}),P.useCallback(async(l,u={})=>{Yt(r.current,Ng),r.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...u}))},[i,t])}var Lp={};function Rg(i,t,r){!t&&!Lp[i]&&(Lp[i]=!0,Yt(!1,r))}P.memo(Nx);function Nx({routes:i,future:t,state:r}){return Tg(i,void 0,r,t)}function Mo(i){Re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ix({basename:i="/",children:t=null,location:r,navigationType:o="POP",navigator:l,static:u=!1}){Re(!ys(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof r=="string"&&(r=Xr(r));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:v="default"}=r,T=P.useMemo(()=>{let R=Wn(p,d);return R==null?null:{location:{pathname:R,search:g,hash:E,state:w,key:v},navigationType:o}},[d,p,g,E,w,v,o]);return Yt(T!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:P.createElement(Jt.Provider,{value:h},P.createElement(_s.Provider,{children:t,value:T}))}function Tx({children:i,location:t}){return px(Qu(i),t)}function Qu(i,t=[]){let r=[];return P.Children.forEach(i,(o,l)=>{if(!P.isValidElement(o))return;let u=[...t,l];if(o.type===P.Fragment){r.push.apply(r,Qu(o.props.children,u));return}Re(o.type===Mo,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Re(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Qu(o.props.children,u)),r.push(d)}),r}var Fo="get",jo="application/x-www-form-urlencoded";function gl(i){return i!=null&&typeof i.tagName=="string"}function Rx(i){return gl(i)&&i.tagName.toLowerCase()==="button"}function Px(i){return gl(i)&&i.tagName.toLowerCase()==="form"}function Dx(i){return gl(i)&&i.tagName.toLowerCase()==="input"}function bx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ax(i,t){return i.button===0&&(!t||t==="_self")&&!bx(i)}var Oo=null;function Ox(){if(Oo===null)try{new FormData(document.createElement("form"),0),Oo=!1}catch{Oo=!0}return Oo}var Lx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tu(i){return i!=null&&!Lx.has(i)?(Yt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jo}"`),null):i}function Mx(i,t){let r,o,l,u,d;if(Px(i)){let h=i.getAttribute("action");o=h?Wn(h,t):null,r=i.getAttribute("method")||Fo,l=Tu(i.getAttribute("enctype"))||jo,u=new FormData(i)}else if(Rx(i)||Dx(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||h.getAttribute("action");if(o=p?Wn(p,t):null,r=i.getAttribute("formmethod")||h.getAttribute("method")||Fo,l=Tu(i.getAttribute("formenctype"))||Tu(h.getAttribute("enctype"))||jo,u=new FormData(h,i),!Ox()){let{name:g,type:E,value:w}=i;if(E==="image"){let v=g?`${g}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else g&&u.append(g,w)}}else{if(gl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Fo,o=null,l=jo,d=i}return u&&l==="text/plain"&&(d=u,u=void 0),{action:o,method:r.toLowerCase(),encType:l,formData:u,body:d}}function Ac(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function Fx(i,t){if(i.id in t)return t[i.id];try{let r=await import(i.module);return t[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jx(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function zx(i,t,r){let o=await Promise.all(i.map(async l=>{let u=t.routes[l.route.id];if(u){let d=await Fx(u,r);return d.links?d.links():[]}return[]}));return $x(o.flat(1).filter(jx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Mp(i,t,r,o,l,u){let d=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,h=(p,g)=>{var E;return r[g].pathname!==p.pathname||((E=r[g].route.path)==null?void 0:E.endsWith("*"))&&r[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>d(p,g)||h(p,g)):u==="data"?t.filter((p,g)=>{var w;let E=o.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((w=r[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Bx(i,t){return Ux(i.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let l=[o.module];return o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Ux(i){return[...new Set(i)]}function Wx(i){let t={},r=Object.keys(i).sort();for(let o of r)t[o]=i[o];return t}function $x(i,t){let r=new Set;return new Set(t),i.reduce((o,l)=>{let u=JSON.stringify(Wx(l));return r.has(u)||(r.add(u),o.push({key:u,link:l})),o},[])}function Hx(i){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Vx(){let i=P.useContext(Jr);return Ac(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Gx(){let i=P.useContext(ml);return Ac(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Oc=P.createContext(void 0);Oc.displayName="FrameworkContext";function Pg(){let i=P.useContext(Oc);return Ac(i,"You must render this element inside a <HydratedRouter> element"),i}function Qx(i,t){let r=P.useContext(Oc),[o,l]=P.useState(!1),[u,d]=P.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=t,v=P.useRef(null);P.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let D=j=>{j.forEach(B=>{d(B.isIntersecting)})},A=new IntersectionObserver(D,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[i]),P.useEffect(()=>{if(o){let D=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(D)}}},[o]);let T=()=>{l(!0)},R=()=>{l(!1),d(!1)};return r?i!=="intent"?[u,v,{}]:[u,v,{onFocus:Vi(h,T),onBlur:Vi(p,R),onMouseEnter:Vi(g,T),onMouseLeave:Vi(E,R),onTouchStart:Vi(w,T)}]:[!1,v,{}]}function Vi(i,t){return r=>{i&&i(r),r.defaultPrevented||t(r)}}function qx({page:i,...t}){let{router:r}=Vx(),o=P.useMemo(()=>vg(r.routes,i,r.basename),[r.routes,i,r.basename]);return o?P.createElement(Yx,{page:i,matches:o,...t}):null}function Kx(i){let{manifest:t,routeModules:r}=Pg(),[o,l]=P.useState([]);return P.useEffect(()=>{let u=!1;return zx(i,t,r).then(d=>{u||l(d)}),()=>{u=!0}},[i,t,r]),o}function Yx({page:i,matches:t,...r}){let o=$n(),{manifest:l,routeModules:u}=Pg(),{loaderData:d,matches:h}=Gx(),p=P.useMemo(()=>Mp(i,t,h,l,o,"data"),[i,t,h,l,o]),g=P.useMemo(()=>Mp(i,t,h,l,o,"assets"),[i,t,h,l,o]),E=P.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let T=new Set,R=!1;if(t.forEach(A=>{var B;let j=l.routes[A.route.id];!j||!j.hasLoader||(!p.some(Y=>Y.route.id===A.route.id)&&A.route.id in d&&((B=u[A.route.id])!=null&&B.shouldRevalidate)||j.hasClientLoader?R=!0:T.add(A.route.id))}),T.size===0)return[];let D=Hx(i);return R&&T.size>0&&D.searchParams.set("_routes",t.filter(A=>T.has(A.route.id)).map(A=>A.route.id).join(",")),[D.pathname+D.search]},[d,o,l,p,t,i,u]),w=P.useMemo(()=>Bx(g,l),[g,l]),v=Kx(g);return P.createElement(P.Fragment,null,E.map(T=>P.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...r})),w.map(T=>P.createElement("link",{key:T,rel:"modulepreload",href:T,...r})),v.map(({key:T,link:R})=>P.createElement("link",{key:T,...R})))}function Xx(...i){return t=>{i.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Dg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dg&&(window.__reactRouterVersion="7.1.1")}catch{}function Jx({basename:i,children:t,window:r}){let o=P.useRef();o.current==null&&(o.current=jC({window:r,v5Compat:!0}));let l=o.current,[u,d]=P.useState({action:l.action,location:l.location}),h=P.useCallback(p=>{P.startTransition(()=>d(p))},[d]);return P.useLayoutEffect(()=>l.listen(h),[l,h]),P.createElement(Ix,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:l})}var bg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_l=P.forwardRef(function({onClick:t,discover:r="render",prefetch:o="none",relative:l,reloadDocument:u,replace:d,state:h,target:p,to:g,preventScrollReset:E,viewTransition:w,...v},T){let{basename:R}=P.useContext(Jt),D=typeof g=="string"&&bg.test(g),A,j=!1;if(typeof g=="string"&&D&&(A=g,Dg))try{let De=new URL(window.location.href),We=g.startsWith("//")?new URL(De.protocol+g):new URL(g),jt=Wn(We.pathname,R);We.origin===De.origin&&jt!=null?g=jt+We.search+We.hash:j=!0}catch{Yt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=cx(g,{relative:l}),[Y,ee,pe]=Qx(o,v),Pe=nS(g,{replace:d,state:h,target:p,preventScrollReset:E,relative:l,viewTransition:w});function ke(De){t&&t(De),De.defaultPrevented||Pe(De)}let Me=P.createElement("a",{...v,...pe,href:A||B,onClick:j||u?t:ke,ref:Xx(T,ee),target:p,"data-discover":!D&&r==="render"?"true":void 0});return Y&&!D?P.createElement(P.Fragment,null,Me,P.createElement(qx,{page:B})):Me});_l.displayName="Link";var Zx=P.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:o="",end:l=!1,style:u,to:d,viewTransition:h,children:p,...g},E){let w=vs(d,{relative:g.relative}),v=$n(),T=P.useContext(ml),{navigator:R,basename:D}=P.useContext(Jt),A=T!=null&&lS(w)&&h===!0,j=R.encodeLocation?R.encodeLocation(w).pathname:w.pathname,B=v.pathname,Y=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;r||(B=B.toLowerCase(),Y=Y?Y.toLowerCase():null,j=j.toLowerCase()),Y&&D&&(Y=Wn(Y,D)||Y);const ee=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let pe=B===j||!l&&B.startsWith(j)&&B.charAt(ee)==="/",Pe=Y!=null&&(Y===j||!l&&Y.startsWith(j)&&Y.charAt(j.length)==="/"),ke={isActive:pe,isPending:Pe,isTransitioning:A},Me=pe?t:void 0,De;typeof o=="function"?De=o(ke):De=[o,pe?"active":null,Pe?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let We=typeof u=="function"?u(ke):u;return P.createElement(_l,{...g,"aria-current":Me,className:De,ref:E,style:We,to:d,viewTransition:h},typeof p=="function"?p(ke):p)});Zx.displayName="NavLink";var eS=P.forwardRef(({discover:i="render",fetcherKey:t,navigate:r,reloadDocument:o,replace:l,state:u,method:d=Fo,action:h,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...v},T)=>{let R=sS(),D=oS(h,{relative:g}),A=d.toLowerCase()==="get"?"get":"post",j=typeof h=="string"&&bg.test(h),B=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ee=Y.nativeEvent.submitter,pe=(ee==null?void 0:ee.getAttribute("formmethod"))||d;R(ee||Y.currentTarget,{fetcherKey:t,method:pe,navigate:r,replace:l,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return P.createElement("form",{ref:T,method:A,action:D,onSubmit:o?p:B,...v,"data-discover":!j&&i==="render"?"true":void 0})});eS.displayName="Form";function tS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ag(i){let t=P.useContext(Jr);return Re(t,tS(i)),t}function nS(i,{target:t,replace:r,state:o,preventScrollReset:l,relative:u,viewTransition:d}={}){let h=dx(),p=$n(),g=vs(i,{relative:u});return P.useCallback(E=>{if(Ax(E,t)){E.preventDefault();let w=r!==void 0?r:us(p)===us(g);h(i,{replace:w,state:o,preventScrollReset:l,relative:u,viewTransition:d})}},[p,h,g,r,o,t,i,l,u,d])}var rS=0,iS=()=>`__${String(++rS)}__`;function sS(){let{router:i}=Ag("useSubmit"),{basename:t}=P.useContext(Jt),r=xx();return P.useCallback(async(o,l={})=>{let{action:u,method:d,encType:h,formData:p,body:g}=Mx(o,t);if(l.navigate===!1){let E=l.fetcherKey||iS();await i.fetch(E,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,r])}function oS(i,{relative:t}={}){let{basename:r}=P.useContext(Jt),o=P.useContext(Zt);Re(o,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),u={...vs(i||".",{relative:t})},d=$n();if(i==null){u.search=d.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(E=>E==="")){h.delete("index"),p.filter(w=>w).forEach(w=>h.append("index",w));let E=h.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:dn([r,u.pathname])),us(u)}function lS(i,t={}){let r=P.useContext(kg);Re(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Ag("useViewTransitionState"),l=vs(i,{relative:t.relative});if(!r.isTransitioning)return!1;let u=Wn(r.currentLocation.pathname,o)||r.currentLocation.pathname,d=Wn(r.nextLocation.pathname,o)||r.nextLocation.pathname;return tl(l.pathname,d)!=null||tl(l.pathname,u)!=null}new TextEncoder;const aS=()=>{const[i,t]=P.useState([]),[r,o]=P.useState(!0),[l,u]=P.useState(null);return P.useEffect(()=>{(async()=>{try{const h=qt(Kt),p=await hr(as(h,"Subscribers"));if(p.exists()){const g=p.val(),E=Object.keys(g).map(w=>({id:w,...g[w]}));t(E)}else console.log("No data available")}catch(h){u("Error reading data: "+h.message)}finally{o(!1)}})()},[]),r?y.jsx("div",{className:"m-6",children:"Loading..."}):l?y.jsx("div",{className:"m-6",children:l}):y.jsx("div",{className:"p-4 overflow-y-auto h-screen scrollbar-hide w-full",children:y.jsx("ul",{className:"flex flex-wrap gap-6",children:i.map((d,h)=>y.jsx(_l,{to:`/subscriber/${d.id}`,className:"flex flex-col select-none",children:y.jsxs("li",{dir:"rtl",className:"text-right bg-gray-200 flex flex-col flex-1 p-4 rounded-2xl hover:shadow-hlw shadow-lw shadow-primary900 transition-all",children:[y.jsx(MC,{userName:d.Name,userIndex:h+1,userSpeed:d.SubscriptionSpeed,userLocation:d.location,userSender:d.sender,userContact:d.Contact,userAccount:d.UserName,userPassword:d.Password,userIp:d.userIp,userFee:d.MonthlyFee}),y.jsx("div",{className:"mt-auto text-gray-400 select-none",children:d.id})]},d.SubscriberID)},h))})})};function uS({isOpen:i,onClose:t,onSubmit:r}){if(!i)return null;const o=async l=>{l.preventDefault();const u={Name:document.getElementById("name").value,Contact:document.getElementById("contactNumber").value,SubscriptionSpeed:document.getElementById("speed").value,MonthlyFee:document.getElementById("MonthlyFee").value,userIp:document.getElementById("userIp").value,UserName:document.getElementById("userName").value,Password:document.getElementById("password").value,location:document.getElementById("location").value,sender:document.getElementById("sender").value},d=qt(Kt,"Subscribers"),h=await hr(d),g=(h.exists()?Object.keys(h.val()).length:0)+1;u.id=g;const E=qt(Kt,`Subscribers/${g}`);await Vr(E,u),Vr(E,u).then(()=>{console.log("Data added successfully!"),t()}).catch(w=>{console.error("Error adding data:",w)}),r(),t()};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-96 relative rtl",children:[y.jsx("button",{className:"absolute top-2 left-2 text-gray-500 hover:text-gray-800",onClick:t,children:""}),y.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 text-right",children:"  "}),y.jsxs("form",{onSubmit:o,children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"name",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:""}),y.jsx("input",{tabIndex:1,type:"text",id:"name",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"contactNumber",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:" "}),y.jsx("input",{tabIndex:2,type:"number",id:"contactNumber",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),y.jsxs("div",{className:"mb-4 flex gap-2",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"MonthlyFee",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:" "}),y.jsx("input",{tabIndex:4,type:"number",id:"MonthlyFee",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"speed",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:" "}),y.jsx("input",{tabIndex:3,type:"number",id:"speed",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"userIp",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:"User IP"}),y.jsx("input",{tabIndex:5,type:"text",id:"userIp",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"userName",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:" "}),y.jsx("input",{tabIndex:6,type:"text",id:"userName",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"password",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:" "}),y.jsx("input",{tabIndex:7,type:"password",id:"password",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),y.jsxs("div",{className:"mb-4 flex gap-2",children:[y.jsxs("div",{className:"",children:[y.jsx("label",{htmlFor:"location",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:""}),y.jsx("input",{tabIndex:9,type:"text",id:"location",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),y.jsxs("div",{className:"",children:[y.jsx("label",{htmlFor:"sender",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:""}),y.jsx("input",{tabIndex:8,type:"text",id:"sender",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]})]}),y.jsxs("div",{className:"flex justify-start",children:[y.jsx("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600",children:"Save"}),y.jsx("button",{className:"ml-auto bg-red-500 text-white hover:text-white",onClick:t,children:"Close"})]})]})]})})}function cS(){const[i,t]=P.useState(!1),r=()=>t(!1),o=()=>t(!0),l=()=>{r()};return y.jsxs(y.Fragment,{children:[y.jsx(aS,{}),y.jsx("button",{onClick:o,className:"absolute bottom-3 right-5 p-2 bg-primary rounded-full border-solid border-4 border-indigo-600 hover:border-primary border-primary900 shadow-lw shadow-primary900 transition-all ",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"28px",viewBox:"0 -960 960 960",width:"28px",fill:"#3D2500",className:"",children:y.jsx("path",{d:"M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"})})}),y.jsx(uS,{isOpen:i,onClose:r,onSubmit:l})]})}function dS(){return y.jsx(y.Fragment,{children:y.jsx("div",{className:"m-auto pt-4 w-44 h-44",children:y.jsxs("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("g",{filter:"url(#filter0_i_1_18)",children:y.jsx("rect",{width:"32",height:"32",rx:"16",fill:"#FF8A00"})}),y.jsx("rect",{x:"0.375",y:"0.375",width:"31.25",height:"31.25",rx:"15.625",stroke:"white",strokeWidth:"0.75"}),y.jsxs("g",{filter:"url(#filter1_d_1_18)",children:[y.jsx("circle",{cx:"15",cy:"16",r:"2",fill:"white"}),y.jsx("rect",{x:"10",y:"5",width:"2",height:"22",fill:"white"}),y.jsx("path",{d:"M15.5 12C20.5 13 20.5 19 15.5 20",stroke:"white",strokeWidth:"1.3",strokeLinecap:"round"}),y.jsx("path",{d:"M16 9C24 10.75 24 21.25 16 23",stroke:"white",strokeWidth:"1.3",strokeLinecap:"round"}),y.jsx("path",{d:"M16.5 6.5C27.5 9 27.5 23 16.5 25.5",stroke:"white",strokeWidth:"1.3",strokeLinecap:"round"})]}),y.jsxs("defs",{children:[y.jsxs("filter",{id:"filter0_i_1_18",x:"0",y:"0",width:"32",height:"32",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[y.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),y.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),y.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),y.jsx("feOffset",{}),y.jsx("feGaussianBlur",{stdDeviation:"2"}),y.jsx("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),y.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}),y.jsx("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_1_18"})]}),y.jsxs("filter",{id:"filter1_d_1_18",x:"8",y:"3",width:"19.4",height:"26",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[y.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),y.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),y.jsx("feOffset",{}),y.jsx("feGaussianBlur",{stdDeviation:"1"}),y.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),y.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.239216 0 0 0 0 0.145098 0 0 0 0 0 0 0 0 0.5 0"}),y.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1_18"}),y.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1_18",result:"shape"})]})]})]})})})}function Fp({buttonText:i,linkDirectory:t}){const o=$n().pathname===`/${t}`;return y.jsx("div",{className:`mt-2 w-100 ml-auto hover:bg-white text-center transition-all duration-700 ${o?"bg-white text-primary":"bg-primary text-white"}`,children:y.jsx(_l,{to:`/${t}`,className:"hover:text-primary text-inherit text-2xl font-bold select-none block p-1",children:i})})}function fS({setOpenNav:i,openNav:t}){return y.jsx(y.Fragment,{children:y.jsxs("div",{className:`bg-primary h-screen w-60 h-100 absolute top-0 ${t?"left-0":"-left-64"} transition-all z-40 shadow-lg`,children:[y.jsx("button",{className:"right-2 absolute p-1 bg-primary",onClick:()=>i(!t),children:y.jsx("i",{className:"fa-solid fa-xmark text-2xl text-white"})}),y.jsxs("div",{className:"mb-20",children:[y.jsx(dS,{}),y.jsx("h1",{className:"mt-6 text-center text-white font-bold text-4xl select-none",children:"Daher.Net"})]}),y.jsx(Fp,{buttonText:"Dashboard",linkDirectory:""}),y.jsx(Fp,{buttonText:"Invoice",linkDirectory:"Invoice"})]})})}function hS(){return y.jsx(y.Fragment,{})}function pS({isOpen:i,onClose:t,onSubmit:r,SubscriberID:o}){if(!i)return null;const l=new Date().toISOString().split("T")[0],u=async d=>{d.preventDefault();const h=qt(Kt,"Payments"),p=await hr(h),E=(p.exists()?Object.keys(p.val()).length:0)+1,w={Amount:document.getElementById("Amount").value,Date:document.getElementById("Date").value,Details:document.getElementById("Details").value,PaymentID:E,SubscriberID:o};w.id=E;const v=qt(Kt,`Payments/${E}`);await Vr(v,w),Vr(v,w).then(()=>{console.log("Data added successfully!"),t()}).catch(T=>{console.error("Error adding data:",T)}),r(),t()};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-96 relative",children:[y.jsx("button",{className:"absolute top-2 left-2 text-gray-500 hover:text-gray-800",onClick:t,children:""}),y.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 text-right",children:"  "}),y.jsxs("form",{onSubmit:u,children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"Amount",className:"mr-1 block text-sm font-medium text-gray-700",children:""}),y.jsx("input",{tabIndex:1,type:"number",id:"Amount",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"Date",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:" "}),y.jsx("input",{tabIndex:2,type:"Date",id:"Date",required:!0,value:l,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"Details",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:""}),y.jsx("textarea",{tabIndex:2,type:"text",id:"Details",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),y.jsx("div",{className:"flex justify-start",children:y.jsx("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600",children:"Save"})})]})]})})}function mS({invoiceIsOpen:i,onClose:t,onSubmit:r,SubscriberID:o}){if(!i)return null;const l=new Date().toISOString().split("T")[0],u=async d=>{d.preventDefault();const h=qt(Kt,"Invoices"),p=await hr(h),E=(p.exists()?Object.keys(p.val()).length:0)+1,w={Amount:document.getElementById("Amount").value,Date:document.getElementById("Date").value,Details:document.getElementById("Details").value,InvoiceID:E,SubscriberID:o};w.id=E;const v=qt(Kt,`Invoices/${E}`);await Vr(v,w),Vr(v,w).then(()=>{console.log("Data added successfully!"),t()}).catch(T=>{console.error("Error adding data:",T)}),r(),t()};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-96 relative",children:[y.jsx("button",{className:"absolute top-2 left-2 text-gray-500 hover:text-gray-800",onClick:t,children:""}),y.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 text-right",children:"  "}),y.jsxs("form",{onSubmit:u,children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"Amount",className:"mr-1 block text-sm font-medium text-gray-700",children:""}),y.jsx("input",{tabIndex:1,type:"number",id:"Amount",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"Date",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:" "}),y.jsx("input",{tabIndex:2,type:"Date",id:"Date",required:!0,value:l,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"Details",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:""}),y.jsx("textarea",{tabIndex:2,type:"text",id:"Details",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),y.jsx("div",{className:"flex justify-start",children:y.jsx("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600",children:"Save"})})]})]})})}function gS({id:i,total:t}){const[r,o]=P.useState(!1),l=()=>o(!1),u=()=>o(!0),d=()=>{l()},[h,p]=P.useState(!1),g=()=>p(!1),E=()=>p(!0),w=()=>{g()},[v,T]=P.useState(null),[R,D]=P.useState(!0),[A,j]=P.useState(null);return P.useEffect(()=>{(async()=>{try{const Y=qt(Kt),ee=await hr(as(Y,`Subscribers/${i}`));if(ee.exists()){const pe=ee.val();T(pe)}else console.log("No data available"),j("No data available for this subscriber.")}catch(Y){j("Error reading data: "+Y.message)}finally{D(!1)}})()},[i]),R?y.jsx("div",{className:"m-6 w-full",children:"Loading..."}):A?y.jsx("div",{className:"m-6 w-full",children:A}):y.jsxs(y.Fragment,{children:[v?y.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow-md text-right dark:bg-stone-700",children:[y.jsxs("p",{className:"text-lg m-1",children:[y.jsx("strong",{children:"  :"})," ",v.Name]}),y.jsxs("div",{className:"flex m-1",children:[y.jsxs("p",{className:"text-center text-sm w-1/2 border border-gray-300 rounded p-2 ml-2",children:[y.jsx("strong",{children:" :"})," ",v.SubscriptionSpeed]}),y.jsxs("p",{className:"text-center text-sm w-1/2 border p-2 border-gray-300 rounded",children:[y.jsx("strong",{children:":"})," ",v.location]})]}),y.jsxs("div",{className:"flex m-1",children:[y.jsxs("p",{className:"text-center text-sm w-1/2 border border-gray-300 rounded p-2 ml-2",children:[y.jsx("strong",{children:":"})," ",v.sender]}),y.jsxs("p",{className:"text-center text-sm w-1/2 border p-2 border-gray-300 rounded",children:[y.jsx("strong",{children:" :"})," ",v.Contact]})]}),y.jsxs("div",{className:"flex m-1",children:[y.jsxs("p",{className:"text-center text-sm w-1/2 border border-gray-300 rounded p-2 ml-2",children:[y.jsx("strong",{children:" :"})," ",v.UserName]}),y.jsxs("p",{className:"text-center text-sm w-1/2 border p-2 border-gray-300 rounded",children:[y.jsx("strong",{children:" :"})," ",v.Password]})]}),y.jsxs("div",{className:"flex m-1",children:[y.jsxs("p",{className:"text-center text-sm w-1/2 border border-gray-300 rounded p-2 ml-2",children:[y.jsx("strong",{children:" "})," ",t]}),y.jsxs("p",{className:"text-center text-sm w-1/2 border p-2 border-gray-300 rounded",children:[y.jsx("strong",{children:" :"})," ",v.MonthlyFee]})]}),y.jsxs("div",{className:"flex m-1",children:[y.jsx("button",{onClick:E,className:"text-center text-sm w-1/2 border border-gray-300 rounded p-2 ml-2 bg-green-500 text-white",children:" "}),y.jsx("button",{onClick:u,className:"text-center text-sm w-1/2 border p-2 border-gray-300 rounded bg-red-500 text-white",children:" "})]})]}):y.jsx("p",{children:"   ."}),y.jsx(pS,{SubscriberID:i,isOpen:h,onClose:g,onSubmit:w}),y.jsx(mS,{SubscriberID:i,invoiceIsOpen:r,onClose:l,onSubmit:d})]})}const _S=({subscriberID:i,setPaymentsVal:t})=>{async function r(d){try{const h=qt(Kt,"Payments"),p=yg(h,gg("SubscriberID"),_g(d)),g=await hr(p);if(g.exists()){const E=g.val();return console.log("Payments for SubscriberID:",E),E}else return console.log("No payments found for this SubscriberID."),null}catch(h){console.error("Error fetching payments:",h)}}const[o,l]=P.useState([]);var u=0;return o.map(d=>{u+=Number(d.Amount)}),t(Number(u)),P.useEffect(()=>{async function d(){const h=await r(i);l(h?Object.values(h):[])}d()},[i]),y.jsx(y.Fragment,{children:y.jsx("div",{className:"mt-1 overflow-y-scroll scrollbar-hide max-h-36 border rounded-sm",children:y.jsxs("table",{className:"w-full border-collapse text-center",children:[y.jsx("thead",{className:"bg-gray-100 dark:bg-stone-900 sticky top-0",children:y.jsxs("tr",{children:[y.jsx("td",{className:"p-1",children:""}),y.jsx("td",{className:"p-1",children:" "}),y.jsx("td",{className:"p-1",children:""})]})}),y.jsx("tbody",{children:o.length>0?o.map((d,h)=>y.jsxs("tr",{className:"hover:bg-gray-200 even:bg-stone-200  dark:even:bg-stone-600 dark:hover:bg-stone-500",children:[y.jsx("td",{className:"p-1 paymentValue",children:d.Amount}),y.jsx("td",{className:"p-1",children:d.Date}),y.jsx("td",{className:"p-1",children:d.Details})]},h)):y.jsx("tr",{children:y.jsx("td",{children:"No Invoice found."})})})]})})})},yS=({subscriberID:i,setInvoicesVal:t})=>{async function r(d){try{const h=qt(Kt,"Invoices"),p=yg(h,gg("SubscriberID"),_g(d)),g=await hr(p);if(g.exists()){const E=g.val();return console.log("Payments for SubscriberID:",E),E}else return console.log("No payments found for this SubscriberID."),null}catch(h){console.error("Error fetching payments:",h)}}const[o,l]=P.useState([]);var u=0;return o.map(d=>{u-=Number(d.Amount)}),t(Number(u)),P.useEffect(()=>{async function d(){const h=await r(i);l(h?Object.values(h):[])}d()},[i]),y.jsx("div",{className:"mt-1 overflow-y-scroll scrollbar-hide max-h-36 border rounded-sm",children:y.jsxs("table",{className:"w-full border-collapse text-center",children:[y.jsx("thead",{className:"bg-gray-100 dark:bg-stone-900 sticky top-0",children:y.jsxs("tr",{children:[y.jsx("td",{className:"p-1",children:""}),y.jsx("td",{className:"p-1",children:" "}),y.jsx("td",{className:"p-1",children:""})]})}),y.jsx("tbody",{children:o.length>0?o.map((d,h)=>y.jsxs("tr",{className:"hover:bg-gray-200 even:bg-stone-200 dark:even:bg-stone-600 dark:hover:bg-stone-500",children:[y.jsx("td",{className:"p-1 invoiceValue",children:d.Amount}),y.jsx("td",{className:"p-1",children:d.DueDate}),y.jsx("td",{className:"p-1",children:d.Details})]},h)):y.jsx("tr",{children:y.jsx("td",{children:"No Invoice found."})})})]})})};function vS(){const{id:i}=hx(),[t,r]=P.useState(0),[o,l]=P.useState(0),[u,d]=P.useState(0);return P.useEffect(()=>{r(o+u)},[o,u]),y.jsxs("div",{dir:"rtl",className:"m-3 w-full",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:" "}),y.jsx(gS,{id:i,total:t}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[y.jsxs("div",{className:"rounded-lg border shadow-md p-4",children:[y.jsx("h2",{className:"mb-4 font-bold text-lg",children:""}),y.jsx(_S,{subscriberID:i,setPaymentsVal:d})]}),y.jsxs("div",{className:"rounded-lg border shadow-md p-4",children:[y.jsx("h2",{className:"mb-4 font-bold text-lg",children:""}),y.jsx(yS,{subscriberID:i,setInvoicesVal:l})]})]})]})}function wS(){const[i,t]=P.useState(!1);return y.jsx(y.Fragment,{children:y.jsxs(Jx,{basename:"/Daher.Net-5G",children:[y.jsxs("div",{className:"text-white flex items-center justify-between w-full bg-primary h-12",children:[y.jsx("h1",{className:"ml-5 text-3xl font-bold",children:"Daher.Net"}),y.jsx("button",{className:"p-3 pb-1 bg-primary",onClick:()=>t(!i),children:y.jsx("span",{className:"material-symbols-outlined",children:"menu"})})]}),y.jsxs("main",{className:"flex max-w-full",children:[y.jsx(fS,{setOpenNav:t,openNav:i}),y.jsxs(Tx,{children:[y.jsx(Mo,{path:"/",element:y.jsx(cS,{})}),y.jsx(Mo,{path:"/invoice",element:y.jsx(hS,{})}),y.jsx(Mo,{path:"/subscriber/:id",element:y.jsx(vS,{})})]})]})]})})}Fy.createRoot(document.getElementById("root")).render(y.jsx(P.StrictMode,{children:y.jsx(wS,{})}));
