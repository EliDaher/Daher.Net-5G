(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();var nu={exports:{}},Oi={},ru={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh;function Ey(){if(wh)return te;wh=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),y=Symbol.iterator;function v(S){return S===null||typeof S!="object"?null:(S=y&&S[y]||S["@@iterator"],typeof S=="function"?S:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,D={};function M(S,L,ee){this.props=S,this.context=L,this.refs=D,this.updater=ee||T}M.prototype.isReactComponent={},M.prototype.setState=function(S,L){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,L,"setState")},M.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function z(){}z.prototype=M.prototype;function U(S,L,ee){this.props=S,this.context=L,this.refs=D,this.updater=ee||T}var Z=U.prototype=new z;Z.constructor=U,N(Z,M.prototype),Z.isPureReactComponent=!0;var re=Array.isArray,me=Object.prototype.hasOwnProperty,Re={current:null},ke={key:!0,ref:!0,__self:!0,__source:!0};function Fe(S,L,ee){var ie,ae={},ue=null,ge=null;if(L!=null)for(ie in L.ref!==void 0&&(ge=L.ref),L.key!==void 0&&(ue=""+L.key),L)me.call(L,ie)&&!ke.hasOwnProperty(ie)&&(ae[ie]=L[ie]);var fe=arguments.length-2;if(fe===1)ae.children=ee;else if(1<fe){for(var Se=Array(fe),gt=0;gt<fe;gt++)Se[gt]=arguments[gt+2];ae.children=Se}if(S&&S.defaultProps)for(ie in fe=S.defaultProps,fe)ae[ie]===void 0&&(ae[ie]=fe[ie]);return{$$typeof:i,type:S,key:ue,ref:ge,props:ae,_owner:Re.current}}function Pe(S,L){return{$$typeof:i,type:S.type,key:L,ref:S.ref,props:S.props,_owner:S._owner}}function We(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function jt(S){var L={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ee){return L[ee]})}var zt=/\/+/g;function mt(S,L){return typeof S=="object"&&S!==null&&S.key!=null?jt(""+S.key):L.toString(36)}function Nt(S,L,ee,ie,ae){var ue=typeof S;(ue==="undefined"||ue==="boolean")&&(S=null);var ge=!1;if(S===null)ge=!0;else switch(ue){case"string":case"number":ge=!0;break;case"object":switch(S.$$typeof){case i:case t:ge=!0}}if(ge)return ge=S,ae=ae(ge),S=ie===""?"."+mt(ge,0):ie,re(ae)?(ee="",S!=null&&(ee=S.replace(zt,"$&/")+"/"),Nt(ae,L,ee,"",function(gt){return gt})):ae!=null&&(We(ae)&&(ae=Pe(ae,ee+(!ae.key||ge&&ge.key===ae.key?"":(""+ae.key).replace(zt,"$&/")+"/")+S)),L.push(ae)),1;if(ge=0,ie=ie===""?".":ie+":",re(S))for(var fe=0;fe<S.length;fe++){ue=S[fe];var Se=ie+mt(ue,fe);ge+=Nt(ue,L,ee,Se,ae)}else if(Se=v(S),typeof Se=="function")for(S=Se.call(S),fe=0;!(ue=S.next()).done;)ue=ue.value,Se=ie+mt(ue,fe++),ge+=Nt(ue,L,ee,Se,ae);else if(ue==="object")throw L=String(S),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ge}function Ut(S,L,ee){if(S==null)return S;var ie=[],ae=0;return Nt(S,ie,"","",function(ue){return L.call(ee,ue,ae++)}),ie}function st(S){if(S._status===-1){var L=S._result;L=L(),L.then(function(ee){(S._status===0||S._status===-1)&&(S._status=1,S._result=ee)},function(ee){(S._status===0||S._status===-1)&&(S._status=2,S._result=ee)}),S._status===-1&&(S._status=0,S._result=L)}if(S._status===1)return S._result.default;throw S._result}var De={current:null},B={transition:null},q={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:B,ReactCurrentOwner:Re};function H(){throw Error("act(...) is not supported in production builds of React.")}return te.Children={map:Ut,forEach:function(S,L,ee){Ut(S,function(){L.apply(this,arguments)},ee)},count:function(S){var L=0;return Ut(S,function(){L++}),L},toArray:function(S){return Ut(S,function(L){return L})||[]},only:function(S){if(!We(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},te.Component=M,te.Fragment=r,te.Profiler=l,te.PureComponent=U,te.StrictMode=o,te.Suspense=p,te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,te.act=H,te.cloneElement=function(S,L,ee){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ie=N({},S.props),ae=S.key,ue=S.ref,ge=S._owner;if(L!=null){if(L.ref!==void 0&&(ue=L.ref,ge=Re.current),L.key!==void 0&&(ae=""+L.key),S.type&&S.type.defaultProps)var fe=S.type.defaultProps;for(Se in L)me.call(L,Se)&&!ke.hasOwnProperty(Se)&&(ie[Se]=L[Se]===void 0&&fe!==void 0?fe[Se]:L[Se])}var Se=arguments.length-2;if(Se===1)ie.children=ee;else if(1<Se){fe=Array(Se);for(var gt=0;gt<Se;gt++)fe[gt]=arguments[gt+2];ie.children=fe}return{$$typeof:i,type:S.type,key:ae,ref:ue,props:ie,_owner:ge}},te.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:u,_context:S},S.Consumer=S},te.createElement=Fe,te.createFactory=function(S){var L=Fe.bind(null,S);return L.type=S,L},te.createRef=function(){return{current:null}},te.forwardRef=function(S){return{$$typeof:h,render:S}},te.isValidElement=We,te.lazy=function(S){return{$$typeof:w,_payload:{_status:-1,_result:S},_init:st}},te.memo=function(S,L){return{$$typeof:g,type:S,compare:L===void 0?null:L}},te.startTransition=function(S){var L=B.transition;B.transition={};try{S()}finally{B.transition=L}},te.unstable_act=H,te.useCallback=function(S,L){return De.current.useCallback(S,L)},te.useContext=function(S){return De.current.useContext(S)},te.useDebugValue=function(){},te.useDeferredValue=function(S){return De.current.useDeferredValue(S)},te.useEffect=function(S,L){return De.current.useEffect(S,L)},te.useId=function(){return De.current.useId()},te.useImperativeHandle=function(S,L,ee){return De.current.useImperativeHandle(S,L,ee)},te.useInsertionEffect=function(S,L){return De.current.useInsertionEffect(S,L)},te.useLayoutEffect=function(S,L){return De.current.useLayoutEffect(S,L)},te.useMemo=function(S,L){return De.current.useMemo(S,L)},te.useReducer=function(S,L,ee){return De.current.useReducer(S,L,ee)},te.useRef=function(S){return De.current.useRef(S)},te.useState=function(S){return De.current.useState(S)},te.useSyncExternalStore=function(S,L,ee){return De.current.useSyncExternalStore(S,L,ee)},te.useTransition=function(){return De.current.useTransition()},te.version="18.3.1",te}var Eh;function Uu(){return Eh||(Eh=1,ru.exports=Ey()),ru.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function Cy(){if(Ch)return Oi;Ch=1;var i=Uu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,g){var w,y={},v=null,T=null;g!==void 0&&(v=""+g),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(T=p.ref);for(w in p)o.call(p,w)&&!u.hasOwnProperty(w)&&(y[w]=p[w]);if(h&&h.defaultProps)for(w in p=h.defaultProps,p)y[w]===void 0&&(y[w]=p[w]);return{$$typeof:t,type:h,key:v,ref:T,props:y,_owner:l.current}}return Oi.Fragment=r,Oi.jsx=d,Oi.jsxs=d,Oi}var Sh;function Sy(){return Sh||(Sh=1,nu.exports=Cy()),nu.exports}var R=Sy(),P=Uu(),Io={},iu={exports:{}},dt={},su={exports:{}},ou={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh;function xy(){return xh||(xh=1,function(i){function t(B,q){var H=B.length;B.push(q);e:for(;0<H;){var S=H-1>>>1,L=B[S];if(0<l(L,q))B[S]=q,B[H]=L,H=S;else break e}}function r(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var q=B[0],H=B.pop();if(H!==q){B[0]=H;e:for(var S=0,L=B.length,ee=L>>>1;S<ee;){var ie=2*(S+1)-1,ae=B[ie],ue=ie+1,ge=B[ue];if(0>l(ae,H))ue<L&&0>l(ge,ae)?(B[S]=ge,B[ue]=H,S=ue):(B[S]=ae,B[ie]=H,S=ie);else if(ue<L&&0>l(ge,H))B[S]=ge,B[ue]=H,S=ue;else break e}}return q}function l(B,q){var H=B.sortIndex-q.sortIndex;return H!==0?H:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var p=[],g=[],w=1,y=null,v=3,T=!1,N=!1,D=!1,M=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(B){for(var q=r(g);q!==null;){if(q.callback===null)o(g);else if(q.startTime<=B)o(g),q.sortIndex=q.expirationTime,t(p,q);else break;q=r(g)}}function re(B){if(D=!1,Z(B),!N)if(r(p)!==null)N=!0,st(me);else{var q=r(g);q!==null&&De(re,q.startTime-B)}}function me(B,q){N=!1,D&&(D=!1,z(Fe),Fe=-1),T=!0;var H=v;try{for(Z(q),y=r(p);y!==null&&(!(y.expirationTime>q)||B&&!jt());){var S=y.callback;if(typeof S=="function"){y.callback=null,v=y.priorityLevel;var L=S(y.expirationTime<=q);q=i.unstable_now(),typeof L=="function"?y.callback=L:y===r(p)&&o(p),Z(q)}else o(p);y=r(p)}if(y!==null)var ee=!0;else{var ie=r(g);ie!==null&&De(re,ie.startTime-q),ee=!1}return ee}finally{y=null,v=H,T=!1}}var Re=!1,ke=null,Fe=-1,Pe=5,We=-1;function jt(){return!(i.unstable_now()-We<Pe)}function zt(){if(ke!==null){var B=i.unstable_now();We=B;var q=!0;try{q=ke(!0,B)}finally{q?mt():(Re=!1,ke=null)}}else Re=!1}var mt;if(typeof U=="function")mt=function(){U(zt)};else if(typeof MessageChannel<"u"){var Nt=new MessageChannel,Ut=Nt.port2;Nt.port1.onmessage=zt,mt=function(){Ut.postMessage(null)}}else mt=function(){M(zt,0)};function st(B){ke=B,Re||(Re=!0,mt())}function De(B,q){Fe=M(function(){B(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_continueExecution=function(){N||T||(N=!0,st(me))},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pe=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return r(p)},i.unstable_next=function(B){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var H=v;v=q;try{return B()}finally{v=H}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=v;v=B;try{return q()}finally{v=H}},i.unstable_scheduleCallback=function(B,q,H){var S=i.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?S+H:S):H=S,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=H+L,B={id:w++,callback:q,priorityLevel:B,startTime:H,expirationTime:L,sortIndex:-1},H>S?(B.sortIndex=H,t(g,B),r(p)===null&&B===r(g)&&(D?(z(Fe),Fe=-1):D=!0,De(re,H-S))):(B.sortIndex=L,t(p,B),N||T||(N=!0,st(me))),B},i.unstable_shouldYield=jt,i.unstable_wrapCallback=function(B){var q=v;return function(){var H=v;v=q;try{return B.apply(this,arguments)}finally{v=H}}}}(ou)),ou}var kh;function ky(){return kh||(kh=1,su.exports=xy()),su.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function Iy(){if(Ih)return dt;Ih=1;var i=Uu(),t=ky();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(l[e]=n,e=0;e<n.length;e++)o.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},y={};function v(e){return p.call(y,e)?!0:p.call(w,e)?!1:g.test(e)?y[e]=!0:(w[e]=!0,!1)}function T(e,n,s,a){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,n,s,a){if(n===null||typeof n>"u"||T(e,n,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function D(e,n,s,a,c,f,m){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=m}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){M[e]=new D(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];M[n]=new D(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){M[e]=new D(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){M[e]=new D(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){M[e]=new D(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){M[e]=new D(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){M[e]=new D(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){M[e]=new D(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){M[e]=new D(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(z,U);M[n]=new D(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(z,U);M[n]=new D(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(z,U);M[n]=new D(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){M[e]=new D(e,1,!1,e.toLowerCase(),null,!1,!1)}),M.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){M[e]=new D(e,1,!1,e.toLowerCase(),null,!0,!0)});function Z(e,n,s,a){var c=M.hasOwnProperty(n)?M[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(N(n,s,c,a)&&(s=null),a||c===null?v(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,a=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?e.setAttributeNS(a,n,s):e.setAttribute(n,s))))}var re=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,me=Symbol.for("react.element"),Re=Symbol.for("react.portal"),ke=Symbol.for("react.fragment"),Fe=Symbol.for("react.strict_mode"),Pe=Symbol.for("react.profiler"),We=Symbol.for("react.provider"),jt=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),Ut=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),B=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,S;function L(e){if(S===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);S=n&&n[1]||""}return`
`+S+e}var ee=!1;function ie(e,n){if(!e||ee)return"";ee=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(I){var a=I}Reflect.construct(e,[],n)}else{try{n.call()}catch(I){a=I}e.call(n.prototype)}else{try{throw Error()}catch(I){a=I}e()}}catch(I){if(I&&a&&typeof I.stack=="string"){for(var c=I.stack.split(`
`),f=a.stack.split(`
`),m=c.length-1,_=f.length-1;1<=m&&0<=_&&c[m]!==f[_];)_--;for(;1<=m&&0<=_;m--,_--)if(c[m]!==f[_]){if(m!==1||_!==1)do if(m--,_--,0>_||c[m]!==f[_]){var E=`
`+c[m].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=m&&0<=_);break}}}finally{ee=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?L(e):""}function ae(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1),e;case 11:return e=ie(e.type.render,!1),e;case 1:return e=ie(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ke:return"Fragment";case Re:return"Portal";case Pe:return"Profiler";case Fe:return"StrictMode";case mt:return"Suspense";case Nt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jt:return(e.displayName||"Context")+".Consumer";case We:return(e._context.displayName||"Context")+".Provider";case zt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ut:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case st:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}function ge(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(n);case 8:return n===Fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Se(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gt(e){var n=Se(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(m){a=""+m,f.call(this,m)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ms(e){e._valueTracker||(e._valueTracker=gt(e))}function kc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),a="";return e&&(a=Se(e)?e.checked?"true":"false":e.value),e=a,e!==s?(n.setValue(e),!0):!1}function gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ul(e,n){var s=n.checked;return H({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Ic(e,n){var s=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;s=fe(n.value!=null?n.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Nc(e,n){n=n.checked,n!=null&&Z(e,"checked",n,!1)}function cl(e,n){Nc(e,n);var s=fe(n.value),a=n.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?dl(e,n.type,s):n.hasOwnProperty("defaultValue")&&dl(e,n.type,fe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Tc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function dl(e,n,s){(n!=="number"||gs(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Yr=Array.isArray;function ur(e,n,s,a){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&a&&(e[s].defaultSelected=!0)}else{for(s=""+fe(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function fl(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return H({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Yr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:fe(s)}}function Pc(e,n){var s=fe(n.value),a=fe(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function Dc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Ac(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hl(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Ac(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _s,Lc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,a,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,a,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(_s=_s||document.createElement("div"),_s.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=_s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function qr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ig=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(e){Ig.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Xr[n]=Xr[e]})});function Oc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Xr.hasOwnProperty(e)&&Xr[e]?(""+n).trim():n+"px"}function Mc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=Oc(s,n[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,c):e[s]=c}}var Ng=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pl(e,n){if(n){if(Ng[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function ml(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gl=null;function _l(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yl=null,cr=null,dr=null;function Fc(e){if(e=vi(e)){if(typeof yl!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Us(n),yl(e.stateNode,e.type,n))}}function bc(e){cr?dr?dr.push(e):dr=[e]:cr=e}function jc(){if(cr){var e=cr,n=dr;if(dr=cr=null,Fc(e),n)for(e=0;e<n.length;e++)Fc(n[e])}}function zc(e,n){return e(n)}function Uc(){}var vl=!1;function Bc(e,n,s){if(vl)return e(n,s);vl=!0;try{return zc(e,n,s)}finally{vl=!1,(cr!==null||dr!==null)&&(Uc(),jc())}}function Jr(e,n){var s=e.stateNode;if(s===null)return null;var a=Us(s);if(a===null)return null;s=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var wl=!1;if(h)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){wl=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{wl=!1}function Tg(e,n,s,a,c,f,m,_,E){var I=Array.prototype.slice.call(arguments,3);try{n.apply(s,I)}catch(O){this.onError(O)}}var ei=!1,ys=null,vs=!1,El=null,Rg={onError:function(e){ei=!0,ys=e}};function Pg(e,n,s,a,c,f,m,_,E){ei=!1,ys=null,Tg.apply(Rg,arguments)}function Dg(e,n,s,a,c,f,m,_,E){if(Pg.apply(this,arguments),ei){if(ei){var I=ys;ei=!1,ys=null}else throw Error(r(198));vs||(vs=!0,El=I)}}function Bn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Wc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function $c(e){if(Bn(e)!==e)throw Error(r(188))}function Ag(e){var n=e.alternate;if(!n){if(n=Bn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,a=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return $c(c),e;if(f===a)return $c(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==a.return)s=c,a=f;else{for(var m=!1,_=c.child;_;){if(_===s){m=!0,s=c,a=f;break}if(_===a){m=!0,a=c,s=f;break}_=_.sibling}if(!m){for(_=f.child;_;){if(_===s){m=!0,s=f,a=c;break}if(_===a){m=!0,a=f,s=c;break}_=_.sibling}if(!m)throw Error(r(189))}}if(s.alternate!==a)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function Hc(e){return e=Ag(e),e!==null?Vc(e):null}function Vc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Vc(e);if(n!==null)return n;e=e.sibling}return null}var Gc=t.unstable_scheduleCallback,Qc=t.unstable_cancelCallback,Lg=t.unstable_shouldYield,Og=t.unstable_requestPaint,Oe=t.unstable_now,Mg=t.unstable_getCurrentPriorityLevel,Cl=t.unstable_ImmediatePriority,Kc=t.unstable_UserBlockingPriority,ws=t.unstable_NormalPriority,Fg=t.unstable_LowPriority,Yc=t.unstable_IdlePriority,Es=null,Bt=null;function bg(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Es,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Ug,jg=Math.log,zg=Math.LN2;function Ug(e){return e>>>=0,e===0?32:31-(jg(e)/zg|0)|0}var Cs=64,Ss=4194304;function ti(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xs(e,n){var s=e.pendingLanes;if(s===0)return 0;var a=0,c=e.suspendedLanes,f=e.pingedLanes,m=s&268435455;if(m!==0){var _=m&~c;_!==0?a=ti(_):(f&=m,f!==0&&(a=ti(f)))}else m=s&~c,m!==0?a=ti(m):f!==0&&(a=ti(f));if(a===0)return 0;if(n!==0&&n!==a&&!(n&c)&&(c=a&-a,f=n&-n,c>=f||c===16&&(f&4194240)!==0))return n;if(a&4&&(a|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)s=31-Tt(n),c=1<<s,a|=e[s],n&=~c;return a}function Bg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wg(e,n){for(var s=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var m=31-Tt(f),_=1<<m,E=c[m];E===-1?(!(_&s)||_&a)&&(c[m]=Bg(_,n)):E<=n&&(e.expiredLanes|=_),f&=~_}}function Sl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qc(){var e=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),e}function xl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ni(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Tt(n),e[n]=s}function $g(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-Tt(s),f=1<<c;n[c]=0,a[c]=-1,e[c]=-1,s&=~f}}function kl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var a=31-Tt(s),c=1<<a;c&n|e[a]&n&&(e[a]|=n),s&=~c}}var he=0;function Xc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jc,Il,Zc,ed,td,Nl=!1,ks=[],hn=null,pn=null,mn=null,ri=new Map,ii=new Map,gn=[],Hg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nd(e,n){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":ri.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(n.pointerId)}}function si(e,n,s,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},n!==null&&(n=vi(n),n!==null&&Il(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Vg(e,n,s,a,c){switch(n){case"focusin":return hn=si(hn,e,n,s,a,c),!0;case"dragenter":return pn=si(pn,e,n,s,a,c),!0;case"mouseover":return mn=si(mn,e,n,s,a,c),!0;case"pointerover":var f=c.pointerId;return ri.set(f,si(ri.get(f)||null,e,n,s,a,c)),!0;case"gotpointercapture":return f=c.pointerId,ii.set(f,si(ii.get(f)||null,e,n,s,a,c)),!0}return!1}function rd(e){var n=Wn(e.target);if(n!==null){var s=Bn(n);if(s!==null){if(n=s.tag,n===13){if(n=Wc(s),n!==null){e.blockedOn=n,td(e.priority,function(){Zc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Rl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);gl=a,s.target.dispatchEvent(a),gl=null}else return n=vi(s),n!==null&&Il(n),e.blockedOn=s,!1;n.shift()}return!0}function id(e,n,s){Is(e)&&s.delete(n)}function Gg(){Nl=!1,hn!==null&&Is(hn)&&(hn=null),pn!==null&&Is(pn)&&(pn=null),mn!==null&&Is(mn)&&(mn=null),ri.forEach(id),ii.forEach(id)}function oi(e,n){e.blockedOn===n&&(e.blockedOn=null,Nl||(Nl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Gg)))}function li(e){function n(c){return oi(c,e)}if(0<ks.length){oi(ks[0],e);for(var s=1;s<ks.length;s++){var a=ks[s];a.blockedOn===e&&(a.blockedOn=null)}}for(hn!==null&&oi(hn,e),pn!==null&&oi(pn,e),mn!==null&&oi(mn,e),ri.forEach(n),ii.forEach(n),s=0;s<gn.length;s++)a=gn[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<gn.length&&(s=gn[0],s.blockedOn===null);)rd(s),s.blockedOn===null&&gn.shift()}var fr=re.ReactCurrentBatchConfig,Ns=!0;function Qg(e,n,s,a){var c=he,f=fr.transition;fr.transition=null;try{he=1,Tl(e,n,s,a)}finally{he=c,fr.transition=f}}function Kg(e,n,s,a){var c=he,f=fr.transition;fr.transition=null;try{he=4,Tl(e,n,s,a)}finally{he=c,fr.transition=f}}function Tl(e,n,s,a){if(Ns){var c=Rl(e,n,s,a);if(c===null)Gl(e,n,a,Ts,s),nd(e,a);else if(Vg(c,e,n,s,a))a.stopPropagation();else if(nd(e,a),n&4&&-1<Hg.indexOf(e)){for(;c!==null;){var f=vi(c);if(f!==null&&Jc(f),f=Rl(e,n,s,a),f===null&&Gl(e,n,a,Ts,s),f===c)break;c=f}c!==null&&a.stopPropagation()}else Gl(e,n,a,null,s)}}var Ts=null;function Rl(e,n,s,a){if(Ts=null,e=_l(a),e=Wn(e),e!==null)if(n=Bn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Wc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Ts=e,null}function sd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mg()){case Cl:return 1;case Kc:return 4;case ws:case Fg:return 16;case Yc:return 536870912;default:return 16}default:return 16}}var _n=null,Pl=null,Rs=null;function od(){if(Rs)return Rs;var e,n=Pl,s=n.length,a,c="value"in _n?_n.value:_n.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var m=s-e;for(a=1;a<=m&&n[s-a]===c[f-a];a++);return Rs=c.slice(e,1<a?1-a:void 0)}function Ps(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function ld(){return!1}function _t(e){function n(s,a,c,f,m){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ds:ld,this.isPropagationStopped=ld,this}return H(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),n}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=_t(hr),ai=H({},hr,{view:0,detail:0}),Yg=_t(ai),Al,Ll,ui,As=H({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ui&&(ui&&e.type==="mousemove"?(Al=e.screenX-ui.screenX,Ll=e.screenY-ui.screenY):Ll=Al=0,ui=e),Al)},movementY:function(e){return"movementY"in e?e.movementY:Ll}}),ad=_t(As),qg=H({},As,{dataTransfer:0}),Xg=_t(qg),Jg=H({},ai,{relatedTarget:0}),Ol=_t(Jg),Zg=H({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),e_=_t(Zg),t_=H({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),n_=_t(t_),r_=H({},hr,{data:0}),ud=_t(r_),i_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=o_[e])?!!n[e]:!1}function Ml(){return l_}var a_=H({},ai,{key:function(e){if(e.key){var n=i_[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ml,charCode:function(e){return e.type==="keypress"?Ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),u_=_t(a_),c_=H({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=_t(c_),d_=H({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ml}),f_=_t(d_),h_=H({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),p_=_t(h_),m_=H({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),g_=_t(m_),__=[9,13,27,32],Fl=h&&"CompositionEvent"in window,ci=null;h&&"documentMode"in document&&(ci=document.documentMode);var y_=h&&"TextEvent"in window&&!ci,dd=h&&(!Fl||ci&&8<ci&&11>=ci),fd=" ",hd=!1;function pd(e,n){switch(e){case"keyup":return __.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function md(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function v_(e,n){switch(e){case"compositionend":return md(n);case"keypress":return n.which!==32?null:(hd=!0,fd);case"textInput":return e=n.data,e===fd&&hd?null:e;default:return null}}function w_(e,n){if(pr)return e==="compositionend"||!Fl&&pd(e,n)?(e=od(),Rs=Pl=_n=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return dd&&n.locale!=="ko"?null:n.data;default:return null}}var E_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!E_[e.type]:n==="textarea"}function _d(e,n,s,a){bc(a),n=bs(n,"onChange"),0<n.length&&(s=new Dl("onChange","change",null,s,a),e.push({event:s,listeners:n}))}var di=null,fi=null;function C_(e){Md(e,0)}function Ls(e){var n=vr(e);if(kc(n))return e}function S_(e,n){if(e==="change")return n}var yd=!1;if(h){var bl;if(h){var jl="oninput"in document;if(!jl){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),jl=typeof vd.oninput=="function"}bl=jl}else bl=!1;yd=bl&&(!document.documentMode||9<document.documentMode)}function wd(){di&&(di.detachEvent("onpropertychange",Ed),fi=di=null)}function Ed(e){if(e.propertyName==="value"&&Ls(fi)){var n=[];_d(n,fi,e,_l(e)),Bc(C_,n)}}function x_(e,n,s){e==="focusin"?(wd(),di=n,fi=s,di.attachEvent("onpropertychange",Ed)):e==="focusout"&&wd()}function k_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ls(fi)}function I_(e,n){if(e==="click")return Ls(n)}function N_(e,n){if(e==="input"||e==="change")return Ls(n)}function T_(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rt=typeof Object.is=="function"?Object.is:T_;function hi(e,n){if(Rt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),a=Object.keys(n);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!p.call(n,c)||!Rt(e[c],n[c]))return!1}return!0}function Cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sd(e,n){var s=Cd(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=n&&a>=n)return{node:s,offset:n-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Cd(s)}}function xd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function kd(){for(var e=window,n=gs();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=gs(e.document)}return n}function zl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function R_(e){var n=kd(),s=e.focusedElem,a=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&xd(s.ownerDocument.documentElement,s)){if(a!==null&&zl(s)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!e.extend&&f>a&&(c=a,a=f,f=c),c=Sd(s,f);var m=Sd(s,a);c&&m&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),f>a?(e.addRange(n),e.extend(m.node,m.offset)):(n.setEnd(m.node,m.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var P_=h&&"documentMode"in document&&11>=document.documentMode,mr=null,Ul=null,pi=null,Bl=!1;function Id(e,n,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Bl||mr==null||mr!==gs(a)||(a=mr,"selectionStart"in a&&zl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),pi&&hi(pi,a)||(pi=a,a=bs(Ul,"onSelect"),0<a.length&&(n=new Dl("onSelect","select",null,n,s),e.push({event:n,listeners:a}),n.target=mr)))}function Os(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var gr={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionend:Os("Transition","TransitionEnd")},Wl={},Nd={};h&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Ms(e){if(Wl[e])return Wl[e];if(!gr[e])return e;var n=gr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Nd)return Wl[e]=n[s];return e}var Td=Ms("animationend"),Rd=Ms("animationiteration"),Pd=Ms("animationstart"),Dd=Ms("transitionend"),Ad=new Map,Ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,n){Ad.set(e,n),u(n,[e])}for(var $l=0;$l<Ld.length;$l++){var Hl=Ld[$l],D_=Hl.toLowerCase(),A_=Hl[0].toUpperCase()+Hl.slice(1);yn(D_,"on"+A_)}yn(Td,"onAnimationEnd"),yn(Rd,"onAnimationIteration"),yn(Pd,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Dd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L_=new Set("cancel close invalid load scroll toggle".split(" ").concat(mi));function Od(e,n,s){var a=e.type||"unknown-event";e.currentTarget=s,Dg(a,n,void 0,e),e.currentTarget=null}function Md(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],c=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var m=a.length-1;0<=m;m--){var _=a[m],E=_.instance,I=_.currentTarget;if(_=_.listener,E!==f&&c.isPropagationStopped())break e;Od(c,_,I),f=E}else for(m=0;m<a.length;m++){if(_=a[m],E=_.instance,I=_.currentTarget,_=_.listener,E!==f&&c.isPropagationStopped())break e;Od(c,_,I),f=E}}}if(vs)throw e=El,vs=!1,El=null,e}function we(e,n){var s=n[Jl];s===void 0&&(s=n[Jl]=new Set);var a=e+"__bubble";s.has(a)||(Fd(n,e,2,!1),s.add(a))}function Vl(e,n,s){var a=0;n&&(a|=4),Fd(s,e,a,n)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function gi(e){if(!e[Fs]){e[Fs]=!0,o.forEach(function(s){s!=="selectionchange"&&(L_.has(s)||Vl(s,!1,e),Vl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Fs]||(n[Fs]=!0,Vl("selectionchange",!1,n))}}function Fd(e,n,s,a){switch(sd(n)){case 1:var c=Qg;break;case 4:c=Kg;break;default:c=Tl}s=c.bind(null,n,s,e),c=void 0,!wl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function Gl(e,n,s,a,c){var f=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var _=a.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(m===4)for(m=a.return;m!==null;){var E=m.tag;if((E===3||E===4)&&(E=m.stateNode.containerInfo,E===c||E.nodeType===8&&E.parentNode===c))return;m=m.return}for(;_!==null;){if(m=Wn(_),m===null)return;if(E=m.tag,E===5||E===6){a=f=m;continue e}_=_.parentNode}}a=a.return}Bc(function(){var I=f,O=_l(s),F=[];e:{var A=Ad.get(e);if(A!==void 0){var W=Dl,V=e;switch(e){case"keypress":if(Ps(s)===0)break e;case"keydown":case"keyup":W=u_;break;case"focusin":V="focus",W=Ol;break;case"focusout":V="blur",W=Ol;break;case"beforeblur":case"afterblur":W=Ol;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Xg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=f_;break;case Td:case Rd:case Pd:W=e_;break;case Dd:W=p_;break;case"scroll":W=Yg;break;case"wheel":W=g_;break;case"copy":case"cut":case"paste":W=n_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=cd}var G=(n&4)!==0,Me=!G&&e==="scroll",x=G?A!==null?A+"Capture":null:A;G=[];for(var C=I,k;C!==null;){k=C;var b=k.stateNode;if(k.tag===5&&b!==null&&(k=b,x!==null&&(b=Jr(C,x),b!=null&&G.push(_i(C,b,k)))),Me)break;C=C.return}0<G.length&&(A=new W(A,V,null,s,O),F.push({event:A,listeners:G}))}}if(!(n&7)){e:{if(A=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",A&&s!==gl&&(V=s.relatedTarget||s.fromElement)&&(Wn(V)||V[qt]))break e;if((W||A)&&(A=O.window===O?O:(A=O.ownerDocument)?A.defaultView||A.parentWindow:window,W?(V=s.relatedTarget||s.toElement,W=I,V=V?Wn(V):null,V!==null&&(Me=Bn(V),V!==Me||V.tag!==5&&V.tag!==6)&&(V=null)):(W=null,V=I),W!==V)){if(G=ad,b="onMouseLeave",x="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(G=cd,b="onPointerLeave",x="onPointerEnter",C="pointer"),Me=W==null?A:vr(W),k=V==null?A:vr(V),A=new G(b,C+"leave",W,s,O),A.target=Me,A.relatedTarget=k,b=null,Wn(O)===I&&(G=new G(x,C+"enter",V,s,O),G.target=k,G.relatedTarget=Me,b=G),Me=b,W&&V)t:{for(G=W,x=V,C=0,k=G;k;k=_r(k))C++;for(k=0,b=x;b;b=_r(b))k++;for(;0<C-k;)G=_r(G),C--;for(;0<k-C;)x=_r(x),k--;for(;C--;){if(G===x||x!==null&&G===x.alternate)break t;G=_r(G),x=_r(x)}G=null}else G=null;W!==null&&bd(F,A,W,G,!1),V!==null&&Me!==null&&bd(F,Me,V,G,!0)}}e:{if(A=I?vr(I):window,W=A.nodeName&&A.nodeName.toLowerCase(),W==="select"||W==="input"&&A.type==="file")var Q=S_;else if(gd(A))if(yd)Q=N_;else{Q=k_;var K=x_}else(W=A.nodeName)&&W.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(Q=I_);if(Q&&(Q=Q(e,I))){_d(F,Q,s,O);break e}K&&K(e,A,I),e==="focusout"&&(K=A._wrapperState)&&K.controlled&&A.type==="number"&&dl(A,"number",A.value)}switch(K=I?vr(I):window,e){case"focusin":(gd(K)||K.contentEditable==="true")&&(mr=K,Ul=I,pi=null);break;case"focusout":pi=Ul=mr=null;break;case"mousedown":Bl=!0;break;case"contextmenu":case"mouseup":case"dragend":Bl=!1,Id(F,s,O);break;case"selectionchange":if(P_)break;case"keydown":case"keyup":Id(F,s,O)}var Y;if(Fl)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else pr?pd(e,s)&&(J="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(J="onCompositionStart");J&&(dd&&s.locale!=="ko"&&(pr||J!=="onCompositionStart"?J==="onCompositionEnd"&&pr&&(Y=od()):(_n=O,Pl="value"in _n?_n.value:_n.textContent,pr=!0)),K=bs(I,J),0<K.length&&(J=new ud(J,e,null,s,O),F.push({event:J,listeners:K}),Y?J.data=Y:(Y=md(s),Y!==null&&(J.data=Y)))),(Y=y_?v_(e,s):w_(e,s))&&(I=bs(I,"onBeforeInput"),0<I.length&&(O=new ud("onBeforeInput","beforeinput",null,s,O),F.push({event:O,listeners:I}),O.data=Y))}Md(F,n)})}function _i(e,n,s){return{instance:e,listener:n,currentTarget:s}}function bs(e,n){for(var s=n+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Jr(e,s),f!=null&&a.unshift(_i(e,f,c)),f=Jr(e,n),f!=null&&a.push(_i(e,f,c))),e=e.return}return a}function _r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bd(e,n,s,a,c){for(var f=n._reactName,m=[];s!==null&&s!==a;){var _=s,E=_.alternate,I=_.stateNode;if(E!==null&&E===a)break;_.tag===5&&I!==null&&(_=I,c?(E=Jr(s,f),E!=null&&m.unshift(_i(s,E,_))):c||(E=Jr(s,f),E!=null&&m.push(_i(s,E,_)))),s=s.return}m.length!==0&&e.push({event:n,listeners:m})}var O_=/\r\n?/g,M_=/\u0000|\uFFFD/g;function jd(e){return(typeof e=="string"?e:""+e).replace(O_,`
`).replace(M_,"")}function js(e,n,s){if(n=jd(n),jd(e)!==n&&s)throw Error(r(425))}function zs(){}var Ql=null,Kl=null;function Yl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,F_=typeof clearTimeout=="function"?clearTimeout:void 0,zd=typeof Promise=="function"?Promise:void 0,b_=typeof queueMicrotask=="function"?queueMicrotask:typeof zd<"u"?function(e){return zd.resolve(null).then(e).catch(j_)}:ql;function j_(e){setTimeout(function(){throw e})}function Xl(e,n){var s=n,a=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){e.removeChild(c),li(n);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);li(n)}function vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Ud(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var yr=Math.random().toString(36).slice(2),Wt="__reactFiber$"+yr,yi="__reactProps$"+yr,qt="__reactContainer$"+yr,Jl="__reactEvents$"+yr,z_="__reactListeners$"+yr,U_="__reactHandles$"+yr;function Wn(e){var n=e[Wt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[qt]||s[Wt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Ud(e);e!==null;){if(s=e[Wt])return s;e=Ud(e)}return n}e=s,s=e.parentNode}return null}function vi(e){return e=e[Wt]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Us(e){return e[yi]||null}var Zl=[],wr=-1;function wn(e){return{current:e}}function Ee(e){0>wr||(e.current=Zl[wr],Zl[wr]=null,wr--)}function _e(e,n){wr++,Zl[wr]=e.current,e.current=n}var En={},Xe=wn(En),ot=wn(!1),$n=En;function Er(e,n){var s=e.type.contextTypes;if(!s)return En;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in s)c[f]=n[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function lt(e){return e=e.childContextTypes,e!=null}function Bs(){Ee(ot),Ee(Xe)}function Bd(e,n,s){if(Xe.current!==En)throw Error(r(168));_e(Xe,n),_e(ot,s)}function Wd(e,n,s){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(r(108,ge(e)||"Unknown",c));return H({},s,a)}function Ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,$n=Xe.current,_e(Xe,e),_e(ot,ot.current),!0}function $d(e,n,s){var a=e.stateNode;if(!a)throw Error(r(169));s?(e=Wd(e,n,$n),a.__reactInternalMemoizedMergedChildContext=e,Ee(ot),Ee(Xe),_e(Xe,e)):Ee(ot),_e(ot,s)}var Xt=null,$s=!1,ea=!1;function Hd(e){Xt===null?Xt=[e]:Xt.push(e)}function B_(e){$s=!0,Hd(e)}function Cn(){if(!ea&&Xt!==null){ea=!0;var e=0,n=he;try{var s=Xt;for(he=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Xt=null,$s=!1}catch(c){throw Xt!==null&&(Xt=Xt.slice(e+1)),Gc(Cl,Cn),c}finally{he=n,ea=!1}}return null}var Cr=[],Sr=0,Hs=null,Vs=0,Et=[],Ct=0,Hn=null,Jt=1,Zt="";function Vn(e,n){Cr[Sr++]=Vs,Cr[Sr++]=Hs,Hs=e,Vs=n}function Vd(e,n,s){Et[Ct++]=Jt,Et[Ct++]=Zt,Et[Ct++]=Hn,Hn=e;var a=Jt;e=Zt;var c=32-Tt(a)-1;a&=~(1<<c),s+=1;var f=32-Tt(n)+c;if(30<f){var m=c-c%5;f=(a&(1<<m)-1).toString(32),a>>=m,c-=m,Jt=1<<32-Tt(n)+c|s<<c|a,Zt=f+e}else Jt=1<<f|s<<c|a,Zt=e}function ta(e){e.return!==null&&(Vn(e,1),Vd(e,1,0))}function na(e){for(;e===Hs;)Hs=Cr[--Sr],Cr[Sr]=null,Vs=Cr[--Sr],Cr[Sr]=null;for(;e===Hn;)Hn=Et[--Ct],Et[Ct]=null,Zt=Et[--Ct],Et[Ct]=null,Jt=Et[--Ct],Et[Ct]=null}var yt=null,vt=null,xe=!1,Pt=null;function Gd(e,n){var s=It(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Qd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,yt=e,vt=vn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,yt=e,vt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Hn!==null?{id:Jt,overflow:Zt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=It(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,yt=e,vt=null,!0):!1;default:return!1}}function ra(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ia(e){if(xe){var n=vt;if(n){var s=n;if(!Qd(e,n)){if(ra(e))throw Error(r(418));n=vn(s.nextSibling);var a=yt;n&&Qd(e,n)?Gd(a,s):(e.flags=e.flags&-4097|2,xe=!1,yt=e)}}else{if(ra(e))throw Error(r(418));e.flags=e.flags&-4097|2,xe=!1,yt=e}}}function Kd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function Gs(e){if(e!==yt)return!1;if(!xe)return Kd(e),xe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Yl(e.type,e.memoizedProps)),n&&(n=vt)){if(ra(e))throw Yd(),Error(r(418));for(;n;)Gd(e,n),n=vn(n.nextSibling)}if(Kd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){vt=vn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}vt=null}}else vt=yt?vn(e.stateNode.nextSibling):null;return!0}function Yd(){for(var e=vt;e;)e=vn(e.nextSibling)}function xr(){vt=yt=null,xe=!1}function sa(e){Pt===null?Pt=[e]:Pt.push(e)}var W_=re.ReactCurrentBatchConfig;function wi(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var a=s.stateNode}if(!a)throw Error(r(147,e));var c=a,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(m){var _=c.refs;m===null?delete _[f]:_[f]=m},n._stringRef=f,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Qs(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function qd(e){var n=e._init;return n(e._payload)}function Xd(e){function n(x,C){if(e){var k=x.deletions;k===null?(x.deletions=[C],x.flags|=16):k.push(C)}}function s(x,C){if(!e)return null;for(;C!==null;)n(x,C),C=C.sibling;return null}function a(x,C){for(x=new Map;C!==null;)C.key!==null?x.set(C.key,C):x.set(C.index,C),C=C.sibling;return x}function c(x,C){return x=Pn(x,C),x.index=0,x.sibling=null,x}function f(x,C,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<C?(x.flags|=2,C):k):(x.flags|=2,C)):(x.flags|=1048576,C)}function m(x){return e&&x.alternate===null&&(x.flags|=2),x}function _(x,C,k,b){return C===null||C.tag!==6?(C=qa(k,x.mode,b),C.return=x,C):(C=c(C,k),C.return=x,C)}function E(x,C,k,b){var Q=k.type;return Q===ke?O(x,C,k.props.children,b,k.key):C!==null&&(C.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===st&&qd(Q)===C.type)?(b=c(C,k.props),b.ref=wi(x,C,k),b.return=x,b):(b=yo(k.type,k.key,k.props,null,x.mode,b),b.ref=wi(x,C,k),b.return=x,b)}function I(x,C,k,b){return C===null||C.tag!==4||C.stateNode.containerInfo!==k.containerInfo||C.stateNode.implementation!==k.implementation?(C=Xa(k,x.mode,b),C.return=x,C):(C=c(C,k.children||[]),C.return=x,C)}function O(x,C,k,b,Q){return C===null||C.tag!==7?(C=Zn(k,x.mode,b,Q),C.return=x,C):(C=c(C,k),C.return=x,C)}function F(x,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return C=qa(""+C,x.mode,k),C.return=x,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case me:return k=yo(C.type,C.key,C.props,null,x.mode,k),k.ref=wi(x,null,C),k.return=x,k;case Re:return C=Xa(C,x.mode,k),C.return=x,C;case st:var b=C._init;return F(x,b(C._payload),k)}if(Yr(C)||q(C))return C=Zn(C,x.mode,k,null),C.return=x,C;Qs(x,C)}return null}function A(x,C,k,b){var Q=C!==null?C.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return Q!==null?null:_(x,C,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case me:return k.key===Q?E(x,C,k,b):null;case Re:return k.key===Q?I(x,C,k,b):null;case st:return Q=k._init,A(x,C,Q(k._payload),b)}if(Yr(k)||q(k))return Q!==null?null:O(x,C,k,b,null);Qs(x,k)}return null}function W(x,C,k,b,Q){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(k)||null,_(C,x,""+b,Q);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case me:return x=x.get(b.key===null?k:b.key)||null,E(C,x,b,Q);case Re:return x=x.get(b.key===null?k:b.key)||null,I(C,x,b,Q);case st:var K=b._init;return W(x,C,k,K(b._payload),Q)}if(Yr(b)||q(b))return x=x.get(k)||null,O(C,x,b,Q,null);Qs(C,b)}return null}function V(x,C,k,b){for(var Q=null,K=null,Y=C,J=C=0,Ve=null;Y!==null&&J<k.length;J++){Y.index>J?(Ve=Y,Y=null):Ve=Y.sibling;var ce=A(x,Y,k[J],b);if(ce===null){Y===null&&(Y=Ve);break}e&&Y&&ce.alternate===null&&n(x,Y),C=f(ce,C,J),K===null?Q=ce:K.sibling=ce,K=ce,Y=Ve}if(J===k.length)return s(x,Y),xe&&Vn(x,J),Q;if(Y===null){for(;J<k.length;J++)Y=F(x,k[J],b),Y!==null&&(C=f(Y,C,J),K===null?Q=Y:K.sibling=Y,K=Y);return xe&&Vn(x,J),Q}for(Y=a(x,Y);J<k.length;J++)Ve=W(Y,x,J,k[J],b),Ve!==null&&(e&&Ve.alternate!==null&&Y.delete(Ve.key===null?J:Ve.key),C=f(Ve,C,J),K===null?Q=Ve:K.sibling=Ve,K=Ve);return e&&Y.forEach(function(Dn){return n(x,Dn)}),xe&&Vn(x,J),Q}function G(x,C,k,b){var Q=q(k);if(typeof Q!="function")throw Error(r(150));if(k=Q.call(k),k==null)throw Error(r(151));for(var K=Q=null,Y=C,J=C=0,Ve=null,ce=k.next();Y!==null&&!ce.done;J++,ce=k.next()){Y.index>J?(Ve=Y,Y=null):Ve=Y.sibling;var Dn=A(x,Y,ce.value,b);if(Dn===null){Y===null&&(Y=Ve);break}e&&Y&&Dn.alternate===null&&n(x,Y),C=f(Dn,C,J),K===null?Q=Dn:K.sibling=Dn,K=Dn,Y=Ve}if(ce.done)return s(x,Y),xe&&Vn(x,J),Q;if(Y===null){for(;!ce.done;J++,ce=k.next())ce=F(x,ce.value,b),ce!==null&&(C=f(ce,C,J),K===null?Q=ce:K.sibling=ce,K=ce);return xe&&Vn(x,J),Q}for(Y=a(x,Y);!ce.done;J++,ce=k.next())ce=W(Y,x,J,ce.value,b),ce!==null&&(e&&ce.alternate!==null&&Y.delete(ce.key===null?J:ce.key),C=f(ce,C,J),K===null?Q=ce:K.sibling=ce,K=ce);return e&&Y.forEach(function(wy){return n(x,wy)}),xe&&Vn(x,J),Q}function Me(x,C,k,b){if(typeof k=="object"&&k!==null&&k.type===ke&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case me:e:{for(var Q=k.key,K=C;K!==null;){if(K.key===Q){if(Q=k.type,Q===ke){if(K.tag===7){s(x,K.sibling),C=c(K,k.props.children),C.return=x,x=C;break e}}else if(K.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===st&&qd(Q)===K.type){s(x,K.sibling),C=c(K,k.props),C.ref=wi(x,K,k),C.return=x,x=C;break e}s(x,K);break}else n(x,K);K=K.sibling}k.type===ke?(C=Zn(k.props.children,x.mode,b,k.key),C.return=x,x=C):(b=yo(k.type,k.key,k.props,null,x.mode,b),b.ref=wi(x,C,k),b.return=x,x=b)}return m(x);case Re:e:{for(K=k.key;C!==null;){if(C.key===K)if(C.tag===4&&C.stateNode.containerInfo===k.containerInfo&&C.stateNode.implementation===k.implementation){s(x,C.sibling),C=c(C,k.children||[]),C.return=x,x=C;break e}else{s(x,C);break}else n(x,C);C=C.sibling}C=Xa(k,x.mode,b),C.return=x,x=C}return m(x);case st:return K=k._init,Me(x,C,K(k._payload),b)}if(Yr(k))return V(x,C,k,b);if(q(k))return G(x,C,k,b);Qs(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,C!==null&&C.tag===6?(s(x,C.sibling),C=c(C,k),C.return=x,x=C):(s(x,C),C=qa(k,x.mode,b),C.return=x,x=C),m(x)):s(x,C)}return Me}var kr=Xd(!0),Jd=Xd(!1),Ks=wn(null),Ys=null,Ir=null,oa=null;function la(){oa=Ir=Ys=null}function aa(e){var n=Ks.current;Ee(Ks),e._currentValue=n}function ua(e,n,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===s)break;e=e.return}}function Nr(e,n){Ys=e,oa=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(at=!0),e.firstContext=null)}function St(e){var n=e._currentValue;if(oa!==e)if(e={context:e,memoizedValue:n,next:null},Ir===null){if(Ys===null)throw Error(r(308));Ir=e,Ys.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return n}var Gn=null;function ca(e){Gn===null?Gn=[e]:Gn.push(e)}function Zd(e,n,s,a){var c=n.interleaved;return c===null?(s.next=s,ca(n)):(s.next=c.next,c.next=s),n.interleaved=s,en(e,a)}function en(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Sn=!1;function da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function xn(e,n,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,le&2){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,en(e,s)}return c=a.interleaved,c===null?(n.next=n,ca(a)):(n.next=c.next,c.next=n),a.interleaved=n,en(e,s)}function qs(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,kl(e,s)}}function tf(e,n){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var m={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?c=f=m:f=f.next=m,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Xs(e,n,s,a){var c=e.updateQueue;Sn=!1;var f=c.firstBaseUpdate,m=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var E=_,I=E.next;E.next=null,m===null?f=I:m.next=I,m=E;var O=e.alternate;O!==null&&(O=O.updateQueue,_=O.lastBaseUpdate,_!==m&&(_===null?O.firstBaseUpdate=I:_.next=I,O.lastBaseUpdate=E))}if(f!==null){var F=c.baseState;m=0,O=I=E=null,_=f;do{var A=_.lane,W=_.eventTime;if((a&A)===A){O!==null&&(O=O.next={eventTime:W,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var V=e,G=_;switch(A=n,W=s,G.tag){case 1:if(V=G.payload,typeof V=="function"){F=V.call(W,F,A);break e}F=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=G.payload,A=typeof V=="function"?V.call(W,F,A):V,A==null)break e;F=H({},F,A);break e;case 2:Sn=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,A=c.effects,A===null?c.effects=[_]:A.push(_))}else W={eventTime:W,lane:A,tag:_.tag,payload:_.payload,callback:_.callback,next:null},O===null?(I=O=W,E=F):O=O.next=W,m|=A;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;A=_,_=A.next,A.next=null,c.lastBaseUpdate=A,c.shared.pending=null}}while(!0);if(O===null&&(E=F),c.baseState=E,c.firstBaseUpdate=I,c.lastBaseUpdate=O,n=c.shared.interleaved,n!==null){c=n;do m|=c.lane,c=c.next;while(c!==n)}else f===null&&(c.shared.lanes=0);Yn|=m,e.lanes=m,e.memoizedState=F}}function nf(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(r(191,c));c.call(a)}}}var Ei={},$t=wn(Ei),Ci=wn(Ei),Si=wn(Ei);function Qn(e){if(e===Ei)throw Error(r(174));return e}function fa(e,n){switch(_e(Si,n),_e(Ci,e),_e($t,Ei),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:hl(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=hl(n,e)}Ee($t),_e($t,n)}function Tr(){Ee($t),Ee(Ci),Ee(Si)}function rf(e){Qn(Si.current);var n=Qn($t.current),s=hl(n,e.type);n!==s&&(_e(Ci,e),_e($t,s))}function ha(e){Ci.current===e&&(Ee($t),Ee(Ci))}var Ie=wn(0);function Js(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var pa=[];function ma(){for(var e=0;e<pa.length;e++)pa[e]._workInProgressVersionPrimary=null;pa.length=0}var Zs=re.ReactCurrentDispatcher,ga=re.ReactCurrentBatchConfig,Kn=0,Ne=null,je=null,$e=null,eo=!1,xi=!1,ki=0,$_=0;function Je(){throw Error(r(321))}function _a(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Rt(e[s],n[s]))return!1;return!0}function ya(e,n,s,a,c,f){if(Kn=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Zs.current=e===null||e.memoizedState===null?Q_:K_,e=s(a,c),xi){f=0;do{if(xi=!1,ki=0,25<=f)throw Error(r(301));f+=1,$e=je=null,n.updateQueue=null,Zs.current=Y_,e=s(a,c)}while(xi)}if(Zs.current=ro,n=je!==null&&je.next!==null,Kn=0,$e=je=Ne=null,eo=!1,n)throw Error(r(300));return e}function va(){var e=ki!==0;return ki=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Ne.memoizedState=$e=e:$e=$e.next=e,$e}function xt(){if(je===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var n=$e===null?Ne.memoizedState:$e.next;if(n!==null)$e=n,je=e;else{if(e===null)throw Error(r(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},$e===null?Ne.memoizedState=$e=e:$e=$e.next=e}return $e}function Ii(e,n){return typeof n=="function"?n(e):n}function wa(e){var n=xt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var a=je,c=a.baseQueue,f=s.pending;if(f!==null){if(c!==null){var m=c.next;c.next=f.next,f.next=m}a.baseQueue=c=f,s.pending=null}if(c!==null){f=c.next,a=a.baseState;var _=m=null,E=null,I=f;do{var O=I.lane;if((Kn&O)===O)E!==null&&(E=E.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),a=I.hasEagerState?I.eagerState:e(a,I.action);else{var F={lane:O,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};E===null?(_=E=F,m=a):E=E.next=F,Ne.lanes|=O,Yn|=O}I=I.next}while(I!==null&&I!==f);E===null?m=a:E.next=_,Rt(a,n.memoizedState)||(at=!0),n.memoizedState=a,n.baseState=m,n.baseQueue=E,s.lastRenderedState=a}if(e=s.interleaved,e!==null){c=e;do f=c.lane,Ne.lanes|=f,Yn|=f,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Ea(e){var n=xt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var a=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var m=c=c.next;do f=e(f,m.action),m=m.next;while(m!==c);Rt(f,n.memoizedState)||(at=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,a]}function sf(){}function of(e,n){var s=Ne,a=xt(),c=n(),f=!Rt(a.memoizedState,c);if(f&&(a.memoizedState=c,at=!0),a=a.queue,Ca(uf.bind(null,s,a,e),[e]),a.getSnapshot!==n||f||$e!==null&&$e.memoizedState.tag&1){if(s.flags|=2048,Ni(9,af.bind(null,s,a,c,n),void 0,null),He===null)throw Error(r(349));Kn&30||lf(s,n,c)}return c}function lf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ne.updateQueue,n===null?(n={lastEffect:null,stores:null},Ne.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function af(e,n,s,a){n.value=s,n.getSnapshot=a,cf(n)&&df(e)}function uf(e,n,s){return s(function(){cf(n)&&df(e)})}function cf(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Rt(e,s)}catch{return!0}}function df(e){var n=en(e,1);n!==null&&Ot(n,e,1,-1)}function ff(e){var n=Ht();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},n.queue=e,e=e.dispatch=G_.bind(null,Ne,e),[n.memoizedState,e]}function Ni(e,n,s,a){return e={tag:e,create:n,destroy:s,deps:a,next:null},n=Ne.updateQueue,n===null?(n={lastEffect:null,stores:null},Ne.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,n.lastEffect=e)),e}function hf(){return xt().memoizedState}function to(e,n,s,a){var c=Ht();Ne.flags|=e,c.memoizedState=Ni(1|n,s,void 0,a===void 0?null:a)}function no(e,n,s,a){var c=xt();a=a===void 0?null:a;var f=void 0;if(je!==null){var m=je.memoizedState;if(f=m.destroy,a!==null&&_a(a,m.deps)){c.memoizedState=Ni(n,s,f,a);return}}Ne.flags|=e,c.memoizedState=Ni(1|n,s,f,a)}function pf(e,n){return to(8390656,8,e,n)}function Ca(e,n){return no(2048,8,e,n)}function mf(e,n){return no(4,2,e,n)}function gf(e,n){return no(4,4,e,n)}function _f(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function yf(e,n,s){return s=s!=null?s.concat([e]):null,no(4,4,_f.bind(null,n,e),s)}function Sa(){}function vf(e,n){var s=xt();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&_a(n,a[1])?a[0]:(s.memoizedState=[e,n],e)}function wf(e,n){var s=xt();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&_a(n,a[1])?a[0]:(e=e(),s.memoizedState=[e,n],e)}function Ef(e,n,s){return Kn&21?(Rt(s,n)||(s=qc(),Ne.lanes|=s,Yn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=s)}function H_(e,n){var s=he;he=s!==0&&4>s?s:4,e(!0);var a=ga.transition;ga.transition={};try{e(!1),n()}finally{he=s,ga.transition=a}}function Cf(){return xt().memoizedState}function V_(e,n,s){var a=Tn(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Sf(e))xf(n,s);else if(s=Zd(e,n,s,a),s!==null){var c=rt();Ot(s,e,a,c),kf(s,n,a)}}function G_(e,n,s){var a=Tn(e),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Sf(e))xf(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var m=n.lastRenderedState,_=f(m,s);if(c.hasEagerState=!0,c.eagerState=_,Rt(_,m)){var E=n.interleaved;E===null?(c.next=c,ca(n)):(c.next=E.next,E.next=c),n.interleaved=c;return}}catch{}finally{}s=Zd(e,n,c,a),s!==null&&(c=rt(),Ot(s,e,a,c),kf(s,n,a))}}function Sf(e){var n=e.alternate;return e===Ne||n!==null&&n===Ne}function xf(e,n){xi=eo=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function kf(e,n,s){if(s&4194240){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,kl(e,s)}}var ro={readContext:St,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Q_={readContext:St,useCallback:function(e,n){return Ht().memoizedState=[e,n===void 0?null:n],e},useContext:St,useEffect:pf,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,to(4194308,4,_f.bind(null,n,e),s)},useLayoutEffect:function(e,n){return to(4194308,4,e,n)},useInsertionEffect:function(e,n){return to(4,2,e,n)},useMemo:function(e,n){var s=Ht();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var a=Ht();return n=s!==void 0?s(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=V_.bind(null,Ne,e),[a.memoizedState,e]},useRef:function(e){var n=Ht();return e={current:e},n.memoizedState=e},useState:ff,useDebugValue:Sa,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=ff(!1),n=e[0];return e=H_.bind(null,e[1]),Ht().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var a=Ne,c=Ht();if(xe){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),He===null)throw Error(r(349));Kn&30||lf(a,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,pf(uf.bind(null,a,f,e),[e]),a.flags|=2048,Ni(9,af.bind(null,a,f,s,n),void 0,null),s},useId:function(){var e=Ht(),n=He.identifierPrefix;if(xe){var s=Zt,a=Jt;s=(a&~(1<<32-Tt(a)-1)).toString(32)+s,n=":"+n+"R"+s,s=ki++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=$_++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},K_={readContext:St,useCallback:vf,useContext:St,useEffect:Ca,useImperativeHandle:yf,useInsertionEffect:mf,useLayoutEffect:gf,useMemo:wf,useReducer:wa,useRef:hf,useState:function(){return wa(Ii)},useDebugValue:Sa,useDeferredValue:function(e){var n=xt();return Ef(n,je.memoizedState,e)},useTransition:function(){var e=wa(Ii)[0],n=xt().memoizedState;return[e,n]},useMutableSource:sf,useSyncExternalStore:of,useId:Cf,unstable_isNewReconciler:!1},Y_={readContext:St,useCallback:vf,useContext:St,useEffect:Ca,useImperativeHandle:yf,useInsertionEffect:mf,useLayoutEffect:gf,useMemo:wf,useReducer:Ea,useRef:hf,useState:function(){return Ea(Ii)},useDebugValue:Sa,useDeferredValue:function(e){var n=xt();return je===null?n.memoizedState=e:Ef(n,je.memoizedState,e)},useTransition:function(){var e=Ea(Ii)[0],n=xt().memoizedState;return[e,n]},useMutableSource:sf,useSyncExternalStore:of,useId:Cf,unstable_isNewReconciler:!1};function Dt(e,n){if(e&&e.defaultProps){n=H({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function xa(e,n,s,a){n=e.memoizedState,s=s(a,n),s=s==null?n:H({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var io={isMounted:function(e){return(e=e._reactInternals)?Bn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var a=rt(),c=Tn(e),f=tn(a,c);f.payload=n,s!=null&&(f.callback=s),n=xn(e,f,c),n!==null&&(Ot(n,e,c,a),qs(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var a=rt(),c=Tn(e),f=tn(a,c);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=xn(e,f,c),n!==null&&(Ot(n,e,c,a),qs(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=rt(),a=Tn(e),c=tn(s,a);c.tag=2,n!=null&&(c.callback=n),n=xn(e,c,a),n!==null&&(Ot(n,e,a,s),qs(n,e,a))}};function If(e,n,s,a,c,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,m):n.prototype&&n.prototype.isPureReactComponent?!hi(s,a)||!hi(c,f):!0}function Nf(e,n,s){var a=!1,c=En,f=n.contextType;return typeof f=="object"&&f!==null?f=St(f):(c=lt(n)?$n:Xe.current,a=n.contextTypes,f=(a=a!=null)?Er(e,c):En),n=new n(s,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=io,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),n}function Tf(e,n,s,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,a),n.state!==e&&io.enqueueReplaceState(n,n.state,null)}function ka(e,n,s,a){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},da(e);var f=n.contextType;typeof f=="object"&&f!==null?c.context=St(f):(f=lt(n)?$n:Xe.current,c.context=Er(e,f)),c.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(xa(e,n,f,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&io.enqueueReplaceState(c,c.state,null),Xs(e,s,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Rr(e,n){try{var s="",a=n;do s+=ae(a),a=a.return;while(a);var c=s}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:c,digest:null}}function Ia(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Na(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var q_=typeof WeakMap=="function"?WeakMap:Map;function Rf(e,n,s){s=tn(-1,s),s.tag=3,s.payload={element:null};var a=n.value;return s.callback=function(){fo||(fo=!0,Wa=a),Na(e,n)},s}function Pf(e,n,s){s=tn(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;s.payload=function(){return a(c)},s.callback=function(){Na(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){Na(e,n),typeof a!="function"&&(In===null?In=new Set([this]):In.add(this));var m=n.stack;this.componentDidCatch(n.value,{componentStack:m!==null?m:""})}),s}function Df(e,n,s){var a=e.pingCache;if(a===null){a=e.pingCache=new q_;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(s)||(c.add(s),e=cy.bind(null,e,n,s),n.then(e,e))}function Af(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Lf(e,n,s,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=tn(-1,1),n.tag=2,xn(s,n,1))),s.lanes|=1),e)}var X_=re.ReactCurrentOwner,at=!1;function nt(e,n,s,a){n.child=e===null?Jd(n,null,s,a):kr(n,e.child,s,a)}function Of(e,n,s,a,c){s=s.render;var f=n.ref;return Nr(n,c),a=ya(e,n,s,a,f,c),s=va(),e!==null&&!at?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,nn(e,n,c)):(xe&&s&&ta(n),n.flags|=1,nt(e,n,a,c),n.child)}function Mf(e,n,s,a,c){if(e===null){var f=s.type;return typeof f=="function"&&!Ya(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=f,Ff(e,n,f,a,c)):(e=yo(s.type,null,a,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&c)){var m=f.memoizedProps;if(s=s.compare,s=s!==null?s:hi,s(m,a)&&e.ref===n.ref)return nn(e,n,c)}return n.flags|=1,e=Pn(f,a),e.ref=n.ref,e.return=n,n.child=e}function Ff(e,n,s,a,c){if(e!==null){var f=e.memoizedProps;if(hi(f,a)&&e.ref===n.ref)if(at=!1,n.pendingProps=a=f,(e.lanes&c)!==0)e.flags&131072&&(at=!0);else return n.lanes=e.lanes,nn(e,n,c)}return Ta(e,n,s,a,c)}function bf(e,n,s){var a=n.pendingProps,c=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Dr,wt),wt|=s;else{if(!(s&1073741824))return e=f!==null?f.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,_e(Dr,wt),wt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:s,_e(Dr,wt),wt|=a}else f!==null?(a=f.baseLanes|s,n.memoizedState=null):a=s,_e(Dr,wt),wt|=a;return nt(e,n,c,s),n.child}function jf(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Ta(e,n,s,a,c){var f=lt(s)?$n:Xe.current;return f=Er(n,f),Nr(n,c),s=ya(e,n,s,a,f,c),a=va(),e!==null&&!at?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,nn(e,n,c)):(xe&&a&&ta(n),n.flags|=1,nt(e,n,s,c),n.child)}function zf(e,n,s,a,c){if(lt(s)){var f=!0;Ws(n)}else f=!1;if(Nr(n,c),n.stateNode===null)oo(e,n),Nf(n,s,a),ka(n,s,a,c),a=!0;else if(e===null){var m=n.stateNode,_=n.memoizedProps;m.props=_;var E=m.context,I=s.contextType;typeof I=="object"&&I!==null?I=St(I):(I=lt(s)?$n:Xe.current,I=Er(n,I));var O=s.getDerivedStateFromProps,F=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function";F||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==a||E!==I)&&Tf(n,m,a,I),Sn=!1;var A=n.memoizedState;m.state=A,Xs(n,a,m,c),E=n.memoizedState,_!==a||A!==E||ot.current||Sn?(typeof O=="function"&&(xa(n,s,O,a),E=n.memoizedState),(_=Sn||If(n,s,_,a,A,E,I))?(F||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=E),m.props=a,m.state=E,m.context=I,a=_):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{m=n.stateNode,ef(e,n),_=n.memoizedProps,I=n.type===n.elementType?_:Dt(n.type,_),m.props=I,F=n.pendingProps,A=m.context,E=s.contextType,typeof E=="object"&&E!==null?E=St(E):(E=lt(s)?$n:Xe.current,E=Er(n,E));var W=s.getDerivedStateFromProps;(O=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==F||A!==E)&&Tf(n,m,a,E),Sn=!1,A=n.memoizedState,m.state=A,Xs(n,a,m,c);var V=n.memoizedState;_!==F||A!==V||ot.current||Sn?(typeof W=="function"&&(xa(n,s,W,a),V=n.memoizedState),(I=Sn||If(n,s,I,a,A,V,E)||!1)?(O||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,V,E),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,V,E)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=V),m.props=a,m.state=V,m.context=E,a=I):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),a=!1)}return Ra(e,n,s,a,f,c)}function Ra(e,n,s,a,c,f){jf(e,n);var m=(n.flags&128)!==0;if(!a&&!m)return c&&$d(n,s,!1),nn(e,n,f);a=n.stateNode,X_.current=n;var _=m&&typeof s.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&m?(n.child=kr(n,e.child,null,f),n.child=kr(n,null,_,f)):nt(e,n,_,f),n.memoizedState=a.state,c&&$d(n,s,!0),n.child}function Uf(e){var n=e.stateNode;n.pendingContext?Bd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Bd(e,n.context,!1),fa(e,n.containerInfo)}function Bf(e,n,s,a,c){return xr(),sa(c),n.flags|=256,nt(e,n,s,a),n.child}var Pa={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wf(e,n,s){var a=n.pendingProps,c=Ie.current,f=!1,m=(n.flags&128)!==0,_;if((_=m)||(_=e!==null&&e.memoizedState===null?!1:(c&2)!==0),_?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),_e(Ie,c&1),e===null)return ia(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(m=a.children,e=a.fallback,f?(a=n.mode,f=n.child,m={mode:"hidden",children:m},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=m):f=vo(m,a,0,null),e=Zn(e,a,s,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Da(s),n.memoizedState=Pa,e):Aa(n,m));if(c=e.memoizedState,c!==null&&(_=c.dehydrated,_!==null))return J_(e,n,m,a,_,c,s);if(f){f=a.fallback,m=n.mode,c=e.child,_=c.sibling;var E={mode:"hidden",children:a.children};return!(m&1)&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=E,n.deletions=null):(a=Pn(c,E),a.subtreeFlags=c.subtreeFlags&14680064),_!==null?f=Pn(_,f):(f=Zn(f,m,s,null),f.flags|=2),f.return=n,a.return=n,a.sibling=f,n.child=a,a=f,f=n.child,m=e.child.memoizedState,m=m===null?Da(s):{baseLanes:m.baseLanes|s,cachePool:null,transitions:m.transitions},f.memoizedState=m,f.childLanes=e.childLanes&~s,n.memoizedState=Pa,a}return f=e.child,e=f.sibling,a=Pn(f,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=s),a.return=n,a.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=a,n.memoizedState=null,a}function Aa(e,n){return n=vo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function so(e,n,s,a){return a!==null&&sa(a),kr(n,e.child,null,s),e=Aa(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function J_(e,n,s,a,c,f,m){if(s)return n.flags&256?(n.flags&=-257,a=Ia(Error(r(422))),so(e,n,m,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=a.fallback,c=n.mode,a=vo({mode:"visible",children:a.children},c,0,null),f=Zn(f,c,m,null),f.flags|=2,a.return=n,f.return=n,a.sibling=f,n.child=a,n.mode&1&&kr(n,e.child,null,m),n.child.memoizedState=Da(m),n.memoizedState=Pa,f);if(!(n.mode&1))return so(e,n,m,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var _=a.dgst;return a=_,f=Error(r(419)),a=Ia(f,a,void 0),so(e,n,m,a)}if(_=(m&e.childLanes)!==0,at||_){if(a=He,a!==null){switch(m&-m){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|m)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,en(e,c),Ot(a,e,c,-1))}return Ka(),a=Ia(Error(r(421))),so(e,n,m,a)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=dy.bind(null,e),c._reactRetry=n,null):(e=f.treeContext,vt=vn(c.nextSibling),yt=n,xe=!0,Pt=null,e!==null&&(Et[Ct++]=Jt,Et[Ct++]=Zt,Et[Ct++]=Hn,Jt=e.id,Zt=e.overflow,Hn=n),n=Aa(n,a.children),n.flags|=4096,n)}function $f(e,n,s){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),ua(e.return,n,s)}function La(e,n,s,a,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=s,f.tailMode=c)}function Hf(e,n,s){var a=n.pendingProps,c=a.revealOrder,f=a.tail;if(nt(e,n,a.children,s),a=Ie.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$f(e,s,n);else if(e.tag===19)$f(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(_e(Ie,a),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Js(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),La(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Js(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}La(n,!0,s,null,f);break;case"together":La(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function oo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function nn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Yn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Pn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Pn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Z_(e,n,s){switch(n.tag){case 3:Uf(n),xr();break;case 5:rf(n);break;case 1:lt(n.type)&&Ws(n);break;case 4:fa(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;_e(Ks,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(_e(Ie,Ie.current&1),n.flags|=128,null):s&n.child.childLanes?Wf(e,n,s):(_e(Ie,Ie.current&1),e=nn(e,n,s),e!==null?e.sibling:null);_e(Ie,Ie.current&1);break;case 19:if(a=(s&n.childLanes)!==0,e.flags&128){if(a)return Hf(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),_e(Ie,Ie.current),a)break;return null;case 22:case 23:return n.lanes=0,bf(e,n,s)}return nn(e,n,s)}var Vf,Oa,Gf,Qf;Vf=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Oa=function(){},Gf=function(e,n,s,a){var c=e.memoizedProps;if(c!==a){e=n.stateNode,Qn($t.current);var f=null;switch(s){case"input":c=ul(e,c),a=ul(e,a),f=[];break;case"select":c=H({},c,{value:void 0}),a=H({},a,{value:void 0}),f=[];break;case"textarea":c=fl(e,c),a=fl(e,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=zs)}pl(s,a);var m;s=null;for(I in c)if(!a.hasOwnProperty(I)&&c.hasOwnProperty(I)&&c[I]!=null)if(I==="style"){var _=c[I];for(m in _)_.hasOwnProperty(m)&&(s||(s={}),s[m]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(l.hasOwnProperty(I)?f||(f=[]):(f=f||[]).push(I,null));for(I in a){var E=a[I];if(_=c!=null?c[I]:void 0,a.hasOwnProperty(I)&&E!==_&&(E!=null||_!=null))if(I==="style")if(_){for(m in _)!_.hasOwnProperty(m)||E&&E.hasOwnProperty(m)||(s||(s={}),s[m]="");for(m in E)E.hasOwnProperty(m)&&_[m]!==E[m]&&(s||(s={}),s[m]=E[m])}else s||(f||(f=[]),f.push(I,s)),s=E;else I==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,_=_?_.__html:void 0,E!=null&&_!==E&&(f=f||[]).push(I,E)):I==="children"?typeof E!="string"&&typeof E!="number"||(f=f||[]).push(I,""+E):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(l.hasOwnProperty(I)?(E!=null&&I==="onScroll"&&we("scroll",e),f||_===E||(f=[])):(f=f||[]).push(I,E))}s&&(f=f||[]).push("style",s);var I=f;(n.updateQueue=I)&&(n.flags|=4)}},Qf=function(e,n,s,a){s!==a&&(n.flags|=4)};function Ti(e,n){if(!xe)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=s,n}function ey(e,n,s){var a=n.pendingProps;switch(na(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(n),null;case 1:return lt(n.type)&&Bs(),Ze(n),null;case 3:return a=n.stateNode,Tr(),Ee(ot),Ee(Xe),ma(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gs(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Pt!==null&&(Va(Pt),Pt=null))),Oa(e,n),Ze(n),null;case 5:ha(n);var c=Qn(Si.current);if(s=n.type,e!==null&&n.stateNode!=null)Gf(e,n,s,a,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(r(166));return Ze(n),null}if(e=Qn($t.current),Gs(n)){a=n.stateNode,s=n.type;var f=n.memoizedProps;switch(a[Wt]=n,a[yi]=f,e=(n.mode&1)!==0,s){case"dialog":we("cancel",a),we("close",a);break;case"iframe":case"object":case"embed":we("load",a);break;case"video":case"audio":for(c=0;c<mi.length;c++)we(mi[c],a);break;case"source":we("error",a);break;case"img":case"image":case"link":we("error",a),we("load",a);break;case"details":we("toggle",a);break;case"input":Ic(a,f),we("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},we("invalid",a);break;case"textarea":Rc(a,f),we("invalid",a)}pl(s,f),c=null;for(var m in f)if(f.hasOwnProperty(m)){var _=f[m];m==="children"?typeof _=="string"?a.textContent!==_&&(f.suppressHydrationWarning!==!0&&js(a.textContent,_,e),c=["children",_]):typeof _=="number"&&a.textContent!==""+_&&(f.suppressHydrationWarning!==!0&&js(a.textContent,_,e),c=["children",""+_]):l.hasOwnProperty(m)&&_!=null&&m==="onScroll"&&we("scroll",a)}switch(s){case"input":ms(a),Tc(a,f,!0);break;case"textarea":ms(a),Dc(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=zs)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{m=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ac(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=m.createElement(s,{is:a.is}):(e=m.createElement(s),s==="select"&&(m=e,a.multiple?m.multiple=!0:a.size&&(m.size=a.size))):e=m.createElementNS(e,s),e[Wt]=n,e[yi]=a,Vf(e,n,!1,!1),n.stateNode=e;e:{switch(m=ml(s,a),s){case"dialog":we("cancel",e),we("close",e),c=a;break;case"iframe":case"object":case"embed":we("load",e),c=a;break;case"video":case"audio":for(c=0;c<mi.length;c++)we(mi[c],e);c=a;break;case"source":we("error",e),c=a;break;case"img":case"image":case"link":we("error",e),we("load",e),c=a;break;case"details":we("toggle",e),c=a;break;case"input":Ic(e,a),c=ul(e,a),we("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=H({},a,{value:void 0}),we("invalid",e);break;case"textarea":Rc(e,a),c=fl(e,a),we("invalid",e);break;default:c=a}pl(s,c),_=c;for(f in _)if(_.hasOwnProperty(f)){var E=_[f];f==="style"?Mc(e,E):f==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Lc(e,E)):f==="children"?typeof E=="string"?(s!=="textarea"||E!=="")&&qr(e,E):typeof E=="number"&&qr(e,""+E):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?E!=null&&f==="onScroll"&&we("scroll",e):E!=null&&Z(e,f,E,m))}switch(s){case"input":ms(e),Tc(e,a,!1);break;case"textarea":ms(e),Dc(e);break;case"option":a.value!=null&&e.setAttribute("value",""+fe(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?ur(e,!!a.multiple,f,!1):a.defaultValue!=null&&ur(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=zs)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ze(n),null;case 6:if(e&&n.stateNode!=null)Qf(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(r(166));if(s=Qn(Si.current),Qn($t.current),Gs(n)){if(a=n.stateNode,s=n.memoizedProps,a[Wt]=n,(f=a.nodeValue!==s)&&(e=yt,e!==null))switch(e.tag){case 3:js(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&js(a.nodeValue,s,(e.mode&1)!==0)}f&&(n.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Wt]=n,n.stateNode=a}return Ze(n),null;case 13:if(Ee(Ie),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&vt!==null&&n.mode&1&&!(n.flags&128))Yd(),xr(),n.flags|=98560,f=!1;else if(f=Gs(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Wt]=n}else xr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ze(n),f=!1}else Pt!==null&&(Va(Pt),Pt=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||Ie.current&1?ze===0&&(ze=3):Ka())),n.updateQueue!==null&&(n.flags|=4),Ze(n),null);case 4:return Tr(),Oa(e,n),e===null&&gi(n.stateNode.containerInfo),Ze(n),null;case 10:return aa(n.type._context),Ze(n),null;case 17:return lt(n.type)&&Bs(),Ze(n),null;case 19:if(Ee(Ie),f=n.memoizedState,f===null)return Ze(n),null;if(a=(n.flags&128)!==0,m=f.rendering,m===null)if(a)Ti(f,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(m=Js(e),m!==null){for(n.flags|=128,Ti(f,!1),a=m.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=s,s=n.child;s!==null;)f=s,e=a,f.flags&=14680066,m=f.alternate,m===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=m.childLanes,f.lanes=m.lanes,f.child=m.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=m.memoizedProps,f.memoizedState=m.memoizedState,f.updateQueue=m.updateQueue,f.type=m.type,e=m.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return _e(Ie,Ie.current&1|2),n.child}e=e.sibling}f.tail!==null&&Oe()>Ar&&(n.flags|=128,a=!0,Ti(f,!1),n.lanes=4194304)}else{if(!a)if(e=Js(m),e!==null){if(n.flags|=128,a=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Ti(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!xe)return Ze(n),null}else 2*Oe()-f.renderingStartTime>Ar&&s!==1073741824&&(n.flags|=128,a=!0,Ti(f,!1),n.lanes=4194304);f.isBackwards?(m.sibling=n.child,n.child=m):(s=f.last,s!==null?s.sibling=m:n.child=m,f.last=m)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Oe(),n.sibling=null,s=Ie.current,_e(Ie,a?s&1|2:s&1),n):(Ze(n),null);case 22:case 23:return Qa(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?wt&1073741824&&(Ze(n),n.subtreeFlags&6&&(n.flags|=8192)):Ze(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function ty(e,n){switch(na(n),n.tag){case 1:return lt(n.type)&&Bs(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Tr(),Ee(ot),Ee(Xe),ma(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return ha(n),null;case 13:if(Ee(Ie),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ee(Ie),null;case 4:return Tr(),null;case 10:return aa(n.type._context),null;case 22:case 23:return Qa(),null;case 24:return null;default:return null}}var lo=!1,et=!1,ny=typeof WeakSet=="function"?WeakSet:Set,$=null;function Pr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){Ae(e,n,a)}else s.current=null}function Ma(e,n,s){try{s()}catch(a){Ae(e,n,a)}}var Kf=!1;function ry(e,n){if(Ql=Ns,e=kd(),zl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var m=0,_=-1,E=-1,I=0,O=0,F=e,A=null;t:for(;;){for(var W;F!==s||c!==0&&F.nodeType!==3||(_=m+c),F!==f||a!==0&&F.nodeType!==3||(E=m+a),F.nodeType===3&&(m+=F.nodeValue.length),(W=F.firstChild)!==null;)A=F,F=W;for(;;){if(F===e)break t;if(A===s&&++I===c&&(_=m),A===f&&++O===a&&(E=m),(W=F.nextSibling)!==null)break;F=A,A=F.parentNode}F=W}s=_===-1||E===-1?null:{start:_,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(Kl={focusedElem:e,selectionRange:s},Ns=!1,$=n;$!==null;)if(n=$,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,$=e;else for(;$!==null;){n=$;try{var V=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var G=V.memoizedProps,Me=V.memoizedState,x=n.stateNode,C=x.getSnapshotBeforeUpdate(n.elementType===n.type?G:Dt(n.type,G),Me);x.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var k=n.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(b){Ae(n,n.return,b)}if(e=n.sibling,e!==null){e.return=n.return,$=e;break}$=n.return}return V=Kf,Kf=!1,V}function Ri(e,n,s){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&Ma(n,s,f)}c=c.next}while(c!==a)}}function ao(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==n)}}function Fa(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Yf(e){var n=e.alternate;n!==null&&(e.alternate=null,Yf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Wt],delete n[yi],delete n[Jl],delete n[z_],delete n[U_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qf(e){return e.tag===5||e.tag===3||e.tag===4}function Xf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ba(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zs));else if(a!==4&&(e=e.child,e!==null))for(ba(e,n,s),e=e.sibling;e!==null;)ba(e,n,s),e=e.sibling}function ja(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(ja(e,n,s),e=e.sibling;e!==null;)ja(e,n,s),e=e.sibling}var Ye=null,At=!1;function kn(e,n,s){for(s=s.child;s!==null;)Jf(e,n,s),s=s.sibling}function Jf(e,n,s){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Es,s)}catch{}switch(s.tag){case 5:et||Pr(s,n);case 6:var a=Ye,c=At;Ye=null,kn(e,n,s),Ye=a,At=c,Ye!==null&&(At?(e=Ye,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ye.removeChild(s.stateNode));break;case 18:Ye!==null&&(At?(e=Ye,s=s.stateNode,e.nodeType===8?Xl(e.parentNode,s):e.nodeType===1&&Xl(e,s),li(e)):Xl(Ye,s.stateNode));break;case 4:a=Ye,c=At,Ye=s.stateNode.containerInfo,At=!0,kn(e,n,s),Ye=a,At=c;break;case 0:case 11:case 14:case 15:if(!et&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,m=f.destroy;f=f.tag,m!==void 0&&(f&2||f&4)&&Ma(s,n,m),c=c.next}while(c!==a)}kn(e,n,s);break;case 1:if(!et&&(Pr(s,n),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(_){Ae(s,n,_)}kn(e,n,s);break;case 21:kn(e,n,s);break;case 22:s.mode&1?(et=(a=et)||s.memoizedState!==null,kn(e,n,s),et=a):kn(e,n,s);break;default:kn(e,n,s)}}function Zf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new ny),n.forEach(function(a){var c=fy.bind(null,e,a);s.has(a)||(s.add(a),a.then(c,c))})}}function Lt(e,n){var s=n.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var f=e,m=n,_=m;e:for(;_!==null;){switch(_.tag){case 5:Ye=_.stateNode,At=!1;break e;case 3:Ye=_.stateNode.containerInfo,At=!0;break e;case 4:Ye=_.stateNode.containerInfo,At=!0;break e}_=_.return}if(Ye===null)throw Error(r(160));Jf(f,m,c),Ye=null,At=!1;var E=c.alternate;E!==null&&(E.return=null),c.return=null}catch(I){Ae(c,n,I)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)eh(n,e),n=n.sibling}function eh(e,n){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(n,e),Vt(e),a&4){try{Ri(3,e,e.return),ao(3,e)}catch(G){Ae(e,e.return,G)}try{Ri(5,e,e.return)}catch(G){Ae(e,e.return,G)}}break;case 1:Lt(n,e),Vt(e),a&512&&s!==null&&Pr(s,s.return);break;case 5:if(Lt(n,e),Vt(e),a&512&&s!==null&&Pr(s,s.return),e.flags&32){var c=e.stateNode;try{qr(c,"")}catch(G){Ae(e,e.return,G)}}if(a&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,m=s!==null?s.memoizedProps:f,_=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{_==="input"&&f.type==="radio"&&f.name!=null&&Nc(c,f),ml(_,m);var I=ml(_,f);for(m=0;m<E.length;m+=2){var O=E[m],F=E[m+1];O==="style"?Mc(c,F):O==="dangerouslySetInnerHTML"?Lc(c,F):O==="children"?qr(c,F):Z(c,O,F,I)}switch(_){case"input":cl(c,f);break;case"textarea":Pc(c,f);break;case"select":var A=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var W=f.value;W!=null?ur(c,!!f.multiple,W,!1):A!==!!f.multiple&&(f.defaultValue!=null?ur(c,!!f.multiple,f.defaultValue,!0):ur(c,!!f.multiple,f.multiple?[]:"",!1))}c[yi]=f}catch(G){Ae(e,e.return,G)}}break;case 6:if(Lt(n,e),Vt(e),a&4){if(e.stateNode===null)throw Error(r(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(G){Ae(e,e.return,G)}}break;case 3:if(Lt(n,e),Vt(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{li(n.containerInfo)}catch(G){Ae(e,e.return,G)}break;case 4:Lt(n,e),Vt(e);break;case 13:Lt(n,e),Vt(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Ba=Oe())),a&4&&Zf(e);break;case 22:if(O=s!==null&&s.memoizedState!==null,e.mode&1?(et=(I=et)||O,Lt(n,e),et=I):Lt(n,e),Vt(e),a&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!O&&e.mode&1)for($=e,O=e.child;O!==null;){for(F=$=O;$!==null;){switch(A=$,W=A.child,A.tag){case 0:case 11:case 14:case 15:Ri(4,A,A.return);break;case 1:Pr(A,A.return);var V=A.stateNode;if(typeof V.componentWillUnmount=="function"){a=A,s=A.return;try{n=a,V.props=n.memoizedProps,V.state=n.memoizedState,V.componentWillUnmount()}catch(G){Ae(a,s,G)}}break;case 5:Pr(A,A.return);break;case 22:if(A.memoizedState!==null){rh(F);continue}}W!==null?(W.return=A,$=W):rh(F)}O=O.sibling}e:for(O=null,F=e;;){if(F.tag===5){if(O===null){O=F;try{c=F.stateNode,I?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(_=F.stateNode,E=F.memoizedProps.style,m=E!=null&&E.hasOwnProperty("display")?E.display:null,_.style.display=Oc("display",m))}catch(G){Ae(e,e.return,G)}}}else if(F.tag===6){if(O===null)try{F.stateNode.nodeValue=I?"":F.memoizedProps}catch(G){Ae(e,e.return,G)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;O===F&&(O=null),F=F.return}O===F&&(O=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:Lt(n,e),Vt(e),a&4&&Zf(e);break;case 21:break;default:Lt(n,e),Vt(e)}}function Vt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(qf(s)){var a=s;break e}s=s.return}throw Error(r(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(qr(c,""),a.flags&=-33);var f=Xf(e);ja(e,f,c);break;case 3:case 4:var m=a.stateNode.containerInfo,_=Xf(e);ba(e,_,m);break;default:throw Error(r(161))}}catch(E){Ae(e,e.return,E)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function iy(e,n,s){$=e,th(e)}function th(e,n,s){for(var a=(e.mode&1)!==0;$!==null;){var c=$,f=c.child;if(c.tag===22&&a){var m=c.memoizedState!==null||lo;if(!m){var _=c.alternate,E=_!==null&&_.memoizedState!==null||et;_=lo;var I=et;if(lo=m,(et=E)&&!I)for($=c;$!==null;)m=$,E=m.child,m.tag===22&&m.memoizedState!==null?ih(c):E!==null?(E.return=m,$=E):ih(c);for(;f!==null;)$=f,th(f),f=f.sibling;$=c,lo=_,et=I}nh(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,$=f):nh(e)}}function nh(e){for(;$!==null;){var n=$;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:et||ao(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!et)if(s===null)a.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:Dt(n.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&nf(n,f,a);break;case 3:var m=n.updateQueue;if(m!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}nf(n,m,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var E=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&s.focus();break;case"img":E.src&&(s.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var I=n.alternate;if(I!==null){var O=I.memoizedState;if(O!==null){var F=O.dehydrated;F!==null&&li(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}et||n.flags&512&&Fa(n)}catch(A){Ae(n,n.return,A)}}if(n===e){$=null;break}if(s=n.sibling,s!==null){s.return=n.return,$=s;break}$=n.return}}function rh(e){for(;$!==null;){var n=$;if(n===e){$=null;break}var s=n.sibling;if(s!==null){s.return=n.return,$=s;break}$=n.return}}function ih(e){for(;$!==null;){var n=$;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{ao(4,n)}catch(E){Ae(n,s,E)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(E){Ae(n,c,E)}}var f=n.return;try{Fa(n)}catch(E){Ae(n,f,E)}break;case 5:var m=n.return;try{Fa(n)}catch(E){Ae(n,m,E)}}}catch(E){Ae(n,n.return,E)}if(n===e){$=null;break}var _=n.sibling;if(_!==null){_.return=n.return,$=_;break}$=n.return}}var sy=Math.ceil,uo=re.ReactCurrentDispatcher,za=re.ReactCurrentOwner,kt=re.ReactCurrentBatchConfig,le=0,He=null,be=null,qe=0,wt=0,Dr=wn(0),ze=0,Pi=null,Yn=0,co=0,Ua=0,Di=null,ut=null,Ba=0,Ar=1/0,rn=null,fo=!1,Wa=null,In=null,ho=!1,Nn=null,po=0,Ai=0,$a=null,mo=-1,go=0;function rt(){return le&6?Oe():mo!==-1?mo:mo=Oe()}function Tn(e){return e.mode&1?le&2&&qe!==0?qe&-qe:W_.transition!==null?(go===0&&(go=qc()),go):(e=he,e!==0||(e=window.event,e=e===void 0?16:sd(e.type)),e):1}function Ot(e,n,s,a){if(50<Ai)throw Ai=0,$a=null,Error(r(185));ni(e,s,a),(!(le&2)||e!==He)&&(e===He&&(!(le&2)&&(co|=s),ze===4&&Rn(e,qe)),ct(e,a),s===1&&le===0&&!(n.mode&1)&&(Ar=Oe()+500,$s&&Cn()))}function ct(e,n){var s=e.callbackNode;Wg(e,n);var a=xs(e,e===He?qe:0);if(a===0)s!==null&&Qc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(s!=null&&Qc(s),n===1)e.tag===0?B_(oh.bind(null,e)):Hd(oh.bind(null,e)),b_(function(){!(le&6)&&Cn()}),s=null;else{switch(Xc(a)){case 1:s=Cl;break;case 4:s=Kc;break;case 16:s=ws;break;case 536870912:s=Yc;break;default:s=ws}s=ph(s,sh.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function sh(e,n){if(mo=-1,go=0,le&6)throw Error(r(327));var s=e.callbackNode;if(Lr()&&e.callbackNode!==s)return null;var a=xs(e,e===He?qe:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=_o(e,a);else{n=a;var c=le;le|=2;var f=ah();(He!==e||qe!==n)&&(rn=null,Ar=Oe()+500,Xn(e,n));do try{ay();break}catch(_){lh(e,_)}while(!0);la(),uo.current=f,le=c,be!==null?n=0:(He=null,qe=0,n=ze)}if(n!==0){if(n===2&&(c=Sl(e),c!==0&&(a=c,n=Ha(e,c))),n===1)throw s=Pi,Xn(e,0),Rn(e,a),ct(e,Oe()),s;if(n===6)Rn(e,a);else{if(c=e.current.alternate,!(a&30)&&!oy(c)&&(n=_o(e,a),n===2&&(f=Sl(e),f!==0&&(a=f,n=Ha(e,f))),n===1))throw s=Pi,Xn(e,0),Rn(e,a),ct(e,Oe()),s;switch(e.finishedWork=c,e.finishedLanes=a,n){case 0:case 1:throw Error(r(345));case 2:Jn(e,ut,rn);break;case 3:if(Rn(e,a),(a&130023424)===a&&(n=Ba+500-Oe(),10<n)){if(xs(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){rt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=ql(Jn.bind(null,e,ut,rn),n);break}Jn(e,ut,rn);break;case 4:if(Rn(e,a),(a&4194240)===a)break;for(n=e.eventTimes,c=-1;0<a;){var m=31-Tt(a);f=1<<m,m=n[m],m>c&&(c=m),a&=~f}if(a=c,a=Oe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*sy(a/1960))-a,10<a){e.timeoutHandle=ql(Jn.bind(null,e,ut,rn),a);break}Jn(e,ut,rn);break;case 5:Jn(e,ut,rn);break;default:throw Error(r(329))}}}return ct(e,Oe()),e.callbackNode===s?sh.bind(null,e):null}function Ha(e,n){var s=Di;return e.current.memoizedState.isDehydrated&&(Xn(e,n).flags|=256),e=_o(e,n),e!==2&&(n=ut,ut=s,n!==null&&Va(n)),e}function Va(e){ut===null?ut=e:ut.push.apply(ut,e)}function oy(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],f=c.getSnapshot;c=c.value;try{if(!Rt(f(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rn(e,n){for(n&=~Ua,n&=~co,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Tt(n),a=1<<s;e[s]=-1,n&=~a}}function oh(e){if(le&6)throw Error(r(327));Lr();var n=xs(e,0);if(!(n&1))return ct(e,Oe()),null;var s=_o(e,n);if(e.tag!==0&&s===2){var a=Sl(e);a!==0&&(n=a,s=Ha(e,a))}if(s===1)throw s=Pi,Xn(e,0),Rn(e,n),ct(e,Oe()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Jn(e,ut,rn),ct(e,Oe()),null}function Ga(e,n){var s=le;le|=1;try{return e(n)}finally{le=s,le===0&&(Ar=Oe()+500,$s&&Cn())}}function qn(e){Nn!==null&&Nn.tag===0&&!(le&6)&&Lr();var n=le;le|=1;var s=kt.transition,a=he;try{if(kt.transition=null,he=1,e)return e()}finally{he=a,kt.transition=s,le=n,!(le&6)&&Cn()}}function Qa(){wt=Dr.current,Ee(Dr)}function Xn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,F_(s)),be!==null)for(s=be.return;s!==null;){var a=s;switch(na(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Bs();break;case 3:Tr(),Ee(ot),Ee(Xe),ma();break;case 5:ha(a);break;case 4:Tr();break;case 13:Ee(Ie);break;case 19:Ee(Ie);break;case 10:aa(a.type._context);break;case 22:case 23:Qa()}s=s.return}if(He=e,be=e=Pn(e.current,null),qe=wt=n,ze=0,Pi=null,Ua=co=Yn=0,ut=Di=null,Gn!==null){for(n=0;n<Gn.length;n++)if(s=Gn[n],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,f=s.pending;if(f!==null){var m=f.next;f.next=c,a.next=m}s.pending=a}Gn=null}return e}function lh(e,n){do{var s=be;try{if(la(),Zs.current=ro,eo){for(var a=Ne.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}eo=!1}if(Kn=0,$e=je=Ne=null,xi=!1,ki=0,za.current=null,s===null||s.return===null){ze=1,Pi=n,be=null;break}e:{var f=e,m=s.return,_=s,E=n;if(n=qe,_.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=E,O=_,F=O.tag;if(!(O.mode&1)&&(F===0||F===11||F===15)){var A=O.alternate;A?(O.updateQueue=A.updateQueue,O.memoizedState=A.memoizedState,O.lanes=A.lanes):(O.updateQueue=null,O.memoizedState=null)}var W=Af(m);if(W!==null){W.flags&=-257,Lf(W,m,_,f,n),W.mode&1&&Df(f,I,n),n=W,E=I;var V=n.updateQueue;if(V===null){var G=new Set;G.add(E),n.updateQueue=G}else V.add(E);break e}else{if(!(n&1)){Df(f,I,n),Ka();break e}E=Error(r(426))}}else if(xe&&_.mode&1){var Me=Af(m);if(Me!==null){!(Me.flags&65536)&&(Me.flags|=256),Lf(Me,m,_,f,n),sa(Rr(E,_));break e}}f=E=Rr(E,_),ze!==4&&(ze=2),Di===null?Di=[f]:Di.push(f),f=m;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var x=Rf(f,E,n);tf(f,x);break e;case 1:_=E;var C=f.type,k=f.stateNode;if(!(f.flags&128)&&(typeof C.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(In===null||!In.has(k)))){f.flags|=65536,n&=-n,f.lanes|=n;var b=Pf(f,_,n);tf(f,b);break e}}f=f.return}while(f!==null)}ch(s)}catch(Q){n=Q,be===s&&s!==null&&(be=s=s.return);continue}break}while(!0)}function ah(){var e=uo.current;return uo.current=ro,e===null?ro:e}function Ka(){(ze===0||ze===3||ze===2)&&(ze=4),He===null||!(Yn&268435455)&&!(co&268435455)||Rn(He,qe)}function _o(e,n){var s=le;le|=2;var a=ah();(He!==e||qe!==n)&&(rn=null,Xn(e,n));do try{ly();break}catch(c){lh(e,c)}while(!0);if(la(),le=s,uo.current=a,be!==null)throw Error(r(261));return He=null,qe=0,ze}function ly(){for(;be!==null;)uh(be)}function ay(){for(;be!==null&&!Lg();)uh(be)}function uh(e){var n=hh(e.alternate,e,wt);e.memoizedProps=e.pendingProps,n===null?ch(e):be=n,za.current=null}function ch(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=ty(s,n),s!==null){s.flags&=32767,be=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,be=null;return}}else if(s=ey(s,n,wt),s!==null){be=s;return}if(n=n.sibling,n!==null){be=n;return}be=n=e}while(n!==null);ze===0&&(ze=5)}function Jn(e,n,s){var a=he,c=kt.transition;try{kt.transition=null,he=1,uy(e,n,s,a)}finally{kt.transition=c,he=a}return null}function uy(e,n,s,a){do Lr();while(Nn!==null);if(le&6)throw Error(r(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if($g(e,f),e===He&&(be=He=null,qe=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ho||(ho=!0,ph(ws,function(){return Lr(),null})),f=(s.flags&15990)!==0,s.subtreeFlags&15990||f){f=kt.transition,kt.transition=null;var m=he;he=1;var _=le;le|=4,za.current=null,ry(e,s),eh(s,e),R_(Kl),Ns=!!Ql,Kl=Ql=null,e.current=s,iy(s),Og(),le=_,he=m,kt.transition=f}else e.current=s;if(ho&&(ho=!1,Nn=e,po=c),f=e.pendingLanes,f===0&&(In=null),bg(s.stateNode),ct(e,Oe()),n!==null)for(a=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(fo)throw fo=!1,e=Wa,Wa=null,e;return po&1&&e.tag!==0&&Lr(),f=e.pendingLanes,f&1?e===$a?Ai++:(Ai=0,$a=e):Ai=0,Cn(),null}function Lr(){if(Nn!==null){var e=Xc(po),n=kt.transition,s=he;try{if(kt.transition=null,he=16>e?16:e,Nn===null)var a=!1;else{if(e=Nn,Nn=null,po=0,le&6)throw Error(r(331));var c=le;for(le|=4,$=e.current;$!==null;){var f=$,m=f.child;if($.flags&16){var _=f.deletions;if(_!==null){for(var E=0;E<_.length;E++){var I=_[E];for($=I;$!==null;){var O=$;switch(O.tag){case 0:case 11:case 15:Ri(8,O,f)}var F=O.child;if(F!==null)F.return=O,$=F;else for(;$!==null;){O=$;var A=O.sibling,W=O.return;if(Yf(O),O===I){$=null;break}if(A!==null){A.return=W,$=A;break}$=W}}}var V=f.alternate;if(V!==null){var G=V.child;if(G!==null){V.child=null;do{var Me=G.sibling;G.sibling=null,G=Me}while(G!==null)}}$=f}}if(f.subtreeFlags&2064&&m!==null)m.return=f,$=m;else e:for(;$!==null;){if(f=$,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Ri(9,f,f.return)}var x=f.sibling;if(x!==null){x.return=f.return,$=x;break e}$=f.return}}var C=e.current;for($=C;$!==null;){m=$;var k=m.child;if(m.subtreeFlags&2064&&k!==null)k.return=m,$=k;else e:for(m=C;$!==null;){if(_=$,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:ao(9,_)}}catch(Q){Ae(_,_.return,Q)}if(_===m){$=null;break e}var b=_.sibling;if(b!==null){b.return=_.return,$=b;break e}$=_.return}}if(le=c,Cn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Es,e)}catch{}a=!0}return a}finally{he=s,kt.transition=n}}return!1}function dh(e,n,s){n=Rr(s,n),n=Rf(e,n,1),e=xn(e,n,1),n=rt(),e!==null&&(ni(e,1,n),ct(e,n))}function Ae(e,n,s){if(e.tag===3)dh(e,e,s);else for(;n!==null;){if(n.tag===3){dh(n,e,s);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(In===null||!In.has(a))){e=Rr(s,e),e=Pf(n,e,1),n=xn(n,e,1),e=rt(),n!==null&&(ni(n,1,e),ct(n,e));break}}n=n.return}}function cy(e,n,s){var a=e.pingCache;a!==null&&a.delete(n),n=rt(),e.pingedLanes|=e.suspendedLanes&s,He===e&&(qe&s)===s&&(ze===4||ze===3&&(qe&130023424)===qe&&500>Oe()-Ba?Xn(e,0):Ua|=s),ct(e,n)}function fh(e,n){n===0&&(e.mode&1?(n=Ss,Ss<<=1,!(Ss&130023424)&&(Ss=4194304)):n=1);var s=rt();e=en(e,n),e!==null&&(ni(e,n,s),ct(e,s))}function dy(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),fh(e,s)}function fy(e,n){var s=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(r(314))}a!==null&&a.delete(n),fh(e,s)}var hh;hh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||ot.current)at=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return at=!1,Z_(e,n,s);at=!!(e.flags&131072)}else at=!1,xe&&n.flags&1048576&&Vd(n,Vs,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;oo(e,n),e=n.pendingProps;var c=Er(n,Xe.current);Nr(n,s),c=ya(null,n,a,e,c,s);var f=va();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,lt(a)?(f=!0,Ws(n)):f=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,da(n),c.updater=io,n.stateNode=c,c._reactInternals=n,ka(n,a,e,s),n=Ra(null,n,a,!0,f,s)):(n.tag=0,xe&&f&&ta(n),nt(null,n,c,s),n=n.child),n;case 16:a=n.elementType;e:{switch(oo(e,n),e=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=py(a),e=Dt(a,e),c){case 0:n=Ta(null,n,a,e,s);break e;case 1:n=zf(null,n,a,e,s);break e;case 11:n=Of(null,n,a,e,s);break e;case 14:n=Mf(null,n,a,Dt(a.type,e),s);break e}throw Error(r(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Dt(a,c),Ta(e,n,a,c,s);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Dt(a,c),zf(e,n,a,c,s);case 3:e:{if(Uf(n),e===null)throw Error(r(387));a=n.pendingProps,f=n.memoizedState,c=f.element,ef(e,n),Xs(n,a,null,s);var m=n.memoizedState;if(a=m.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){c=Rr(Error(r(423)),n),n=Bf(e,n,a,s,c);break e}else if(a!==c){c=Rr(Error(r(424)),n),n=Bf(e,n,a,s,c);break e}else for(vt=vn(n.stateNode.containerInfo.firstChild),yt=n,xe=!0,Pt=null,s=Jd(n,null,a,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(xr(),a===c){n=nn(e,n,s);break e}nt(e,n,a,s)}n=n.child}return n;case 5:return rf(n),e===null&&ia(n),a=n.type,c=n.pendingProps,f=e!==null?e.memoizedProps:null,m=c.children,Yl(a,c)?m=null:f!==null&&Yl(a,f)&&(n.flags|=32),jf(e,n),nt(e,n,m,s),n.child;case 6:return e===null&&ia(n),null;case 13:return Wf(e,n,s);case 4:return fa(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=kr(n,null,a,s):nt(e,n,a,s),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Dt(a,c),Of(e,n,a,c,s);case 7:return nt(e,n,n.pendingProps,s),n.child;case 8:return nt(e,n,n.pendingProps.children,s),n.child;case 12:return nt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,f=n.memoizedProps,m=c.value,_e(Ks,a._currentValue),a._currentValue=m,f!==null)if(Rt(f.value,m)){if(f.children===c.children&&!ot.current){n=nn(e,n,s);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var _=f.dependencies;if(_!==null){m=f.child;for(var E=_.firstContext;E!==null;){if(E.context===a){if(f.tag===1){E=tn(-1,s&-s),E.tag=2;var I=f.updateQueue;if(I!==null){I=I.shared;var O=I.pending;O===null?E.next=E:(E.next=O.next,O.next=E),I.pending=E}}f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),ua(f.return,s,n),_.lanes|=s;break}E=E.next}}else if(f.tag===10)m=f.type===n.type?null:f.child;else if(f.tag===18){if(m=f.return,m===null)throw Error(r(341));m.lanes|=s,_=m.alternate,_!==null&&(_.lanes|=s),ua(m,s,n),m=f.sibling}else m=f.child;if(m!==null)m.return=f;else for(m=f;m!==null;){if(m===n){m=null;break}if(f=m.sibling,f!==null){f.return=m.return,m=f;break}m=m.return}f=m}nt(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,Nr(n,s),c=St(c),a=a(c),n.flags|=1,nt(e,n,a,s),n.child;case 14:return a=n.type,c=Dt(a,n.pendingProps),c=Dt(a.type,c),Mf(e,n,a,c,s);case 15:return Ff(e,n,n.type,n.pendingProps,s);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Dt(a,c),oo(e,n),n.tag=1,lt(a)?(e=!0,Ws(n)):e=!1,Nr(n,s),Nf(n,a,c),ka(n,a,c,s),Ra(null,n,a,!0,e,s);case 19:return Hf(e,n,s);case 22:return bf(e,n,s)}throw Error(r(156,n.tag))};function ph(e,n){return Gc(e,n)}function hy(e,n,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,n,s,a){return new hy(e,n,s,a)}function Ya(e){return e=e.prototype,!(!e||!e.isReactComponent)}function py(e){if(typeof e=="function")return Ya(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zt)return 11;if(e===Ut)return 14}return 2}function Pn(e,n){var s=e.alternate;return s===null?(s=It(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function yo(e,n,s,a,c,f){var m=2;if(a=e,typeof e=="function")Ya(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case ke:return Zn(s.children,c,f,n);case Fe:m=8,c|=8;break;case Pe:return e=It(12,s,n,c|2),e.elementType=Pe,e.lanes=f,e;case mt:return e=It(13,s,n,c),e.elementType=mt,e.lanes=f,e;case Nt:return e=It(19,s,n,c),e.elementType=Nt,e.lanes=f,e;case De:return vo(s,c,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case We:m=10;break e;case jt:m=9;break e;case zt:m=11;break e;case Ut:m=14;break e;case st:m=16,a=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=It(m,s,n,c),n.elementType=e,n.type=a,n.lanes=f,n}function Zn(e,n,s,a){return e=It(7,e,a,n),e.lanes=s,e}function vo(e,n,s,a){return e=It(22,e,a,n),e.elementType=De,e.lanes=s,e.stateNode={isHidden:!1},e}function qa(e,n,s){return e=It(6,e,null,n),e.lanes=s,e}function Xa(e,n,s){return n=It(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function my(e,n,s,a,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xl(0),this.expirationTimes=xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Ja(e,n,s,a,c,f,m,_,E){return e=new my(e,n,s,_,E),n===1?(n=1,f===!0&&(n|=8)):n=0,f=It(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},da(f),e}function gy(e,n,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Re,key:a==null?null:""+a,children:e,containerInfo:n,implementation:s}}function mh(e){if(!e)return En;e=e._reactInternals;e:{if(Bn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(lt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(lt(s))return Wd(e,s,n)}return n}function gh(e,n,s,a,c,f,m,_,E){return e=Ja(s,a,!0,e,c,f,m,_,E),e.context=mh(null),s=e.current,a=rt(),c=Tn(s),f=tn(a,c),f.callback=n??null,xn(s,f,c),e.current.lanes=c,ni(e,c,a),ct(e,a),e}function wo(e,n,s,a){var c=n.current,f=rt(),m=Tn(c);return s=mh(s),n.context===null?n.context=s:n.pendingContext=s,n=tn(f,m),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=xn(c,n,m),e!==null&&(Ot(e,c,m,f),qs(e,c,m)),m}function Eo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _h(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Za(e,n){_h(e,n),(e=e.alternate)&&_h(e,n)}var yh=typeof reportError=="function"?reportError:function(e){console.error(e)};function eu(e){this._internalRoot=e}Co.prototype.render=eu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));wo(e,n,null,null)},Co.prototype.unmount=eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;qn(function(){wo(null,e,null,null)}),n[qt]=null}};function Co(e){this._internalRoot=e}Co.prototype.unstable_scheduleHydration=function(e){if(e){var n=ed();e={blockedOn:null,target:e,priority:n};for(var s=0;s<gn.length&&n!==0&&n<gn[s].priority;s++);gn.splice(s,0,e),s===0&&rd(e)}};function tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function So(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vh(){}function _y(e,n,s,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var I=Eo(m);f.call(I)}}var m=gh(n,a,e,0,null,!1,!1,"",vh);return e._reactRootContainer=m,e[qt]=m.current,gi(e.nodeType===8?e.parentNode:e),qn(),m}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var _=a;a=function(){var I=Eo(E);_.call(I)}}var E=Ja(e,0,!1,null,null,!1,!1,"",vh);return e._reactRootContainer=E,e[qt]=E.current,gi(e.nodeType===8?e.parentNode:e),qn(function(){wo(n,E,s,a)}),E}function xo(e,n,s,a,c){var f=s._reactRootContainer;if(f){var m=f;if(typeof c=="function"){var _=c;c=function(){var E=Eo(m);_.call(E)}}wo(n,m,e,c)}else m=_y(s,n,e,c,a);return Eo(m)}Jc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=ti(n.pendingLanes);s!==0&&(kl(n,s|1),ct(n,Oe()),!(le&6)&&(Ar=Oe()+500,Cn()))}break;case 13:qn(function(){var a=en(e,1);if(a!==null){var c=rt();Ot(a,e,1,c)}}),Za(e,1)}},Il=function(e){if(e.tag===13){var n=en(e,134217728);if(n!==null){var s=rt();Ot(n,e,134217728,s)}Za(e,134217728)}},Zc=function(e){if(e.tag===13){var n=Tn(e),s=en(e,n);if(s!==null){var a=rt();Ot(s,e,n,a)}Za(e,n)}},ed=function(){return he},td=function(e,n){var s=he;try{return he=e,n()}finally{he=s}},yl=function(e,n,s){switch(n){case"input":if(cl(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var a=s[n];if(a!==e&&a.form===e.form){var c=Us(a);if(!c)throw Error(r(90));kc(a),cl(a,c)}}}break;case"textarea":Pc(e,s);break;case"select":n=s.value,n!=null&&ur(e,!!s.multiple,n,!1)}},zc=Ga,Uc=qn;var yy={usingClientEntryPoint:!1,Events:[vi,vr,Us,bc,jc,Ga]},Li={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vy={bundleType:Li.bundleType,version:Li.version,rendererPackageName:Li.rendererPackageName,rendererConfig:Li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hc(e),e===null?null:e.stateNode},findFiberByHostInstance:Li.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{Es=ko.inject(vy),Bt=ko}catch{}}return dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yy,dt.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tu(n))throw Error(r(200));return gy(e,n,null,s)},dt.createRoot=function(e,n){if(!tu(e))throw Error(r(299));var s=!1,a="",c=yh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=Ja(e,1,!1,null,null,s,!1,a,c),e[qt]=n.current,gi(e.nodeType===8?e.parentNode:e),new eu(n)},dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Hc(n),e=e===null?null:e.stateNode,e},dt.flushSync=function(e){return qn(e)},dt.hydrate=function(e,n,s){if(!So(n))throw Error(r(200));return xo(null,e,n,!0,s)},dt.hydrateRoot=function(e,n,s){if(!tu(e))throw Error(r(405));var a=s!=null&&s.hydratedSources||null,c=!1,f="",m=yh;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),n=gh(n,null,e,1,s??null,c,!1,f,m),e[qt]=n.current,gi(e),a)for(e=0;e<a.length;e++)s=a[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new Co(n)},dt.render=function(e,n,s){if(!So(n))throw Error(r(200));return xo(null,e,n,!1,s)},dt.unmountComponentAtNode=function(e){if(!So(e))throw Error(r(40));return e._reactRootContainer?(qn(function(){xo(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1},dt.unstable_batchedUpdates=Ga,dt.unstable_renderSubtreeIntoContainer=function(e,n,s,a){if(!So(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return xo(e,n,s,!1,a)},dt.version="18.3.1-next-f1338f8080-20240426",dt}var Nh;function Ny(){if(Nh)return iu.exports;Nh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),iu.exports=Iy(),iu.exports}var Th;function Ty(){if(Th)return Io;Th=1;var i=Ny();return Io.createRoot=i.createRoot,Io.hydrateRoot=i.hydrateRoot,Io}var Ry=Ty(),Rh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(i,t){if(!i)throw $r(t)},$r=function(i){return new Error("Firebase Database ("+Tp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},Py=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const l=i[r++];if(l<128)t[o++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[r++];t[o++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[r++],d=i[r++],h=i[r++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|h&63)-65536;t[o++]=String.fromCharCode(55296+(p>>10)),t[o++]=String.fromCharCode(56320+(p&1023))}else{const u=i[r++],d=i[r++];t[o++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},Bu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<i.length;l+=3){const u=i[l],d=l+1<i.length,h=d?i[l+1]:0,p=l+2<i.length,g=p?i[l+2]:0,w=u>>2,y=(u&3)<<4|h>>4;let v=(h&15)<<2|g>>6,T=g&63;p||(T=64,d||(v=64)),o.push(r[w],r[y],r[v],r[T])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Rp(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Py(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<i.length;){const u=r[i.charAt(l++)],h=l<i.length?r[i.charAt(l)]:0;++l;const g=l<i.length?r[i.charAt(l)]:64;++l;const y=l<i.length?r[i.charAt(l)]:64;if(++l,u==null||h==null||g==null||y==null)throw new Dy;const v=u<<2|h>>4;if(o.push(v),g!==64){const T=h<<4&240|g>>2;if(o.push(T),y!==64){const N=g<<6&192|y;o.push(N)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Dy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pp=function(i){const t=Rp(i);return Bu.encodeByteArray(t,!0)},Lo=function(i){return Pp(i).replace(/\./g,"")},wu=function(i){try{return Bu.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(i){return Dp(void 0,i)}function Dp(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!Ly(r)||(i[r]=Dp(i[r],t[r]));return i}function Ly(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=()=>Oy().__FIREBASE_DEFAULTS__,Fy=()=>{if(typeof process>"u"||typeof Rh>"u")return;const i=Rh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},by=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&wu(i[1]);return t&&JSON.parse(t)},Ap=()=>{try{return My()||Fy()||by()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},jy=i=>{var t,r;return(r=(t=Ap())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},zy=i=>{const t=jy(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},Lp=()=>{var i;return(i=Ap())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Lo(JSON.stringify(r)),Lo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Op(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(By())}function Wy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $y(){return Tp.NODE_ADMIN===!0}function Hy(){try{return typeof indexedDB=="object"}catch{return!1}}function Vy(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="FirebaseError";class ss extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=Gy,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mp.prototype.create)}}class Mp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?Qy(u,o):"Error",h=`${this.serviceName}: ${d} (${l}).`;return new ss(l,h,o)}}function Qy(i,t){return i.replace(Ky,(r,o)=>{const l=t[o];return l!=null?String(l):`<${o}?>`})}const Ky=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(i){return JSON.parse(i)}function Ue(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=function(i){let t={},r={},o={},l="";try{const u=i.split(".");t=Qi(wu(u[0])||""),r=Qi(wu(u[1])||""),l=u[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:l}},Yy=function(i){const t=Fp(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},qy=function(i){const t=Fp(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function jr(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function Ph(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Oo(i,t,r){const o={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(o[l]=t.call(r,i[l],l,i));return o}function Eu(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const l of r){if(!o.includes(l))return!1;const u=i[l],d=t[l];if(Dh(u)&&Dh(d)){if(!Eu(u,d))return!1}else if(u!==d)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function Dh(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(l=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)o[y]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let y=0;y<16;y++)o[y]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let y=16;y<80;y++){const v=o[y-3]^o[y-8]^o[y-14]^o[y-16];o[y]=(v<<1|v>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],d=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,w;for(let y=0;y<80;y++){y<40?y<20?(g=h^u&(d^h),w=1518500249):(g=u^d^h,w=1859775393):y<60?(g=u&d|h&(u|d),w=2400959708):(g=u^d^h,w=3395469782);const v=(l<<5|l>>>27)+g+p+w+o[y]&4294967295;p=h,h=d,d=(u<<30|u>>>2)&4294967295,u=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let l=0;const u=this.buf_;let d=this.inbuf_;for(;l<r;){if(d===0)for(;l<=o;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<r;)if(u[d]=t.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}else for(;l<r;)if(u[d]=t[l],++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)t[o]=this.chain_[l]>>u&255,++o;return t}}function Wu(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);if(l>=55296&&l<=56319){const u=l-55296;o++,j(o<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(o)-56320;l=65536+(u<<10)+d}l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):l<65536?(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},Xo=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(i){return i&&i._delegate?i._delegate:i}class Ki{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new qo;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nv(t))try{this.getOrInitializeService({instanceIdentifier:er})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});o.resolve(u)}catch{}}}}clearInstance(t=er){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=er){return this.instances.has(t)}getOptions(t=er){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[u,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);o===h&&d.resolve(l)}return l}onInit(t,r){var o;const l=this.normalizeInstanceIdentifier(r),u=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;u.add(t),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&t(d,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:tv(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=er){return this.component?this.component.multipleInstances?t:er:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tv(i){return i===er?void 0:i}function nv(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new ev(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ye||(ye={}));const iv={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},sv=ye.INFO,ov={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},lv=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),l=ov[t];if(l)console[l](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bp{constructor(t){this.name=t,this._logLevel=sv,this._logHandler=lv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ye))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...t),this._logHandler(this,ye.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...t),this._logHandler(this,ye.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...t),this._logHandler(this,ye.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...t),this._logHandler(this,ye.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...t),this._logHandler(this,ye.ERROR,...t)}}const av=(i,t)=>t.some(r=>i instanceof r);let Ah,Lh;function uv(){return Ah||(Ah=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cv(){return Lh||(Lh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jp=new WeakMap,Cu=new WeakMap,zp=new WeakMap,lu=new WeakMap,$u=new WeakMap;function dv(i){const t=new Promise((r,o)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{r(An(i.result)),l()},d=()=>{o(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",d)});return t.then(r=>{r instanceof IDBCursor&&jp.set(r,i)}).catch(()=>{}),$u.set(t,i),t}function fv(i){if(Cu.has(i))return;const t=new Promise((r,o)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{r(),l()},d=()=>{o(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Cu.set(i,t)}let Su={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Cu.get(i);if(t==="objectStoreNames")return i.objectStoreNames||zp.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return An(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function hv(i){Su=i(Su)}function pv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(au(this),t,...r);return zp.set(o,t.sort?t.sort():[t]),An(o)}:cv().includes(i)?function(...t){return i.apply(au(this),t),An(jp.get(this))}:function(...t){return An(i.apply(au(this),t))}}function mv(i){return typeof i=="function"?pv(i):(i instanceof IDBTransaction&&fv(i),av(i,uv())?new Proxy(i,Su):i)}function An(i){if(i instanceof IDBRequest)return dv(i);if(lu.has(i))return lu.get(i);const t=mv(i);return t!==i&&(lu.set(i,t),$u.set(t,i)),t}const au=i=>$u.get(i);function gv(i,t,{blocked:r,upgrade:o,blocking:l,terminated:u}={}){const d=indexedDB.open(i,t),h=An(d);return o&&d.addEventListener("upgradeneeded",p=>{o(An(d.result),p.oldVersion,p.newVersion,An(d.transaction),p)}),r&&d.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const _v=["get","getKey","getAll","getAllKeys","count"],yv=["put","add","delete","clear"],uu=new Map;function Oh(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(uu.get(t))return uu.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,l=yv.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||_v.includes(r)))return;const u=async function(d,...h){const p=this.transaction(d,l?"readwrite":"readonly");let g=p.store;return o&&(g=g.index(h.shift())),(await Promise.all([g[r](...h),l&&p.done]))[0]};return uu.set(t,u),u}hv(i=>({...i,get:(t,r,o)=>Oh(t,r)||i.get(t,r,o),has:(t,r)=>!!Oh(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(wv(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function wv(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const xu="@firebase/app",Mh="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new bp("@firebase/app"),Ev="@firebase/app-compat",Cv="@firebase/analytics-compat",Sv="@firebase/analytics",xv="@firebase/app-check-compat",kv="@firebase/app-check",Iv="@firebase/auth",Nv="@firebase/auth-compat",Tv="@firebase/database",Rv="@firebase/data-connect",Pv="@firebase/database-compat",Dv="@firebase/functions",Av="@firebase/functions-compat",Lv="@firebase/installations",Ov="@firebase/installations-compat",Mv="@firebase/messaging",Fv="@firebase/messaging-compat",bv="@firebase/performance",jv="@firebase/performance-compat",zv="@firebase/remote-config",Uv="@firebase/remote-config-compat",Bv="@firebase/storage",Wv="@firebase/storage-compat",$v="@firebase/firestore",Hv="@firebase/vertexai",Vv="@firebase/firestore-compat",Gv="firebase",Qv="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="[DEFAULT]",Kv={[xu]:"fire-core",[Ev]:"fire-core-compat",[Sv]:"fire-analytics",[Cv]:"fire-analytics-compat",[kv]:"fire-app-check",[xv]:"fire-app-check-compat",[Iv]:"fire-auth",[Nv]:"fire-auth-compat",[Tv]:"fire-rtdb",[Rv]:"fire-data-connect",[Pv]:"fire-rtdb-compat",[Dv]:"fire-fn",[Av]:"fire-fn-compat",[Lv]:"fire-iid",[Ov]:"fire-iid-compat",[Mv]:"fire-fcm",[Fv]:"fire-fcm-compat",[bv]:"fire-perf",[jv]:"fire-perf-compat",[zv]:"fire-rc",[Uv]:"fire-rc-compat",[Bv]:"fire-gcs",[Wv]:"fire-gcs-compat",[$v]:"fire-fst",[Vv]:"fire-fst-compat",[Hv]:"fire-vertex","fire-js":"fire-js",[Gv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new Map,Yv=new Map,Iu=new Map;function Fh(i,t){try{i.container.addComponent(t)}catch(r){an.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Fo(i){const t=i.name;if(Iu.has(t))return an.debug(`There were multiple attempts to register component ${t}.`),!1;Iu.set(t,i);for(const r of Mo.values())Fh(r,i);for(const r of Yv.values())Fh(r,i);return!0}function qv(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ln=new Mp("app","Firebase",Xv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=Qv;function Up(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:ku,automaticDataCollectionEnabled:!1},t),l=o.name;if(typeof l!="string"||!l)throw Ln.create("bad-app-name",{appName:String(l)});if(r||(r=Lp()),!r)throw Ln.create("no-options");const u=Mo.get(l);if(u){if(Eu(r,u.options)&&Eu(o,u.config))return u;throw Ln.create("duplicate-app",{appName:l})}const d=new rv(l);for(const p of Iu.values())d.addComponent(p);const h=new Jv(r,o,d);return Mo.set(l,h),h}function ew(i=ku){const t=Mo.get(i);if(!t&&i===ku&&Lp())return Up();if(!t)throw Ln.create("no-app",{appName:i});return t}function Mr(i,t,r){var o;let l=(o=Kv[i])!==null&&o!==void 0?o:i;r&&(l+=`-${r}`);const u=l.match(/\s|\//),d=t.match(/\s|\//);if(u||d){const h=[`Unable to register library "${l}" with version "${t}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&h.push("and"),d&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),an.warn(h.join(" "));return}Fo(new Ki(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="firebase-heartbeat-database",nw=1,Yi="firebase-heartbeat-store";let cu=null;function Bp(){return cu||(cu=gv(tw,nw,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Yi)}catch(r){console.warn(r)}}}}).catch(i=>{throw Ln.create("idb-open",{originalErrorMessage:i.message})})),cu}async function rw(i){try{const r=(await Bp()).transaction(Yi),o=await r.objectStore(Yi).get(Wp(i));return await r.done,o}catch(t){if(t instanceof ss)an.warn(t.message);else{const r=Ln.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});an.warn(r.message)}}}async function bh(i,t){try{const o=(await Bp()).transaction(Yi,"readwrite");await o.objectStore(Yi).put(t,Wp(i)),await o.done}catch(r){if(r instanceof ss)an.warn(r.message);else{const o=Ln.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});an.warn(o.message)}}}function Wp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=1024,sw=30*24*60*60*1e3;class ow{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new aw(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=jh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const h=new Date(d.date).valueOf();return Date.now()-h<=sw}),this._storage.overwrite(this._heartbeatsCache))}catch(o){an.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=jh(),{heartbeatsToSend:o,unsentEntries:l}=lw(this._heartbeatsCache.heartbeats),u=Lo(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return an.warn(r),""}}}function jh(){return new Date().toISOString().substring(0,10)}function lw(i,t=iw){const r=[];let o=i.slice();for(const l of i){const u=r.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),zh(r)>t){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),zh(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class aw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hy()?Vy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await rw(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return bh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return bh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function zh(i){return Lo(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(i){Fo(new Ki("platform-logger",t=>new vv(t),"PRIVATE")),Fo(new Ki("heartbeat",t=>new ow(t),"PRIVATE")),Mr(xu,Mh,i),Mr(xu,Mh,"esm2017"),Mr("fire-js","")}uw("");var Uh={};const Bh="@firebase/database",Wh="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p="";function cw(i){$p=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ue(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Qi(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return cn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new dw(t)}}catch{}return new fw},nr=Hp("localStorage"),hw=Hp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new bp("@firebase/database"),pw=function(){let i=1;return function(){return i++}}(),Vp=function(i){const t=Zy(i),r=new Jy;r.update(t);const o=r.digest();return Bu.encodeByteArray(o)},os=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=os.apply(null,o):typeof o=="object"?t+=Ue(o):t+=o,t+=" "}return t};let Wi=null,$h=!0;const mw=function(i,t){j(!0,"Can't turn on custom loggers persistently."),Fr.logLevel=ye.VERBOSE,Wi=Fr.log.bind(Fr)},tt=function(...i){if($h===!0&&($h=!1,Wi===null&&hw.get("logging_enabled")===!0&&mw()),Wi){const t=os.apply(null,i);Wi(t)}},ls=function(i){return function(...t){tt(i,...t)}},Nu=function(...i){const t="FIREBASE INTERNAL ERROR: "+os(...i);Fr.error(t)},un=function(...i){const t=`FIREBASE FATAL ERROR: ${os(...i)}`;throw Fr.error(t),new Error(t)},ht=function(...i){const t="FIREBASE WARNING: "+os(...i);Fr.warn(t)},gw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gp=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},_w=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},zr="[MIN_NAME]",ir="[MAX_NAME]",Hr=function(i,t){if(i===t)return 0;if(i===zr||t===ir)return-1;if(t===zr||i===ir)return 1;{const r=Hh(i),o=Hh(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},yw=function(i,t){return i===t?0:i<t?-1:1},Mi=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Ue(t))},Hu=function(i){if(typeof i!="object"||i===null)return Ue(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Ue(t[o]),r+=":",r+=Hu(i[t[o]]);return r+="}",r},Qp=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let l=0;l<r;l+=t)l+t>r?o.push(i.substring(l,r)):o.push(i.substring(l,l+t));return o};function pt(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const Kp=function(i){j(!Gp(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let l,u,d,h,p;i===0?(u=0,d=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),o),u=h+o,d=Math.round(i*Math.pow(2,r-h)-Math.pow(2,r))):(u=0,d=Math.round(i/Math.pow(2,1-o-r))));const g=[];for(p=r;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=t;p;p-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(l?1:0),g.reverse();const w=g.join("");let y="";for(p=0;p<64;p+=8){let v=parseInt(w.substr(p,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},vw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ww=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ew(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const Cw=new RegExp("^-?(0*)\\d{1,10}$"),Sw=-2147483648,xw=2147483647,Hh=function(i){if(Cw.test(i)){const t=Number(i);if(t>=Sw&&t<=xw)return t}return null},Vr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw ht("Exception was thrown by user callback.",r),t},Math.floor(0))}},kw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$i=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(tt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ht(t)}}class Po{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Po.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu="5",Yp="v",qp="s",Xp="r",Jp="f",Zp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,em="ls",tm="p",Tu="ac",nm="websocket",rm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(t,r,o,l,u=!1,d="",h=!1,p=!1){this.secure=r,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&nr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function Tw(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function sm(i,t,r){j(typeof t=="string","typeof type must == string"),j(typeof r=="object","typeof params must == object");let o;if(t===nm)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===rm)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Tw(i)&&(r.ns=i.namespace);const l=[];return pt(r,(u,d)=>{l.push(u+"="+d)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.counters_={}}incrementCounter(t,r=1){cn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return Ay(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du={},fu={};function Gu(i){const t=i.toString();return du[t]||(du[t]=new Rw),du[t]}function Pw(i,t){const r=i.toString();return fu[r]||(fu[r]=t()),fu[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&Vr(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="start",Aw="close",Lw="pLPCommand",Ow="pRTLPCB",om="id",lm="pw",am="ser",Mw="cb",Fw="seg",bw="ts",jw="d",zw="dframe",um=1870,cm=30,Uw=um-cm,Bw=25e3,Ww=3e4;class Or{constructor(t,r,o,l,u,d,h){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=l,this.authToken=u,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ls(t),this.stats_=Gu(r),this.urlFn=p=>(this.appCheckToken&&(p[Tu]=this.appCheckToken),sm(r,rm,p))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new Dw(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ww)),_w(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qu((...u)=>{const[d,h,p,g,w]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Vh)this.id=h,this.password=p;else if(d===Aw)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const o={};o[Vh]="t",o[am]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[Mw]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Yp]=Vu,this.transportSessionId&&(o[qp]=this.transportSessionId),this.lastSessionId&&(o[em]=this.lastSessionId),this.applicationId&&(o[tm]=this.applicationId),this.appCheckToken&&(o[Tu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Zp.test(location.hostname)&&(o[Xp]=Jp);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Or.forceAllow_=!0}static forceDisallow(){Or.forceDisallow_=!0}static isAvailable(){return Or.forceAllow_?!0:!Or.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!vw()&&!ww()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Ue(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Pp(r),l=Qp(o,Uw);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[zw]="t",o[om]=t,o[lm]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Ue(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Qu{constructor(t,r,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pw(),window[Lw+this.uniqueCallbackIdentifier]=t,window[Ow+this.uniqueCallbackIdentifier]=r,this.myIFrame=Qu.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){tt("frame writing exception"),h.stack&&tt(h.stack),tt(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||tt("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[om]=this.myID,t[lm]=this.myPW,t[am]=this.currentSerial;let r=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+cm+o.length<=um;){const d=this.pendingSegs.shift();o=o+"&"+Fw+l+"="+d.seg+"&"+bw+l+"="+d.ts+"&"+jw+l+"="+d.d,l++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(o,Math.floor(Bw)),u=()=>{clearTimeout(l),o()};this.addTag(t,u)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{tt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=16384,Hw=45e3;let bo=null;typeof MozWebSocket<"u"?bo=MozWebSocket:typeof WebSocket<"u"&&(bo=WebSocket);class Gt{constructor(t,r,o,l,u,d,h){this.connId=t,this.applicationId=o,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ls(this.connId),this.stats_=Gu(r),this.connURL=Gt.connectionURL_(r,d,h,l,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,l,u){const d={};return d[Yp]=Vu,typeof location<"u"&&location.hostname&&Zp.test(location.hostname)&&(d[Xp]=Jp),r&&(d[qp]=r),o&&(d[em]=o),l&&(d[Tu]=l),u&&(d[tm]=u),sm(t,nm,d)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nr.set("previous_websocket_failure",!0);try{let o;$y(),this.mySock=new bo(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Gt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&bo!==null&&!Gt.forceDisallow_}static previouslyFailed(){return nr.isInMemoryStorage||nr.get("previous_websocket_failure")===!0}markConnectionHealthy(){nr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=Qi(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(j(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Ue(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Qp(r,$w);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Hw))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Gt.responsesRequiredToBeHealthy=2;Gt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{static get ALL_TRANSPORTS(){return[Or,Gt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Gt.isAvailable();let o=r&&!Gt.previouslyFailed();if(t.webSocketOnly&&(r||ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Gt];else{const l=this.transports_=[];for(const u of qi.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);qi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}qi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=6e4,Gw=5e3,Qw=10*1024,Kw=100*1024,hu="t",Gh="d",Yw="s",Qh="r",qw="e",Kh="o",Yh="a",qh="n",Xh="p",Xw="h";class Jw{constructor(t,r,o,l,u,d,h,p,g,w){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ls("c:"+this.id+":"),this.transportManager_=new qi(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=$i(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Kw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Qw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(hu in t){const r=t[hu];r===Yh?this.upgradeIfSecondaryHealthy_():r===Qh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Kh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Mi("t",t),o=Mi("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Xh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Yh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Mi("t",t),o=Mi("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Mi(hu,t);if(Gh in t){const o=t[Gh];if(r===Xw){const l=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===qh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===Yw?this.onConnectionShutdown_(o):r===Qh?this.onReset_(o):r===qw?Nu("Server Error: "+o):r===Kh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nu("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Vu!==o&&ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),$i(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Vw))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$i(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Gw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Xh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{put(t,r,o,l){}merge(t,r,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t){this.allowedEvents_=t,this.listeners_={},j(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const l=this.getInitialEvent(t);l&&r.apply(o,l)}off(t,r,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let u=0;u<l.length;u++)if(l[u].callback===r&&(!o||o===l[u].context)){l.splice(u,1);return}}validateEventType_(t){j(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends fm{static getInstance(){return new jo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Op()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return j(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=32,Zh=768;class pe{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function de(){return new pe("")}function oe(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Fn(i){return i.pieces_.length-i.pieceNum_}function ve(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new pe(i.pieces_,t)}function hm(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function Zw(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function pm(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function mm(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new pe(t,0)}function Be(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof pe)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&r.push(o[l])}return new pe(r,0)}function se(i){return i.pieceNum_>=i.pieces_.length}function it(i,t){const r=oe(i),o=oe(t);if(r===null)return t;if(r===o)return it(ve(i),ve(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function gm(i,t){if(Fn(i)!==Fn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Mt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Fn(i)>Fn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class e0{constructor(t,r){this.errorPrefix_=r,this.parts_=pm(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Xo(this.parts_[o]);_m(this)}}function t0(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Xo(t),_m(i)}function n0(i){const t=i.parts_.pop();i.byteLength_-=Xo(t),i.parts_.length>0&&(i.byteLength_-=1)}function _m(i){if(i.byteLength_>Zh)throw new Error(i.errorPrefix_+"has a key path longer than "+Zh+" bytes ("+i.byteLength_+").");if(i.parts_.length>Jh)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Jh+") or object contains a cycle "+tr(i))}function tr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends fm{static getInstance(){return new Ku}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return j(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=1e3,r0=60*5*1e3,ep=30*1e3,i0=1.3,s0=3e4,o0="server_kill",tp=3;class on extends dm{constructor(t,r,o,l,u,d,h,p){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=on.nextPersistentConnectionId_++,this.log_=ls("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fi,this.maxReconnectDelay_=r0,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ku.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&jo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const l=++this.requestNumber_,u={r:l,a:t,b:r};this.log_(Ue(u)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),o&&(this.requestCBHash_[l]=o)}get(t){this.initConnection_();const r=new qo,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),r.promise}listen(t,r,o,l){this.initConnection_();const u=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),j(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:r,query:t,tag:o};this.listens.get(d).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+o+" for "+l);const u={p:o},d="q";t.tag&&(u.q=r._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(d,u,h=>{const p=h.d,g=h.s;on.warnOnListenWarnings_(p,r),(this.listens.get(o)&&this.listens.get(o).get(l))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(o,l),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&cn(t,"w")){const o=jr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||qy(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ep)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=Yy(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,l=>{const u=l.s,d=l.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),j(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,t._queryObject,r)}sendUnlisten_(t,r,o,l){this.log_("Unlisten on "+t+" for "+r);const u={p:t},d="n";l&&(u.q=o,u.t=l),this.sendRequest(d,u)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,l){const u={p:r,d:o};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(t,r,o,l){this.putInternal("p",t,r,o,l)}merge(t,r,o,l){this.putInternal("m",t,r,o,l)}putInternal(t,r,o,l,u){this.initConnection_();const d={p:r,d:o};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:t,request:d,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const u=o.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ue(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):Nu("Unrecognized action received from server: "+Ue(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Fi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>s0&&(this.reconnectDelay_=Fi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*i0)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+on.nextConnectionId_++,u=this.lastSessionId;let d=!1,h=null;const p=function(){h?h.close():(d=!0,o())},g=function(y){j(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:p,sendRequest:g};const w=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(w),this.appCheckTokenProvider_.getToken(w)]);d?tt("getToken() completed but was canceled"):(tt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,h=new Jw(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,T=>{ht(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(o0)},u))}catch(y){this.log_("Failed to get token: "+y),d||(this.repoInfo_.nodeAdmin&&ht(y),p())}}}interrupt(t){tt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){tt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Ph(this.interruptReasons_)&&(this.reconnectDelay_=Fi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(u=>Hu(u)).join("$"):o="default";const l=this.removeListen_(t,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,r){const o=new pe(t).toString();let l;if(this.listens.has(o)){const u=this.listens.get(o);l=u.get(r),u.delete(r),u.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(t,r){tt("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=tp&&(this.reconnectDelay_=ep,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){tt("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=tp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+$p.replace(/\./g,"-")]=1,Op()?t["framework.cordova"]=1:Wy()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=jo.getInstance().currentlyOnline();return Ph(this.interruptReasons_)&&t}}on.nextPersistentConnectionId_=0;on.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new ne(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new ne(zr,t),l=new ne(zr,r);return this.compare(o,l)!==0}minPost(){return ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No;class ym extends Jo{static get __EMPTY_NODE(){return No}static set __EMPTY_NODE(t){No=t}compare(t,r){return Hr(t.name,r.name)}isDefinedOn(t){throw $r("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return ne.MIN}maxPost(){return new ne(ir,No)}makePost(t,r){return j(typeof t=="string","KeyIndex indexValue must always be a string."),new ne(t,No)}toString(){return".key"}}const br=new ym;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,r,o,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=r?o(t.key,r):1,l&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Qe{constructor(t,r,o,l,u){this.key=t,this.value=r,this.color=o??Qe.RED,this.left=l??ft.EMPTY_NODE,this.right=u??ft.EMPTY_NODE}copy(t,r,o,l,u){return new Qe(t??this.key,r??this.value,o??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let l=this;const u=o(t,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(t,r,o),null):u===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,r,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return ft.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,l;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return ft.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Qe.RED=!0;Qe.BLACK=!1;class l0{copy(t,r,o,l,u){return this}insert(t,r,o){return new Qe(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ft{constructor(t,r=ft.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ft(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ft(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Qe.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,l=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new To(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new To(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new To(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new To(this.root_,null,this.comparator_,!0,t)}}ft.EMPTY_NODE=new l0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(i,t){return Hr(i.name,t.name)}function Yu(i,t){return Hr(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru;function u0(i){Ru=i}const vm=function(i){return typeof i=="number"?"number:"+Kp(i):"string:"+i},wm=function(i){if(i.isLeafNode()){const t=i.val();j(typeof t=="string"||typeof t=="number"||typeof t=="object"&&cn(t,".sv"),"Priority must be a string or number.")}else j(i===Ru||i.isEmpty(),"priority of unexpected type.");j(i===Ru||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np;class Ge{static set __childrenNodeConstructor(t){np=t}static get __childrenNodeConstructor(){return np}constructor(t,r=Ge.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),wm(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ge(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ge.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return se(t)?this:oe(t)===".priority"?this.priorityNode_:Ge.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Ge.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=oe(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(j(o!==".priority"||Fn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Ge.__childrenNodeConstructor.EMPTY_NODE.updateChild(ve(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+vm(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=Kp(this.value_):t+=this.value_,this.lazyHash_=Vp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ge.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ge.__childrenNodeConstructor?-1:(j(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,l=Ge.VALUE_TYPE_ORDER.indexOf(r),u=Ge.VALUE_TYPE_ORDER.indexOf(o);return j(l>=0,"Unknown leaf type: "+r),j(u>=0,"Unknown leaf type: "+o),l===u?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Ge.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em,Cm;function c0(i){Em=i}function d0(i){Cm=i}class f0 extends Jo{compare(t,r){const o=t.node.getPriority(),l=r.node.getPriority(),u=o.compareTo(l);return u===0?Hr(t.name,r.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(ir,new Ge("[PRIORITY-POST]",Cm))}makePost(t,r){const o=Em(t);return new ne(r,new Ge("[PRIORITY-POST]",o))}toString(){return".priority"}}const Le=new f0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=Math.log(2);class p0{constructor(t){const r=u=>parseInt(Math.log(u)/h0,10),o=u=>parseInt(Array(u+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const l=o(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const zo=function(i,t,r,o){i.sort(t);const l=function(p,g){const w=g-p;let y,v;if(w===0)return null;if(w===1)return y=i[p],v=r?r(y):y,new Qe(v,y.node,Qe.BLACK,null,null);{const T=parseInt(w/2,10)+p,N=l(p,T),D=l(T+1,g);return y=i[T],v=r?r(y):y,new Qe(v,y.node,Qe.BLACK,N,D)}},u=function(p){let g=null,w=null,y=i.length;const v=function(N,D){const M=y-N,z=y;y-=N;const U=l(M+1,z),Z=i[M],re=r?r(Z):Z;T(new Qe(re,Z.node,D,null,U))},T=function(N){g?(g.left=N,g=N):(w=N,g=N)};for(let N=0;N<p.count;++N){const D=p.nextBitIsOne(),M=Math.pow(2,p.count-(N+1));D?v(M,Qe.BLACK):(v(M,Qe.BLACK),v(M,Qe.RED))}return w},d=new p0(i.length),h=u(d);return new ft(o||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu;const bi={};class sn{static get Default(){return j(Le,"ChildrenNode.ts has not been loaded"),pu=pu||new sn({".priority":bi},{".priority":Le}),pu}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=jr(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ft?r:null}hasIndex(t){return cn(this.indexSet_,t.toString())}addIndex(t,r){j(t!==br,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const u=r.getIterator(ne.Wrap);let d=u.getNext();for(;d;)l=l||t.isDefinedOn(d.node),o.push(d),d=u.getNext();let h;l?h=zo(o,t.getCompare()):h=bi;const p=t.toString(),g=Object.assign({},this.indexSet_);g[p]=t;const w=Object.assign({},this.indexes_);return w[p]=h,new sn(w,g)}addToIndexes(t,r){const o=Oo(this.indexes_,(l,u)=>{const d=jr(this.indexSet_,u);if(j(d,"Missing index implementation for "+u),l===bi)if(d.isDefinedOn(t.node)){const h=[],p=r.getIterator(ne.Wrap);let g=p.getNext();for(;g;)g.name!==t.name&&h.push(g),g=p.getNext();return h.push(t),zo(h,d.getCompare())}else return bi;else{const h=r.get(t.name);let p=l;return h&&(p=p.remove(new ne(t.name,h))),p.insert(t,t.node)}});return new sn(o,this.indexSet_)}removeFromIndexes(t,r){const o=Oo(this.indexes_,l=>{if(l===bi)return l;{const u=r.get(t.name);return u?l.remove(new ne(t.name,u)):l}});return new sn(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ji;class X{static get EMPTY_NODE(){return ji||(ji=new X(new ft(Yu),null,sn.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&wm(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ji}updatePriority(t){return this.children_.isEmpty()?this:new X(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?ji:r}}getChild(t){const r=oe(t);return r===null?this:this.getImmediateChild(r).getChild(ve(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(j(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new ne(t,r);let l,u;r.isEmpty()?(l=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(t,r),u=this.indexMap_.addToIndexes(o,this.children_));const d=l.isEmpty()?ji:this.priorityNode_;return new X(l,d,u)}}updateChild(t,r){const o=oe(t);if(o===null)return r;{j(oe(t)!==".priority"||Fn(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(ve(t),r);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,l=0,u=!0;if(this.forEachChild(Le,(d,h)=>{r[d]=h.val(t),o++,u&&X.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):u=!1}),!t&&u&&l<2*o){const d=[];for(const h in r)d[h]=r[h];return d}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+vm(this.getPriority().val())+":"),this.forEachChild(Le,(r,o)=>{const l=o.hash();l!==""&&(t+=":"+r+":"+l)}),this.lazyHash_=t===""?"":Vp(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const l=this.resolveIndex_(o);if(l){const u=l.getPredecessorKey(new ne(t,r));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ne(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ne(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,ne.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,t)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,ne.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,t)>0;)l.getNext(),u=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===as?-1:0}withIndex(t){if(t===br||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new X(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===br||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Le),l=r.getIterator(Le);let u=o.getNext(),d=l.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=o.getNext(),d=l.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===br?null:this.indexMap_.get(t.toString())}}X.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class m0 extends X{constructor(){super(new ft(Yu),X.EMPTY_NODE,sn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return X.EMPTY_NODE}isEmpty(){return!1}}const as=new m0;Object.defineProperties(ne,{MIN:{value:new ne(zr,X.EMPTY_NODE)},MAX:{value:new ne(ir,as)}});ym.__EMPTY_NODE=X.EMPTY_NODE;Ge.__childrenNodeConstructor=X;u0(as);d0(as);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=!0;function Ke(i,t=null){if(i===null)return X.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),j(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Ge(r,Ke(t))}if(!(i instanceof Array)&&g0){const r=[];let o=!1;if(pt(i,(d,h)=>{if(d.substring(0,1)!=="."){const p=Ke(h);p.isEmpty()||(o=o||!p.getPriority().isEmpty(),r.push(new ne(d,p)))}}),r.length===0)return X.EMPTY_NODE;const u=zo(r,a0,d=>d.name,Yu);if(o){const d=zo(r,Le.getCompare());return new X(u,Ke(t),new sn({".priority":d},{".priority":Le}))}else return new X(u,Ke(t),sn.Default)}else{let r=X.EMPTY_NODE;return pt(i,(o,l)=>{if(cn(i,o)&&o.substring(0,1)!=="."){const u=Ke(l);(u.isLeafNode()||!u.isEmpty())&&(r=r.updateImmediateChild(o,u))}}),r.updatePriority(Ke(t))}}c0(Ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends Jo{constructor(t){super(),this.indexPath_=t,j(!se(t)&&oe(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),l=this.extractChild(r.node),u=o.compareTo(l);return u===0?Hr(t.name,r.name):u}makePost(t,r){const o=Ke(t),l=X.EMPTY_NODE.updateChild(this.indexPath_,o);return new ne(r,l)}maxPost(){const t=X.EMPTY_NODE.updateChild(this.indexPath_,as);return new ne(ir,t)}toString(){return pm(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends Jo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?Hr(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(t,r){const o=Ke(t);return new ne(r,o)}toString(){return".value"}}const v0=new y0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(i){return{type:"value",snapshotNode:i}}function Ur(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Xi(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Ji(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function w0(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(t){this.index_=t}updateChild(t,r,o,l,u,d){j(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(r);return h.getChild(l).equals(o.getChild(l))&&h.isEmpty()===o.isEmpty()||(d!=null&&(o.isEmpty()?t.hasChild(r)?d.trackChildChange(Xi(r,h)):j(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(Ur(r,o)):d.trackChildChange(Ji(r,o,h))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Le,(l,u)=>{r.hasChild(l)||o.trackChildChange(Xi(l,u))}),r.isLeafNode()||r.forEachChild(Le,(l,u)=>{if(t.hasChild(l)){const d=t.getImmediateChild(l);d.equals(u)||o.trackChildChange(Ji(l,u,d))}else o.trackChildChange(Ur(l,u))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?X.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t){this.indexedFilter_=new qu(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Zi.getStartPost_(t),this.endPost_=Zi.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,l,u,d){return this.matches(new ne(r,o))||(o=X.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,l,u,d)}updateFullNode(t,r,o){r.isLeafNode()&&(r=X.EMPTY_NODE);let l=r.withIndex(this.index_);l=l.updatePriority(X.EMPTY_NODE);const u=this;return r.forEachChild(Le,(d,h)=>{u.matches(new ne(d,h))||(l=l.updateImmediateChild(d,X.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Zi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,l,u,d){return this.rangedFilter_.matches(new ne(r,o))||(o=X.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,l,u,d):this.fullLimitUpdateChild_(t,r,o,u,d)}updateFullNode(t,r,o){let l;if(r.isLeafNode()||r.isEmpty())l=X.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){l=X.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{l=r.withIndex(this.index_),l=l.updatePriority(X.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let d=0;for(;u.hasNext();){const h=u.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:l=l.updateImmediateChild(h.name,X.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,l,u){let d;if(this.reverse_){const y=this.index_.getCompare();d=(v,T)=>y(T,v)}else d=this.index_.getCompare();const h=t;j(h.numChildren()===this.limit_,"");const p=new ne(r,o),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),w=this.rangedFilter_.matches(p);if(h.hasChild(r)){const y=h.getImmediateChild(r);let v=l.getChildAfterChild(this.index_,g,this.reverse_);for(;v!=null&&(v.name===r||h.hasChild(v.name));)v=l.getChildAfterChild(this.index_,v,this.reverse_);const T=v==null?1:d(v,p);if(w&&!o.isEmpty()&&T>=0)return u!=null&&u.trackChildChange(Ji(r,o,y)),h.updateImmediateChild(r,o);{u!=null&&u.trackChildChange(Xi(r,y));const D=h.updateImmediateChild(r,X.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange(Ur(v.name,v.node)),D.updateImmediateChild(v.name,v.node)):D}}else return o.isEmpty()?t:w&&d(g,p)>=0?(u!=null&&(u.trackChildChange(Xi(g.name,g.node)),u.trackChildChange(Ur(r,o))),h.updateImmediateChild(r,o).updateImmediateChild(g.name,X.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zr}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ir}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Le}copy(){const t=new Xu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function C0(i){return i.loadsAllData()?new qu(i.getIndex()):i.hasLimit()?new E0(i):new Zi(i)}function rp(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Le?r="$priority":i.index_===v0?r="$value":i.index_===br?r="$key":(j(i.index_ instanceof _0,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Ue(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Ue(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Ue(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Ue(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Ue(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function ip(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Le&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends dm{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(j(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=ls("p:rest:"),this.listens_={}}listen(t,r,o,l){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const d=Uo.getListenId_(t,o),h={};this.listens_[d]=h;const p=rp(t._queryParams);this.restRequest_(u+".json",p,(g,w)=>{let y=w;if(g===404&&(y=null,g=null),g===null&&this.onDataUpdate_(u,y,!1,o),jr(this.listens_,d)===h){let v;g?g===401?v="permission_denied":v="rest_error:"+g:v="ok",l(v,null)}})}unlisten(t,r){const o=Uo.getListenId_(t,r);delete this.listens_[o]}get(t){const r=rp(t._queryParams),o=t._path.toString(),l=new qo;return this.restRequest_(o+".json",r,(u,d)=>{let h=d;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(o,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(r.auth=l.accessToken),u&&u.token&&(r.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Xy(r);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(o&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=Qi(h.responseText)}catch{ht("Failed to parse JSON response for "+d+": "+h.responseText)}o(null,p)}else h.status!==401&&h.status!==404&&ht("Got unsuccessful REST response for "+d+" Status: "+h.status),o(h.status);o=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.rootNode_=X.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(){return{value:null,children:new Map}}function xm(i,t,r){if(se(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=oe(t);i.children.has(o)||i.children.set(o,Bo());const l=i.children.get(o);t=ve(t),xm(l,t,r)}}function Pu(i,t,r){i.value!==null?r(t,i.value):x0(i,(o,l)=>{const u=new pe(t.toString()+"/"+o);Pu(l,u,r)})}function x0(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&pt(this.last_,(o,l)=>{r[o]=r[o]-l}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=10*1e3,I0=30*1e3,N0=5*60*1e3;class T0{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new k0(t);const o=sp+(I0-sp)*Math.random();$i(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;pt(t,(l,u)=>{u>0&&cn(this.statsToReport_,l)&&(r[l]=u,o=!0)}),o&&this.server_.reportStats(r),$i(this.reportStats_.bind(this),Math.floor(Math.random()*2*N0))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ft||(Ft={}));function km(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ju(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Zu(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=Ft.ACK_USER_WRITE,this.source=km()}operationForChild(t){if(se(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new pe(t));return new Wo(de(),r,this.revert)}}else return j(oe(this.path)===t,"operationForChild called for unrelated child."),new Wo(ve(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,r){this.source=t,this.path=r,this.type=Ft.LISTEN_COMPLETE}operationForChild(t){return se(this.path)?new es(this.source,de()):new es(this.source,ve(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=Ft.OVERWRITE}operationForChild(t){return se(this.path)?new sr(this.source,de(),this.snap.getImmediateChild(t)):new sr(this.source,ve(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=Ft.MERGE}operationForChild(t){if(se(this.path)){const r=this.children.subtree(new pe(t));return r.isEmpty()?null:r.value?new sr(this.source,de(),r.value):new ts(this.source,de(),r)}else return j(oe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ts(this.source,ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(se(t))return this.isFullyInitialized()&&!this.filtered_;const r=oe(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function P0(i,t,r,o){const l=[],u=[];return t.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(w0(d.childName,d.snapshotNode))}),zi(i,l,"child_removed",t,o,r),zi(i,l,"child_added",t,o,r),zi(i,l,"child_moved",u,o,r),zi(i,l,"child_changed",t,o,r),zi(i,l,"value",t,o,r),l}function zi(i,t,r,o,l,u){const d=o.filter(h=>h.type===r);d.sort((h,p)=>A0(i,h,p)),d.forEach(h=>{const p=D0(i,h,u);l.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(p,i.query_))})})}function D0(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function A0(i,t,r){if(t.childName==null||r.childName==null)throw $r("Should only compare child_ events.");const o=new ne(t.childName,t.snapshotNode),l=new ne(r.childName,r.snapshotNode);return i.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(i,t){return{eventCache:i,serverCache:t}}function Hi(i,t,r,o){return Zo(new bn(t,r,o),i.serverCache)}function Im(i,t,r,o){return Zo(i.eventCache,new bn(t,r,o))}function $o(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function or(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu;const L0=()=>(mu||(mu=new ft(yw)),mu);class Ce{static fromObject(t){let r=new Ce(null);return pt(t,(o,l)=>{r=r.set(new pe(o),l)}),r}constructor(t,r=L0()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:de(),value:this.value};if(se(t))return null;{const o=oe(t),l=this.children.get(o);if(l!==null){const u=l.findRootMostMatchingPathAndValue(ve(t),r);return u!=null?{path:Be(new pe(o),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(se(t))return this;{const r=oe(t),o=this.children.get(r);return o!==null?o.subtree(ve(t)):new Ce(null)}}set(t,r){if(se(t))return new Ce(r,this.children);{const o=oe(t),u=(this.children.get(o)||new Ce(null)).set(ve(t),r),d=this.children.insert(o,u);return new Ce(this.value,d)}}remove(t){if(se(t))return this.children.isEmpty()?new Ce(null):new Ce(null,this.children);{const r=oe(t),o=this.children.get(r);if(o){const l=o.remove(ve(t));let u;return l.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,l),this.value===null&&u.isEmpty()?new Ce(null):new Ce(this.value,u)}else return this}}get(t){if(se(t))return this.value;{const r=oe(t),o=this.children.get(r);return o?o.get(ve(t)):null}}setTree(t,r){if(se(t))return r;{const o=oe(t),u=(this.children.get(o)||new Ce(null)).setTree(ve(t),r);let d;return u.isEmpty()?d=this.children.remove(o):d=this.children.insert(o,u),new Ce(this.value,d)}}fold(t){return this.fold_(de(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((l,u)=>{o[l]=u.fold_(Be(t,l),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,de(),r)}findOnPath_(t,r,o){const l=this.value?o(r,this.value):!1;if(l)return l;if(se(t))return null;{const u=oe(t),d=this.children.get(u);return d?d.findOnPath_(ve(t),Be(r,u),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,de(),r)}foreachOnPath_(t,r,o){if(se(t))return this;{this.value&&o(r,this.value);const l=oe(t),u=this.children.get(l);return u?u.foreachOnPath_(ve(t),Be(r,l),o):new Ce(null)}}foreach(t){this.foreach_(de(),t)}foreach_(t,r){this.children.inorderTraversal((o,l)=>{l.foreach_(Be(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.writeTree_=t}static empty(){return new bt(new Ce(null))}}function Vi(i,t,r){if(se(t))return new bt(new Ce(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const l=o.path;let u=o.value;const d=it(l,t);return u=u.updateChild(d,r),new bt(i.writeTree_.set(l,u))}else{const l=new Ce(r),u=i.writeTree_.setTree(t,l);return new bt(u)}}}function op(i,t,r){let o=i;return pt(r,(l,u)=>{o=Vi(o,Be(t,l),u)}),o}function lp(i,t){if(se(t))return bt.empty();{const r=i.writeTree_.setTree(t,new Ce(null));return new bt(r)}}function Du(i,t){return ar(i,t)!=null}function ar(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(it(r.path,t)):null}function ap(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Le,(o,l)=>{t.push(new ne(o,l))}):i.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&t.push(new ne(o,l.value))}),t}function On(i,t){if(se(t))return i;{const r=ar(i,t);return r!=null?new bt(new Ce(r)):new bt(i.writeTree_.subtree(t))}}function Au(i){return i.writeTree_.isEmpty()}function Br(i,t){return Nm(de(),i.writeTree_,t)}function Nm(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((l,u)=>{l===".priority"?(j(u.value!==null,"Priority writes must always be leaf nodes"),o=u.value):r=Nm(Be(i,l),u,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Be(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(i,t){return Dm(t,i)}function O0(i,t,r,o,l){j(o>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:l}),l&&(i.visibleWrites=Vi(i.visibleWrites,t,r)),i.lastWriteId=o}function M0(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function F0(i,t){const r=i.allWrites.findIndex(h=>h.writeId===t);j(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let l=o.visible,u=!1,d=i.allWrites.length-1;for(;l&&d>=0;){const h=i.allWrites[d];h.visible&&(d>=r&&b0(h,o.path)?l=!1:Mt(o.path,h.path)&&(u=!0)),d--}if(l){if(u)return j0(i),!0;if(o.snap)i.visibleWrites=lp(i.visibleWrites,o.path);else{const h=o.children;pt(h,p=>{i.visibleWrites=lp(i.visibleWrites,Be(o.path,p))})}return!0}else return!1}function b0(i,t){if(i.snap)return Mt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Mt(Be(i.path,r),t))return!0;return!1}function j0(i){i.visibleWrites=Tm(i.allWrites,z0,de()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function z0(i){return i.visible}function Tm(i,t,r){let o=bt.empty();for(let l=0;l<i.length;++l){const u=i[l];if(t(u)){const d=u.path;let h;if(u.snap)Mt(r,d)?(h=it(r,d),o=Vi(o,h,u.snap)):Mt(d,r)&&(h=it(d,r),o=Vi(o,de(),u.snap.getChild(h)));else if(u.children){if(Mt(r,d))h=it(r,d),o=op(o,h,u.children);else if(Mt(d,r))if(h=it(d,r),se(h))o=op(o,de(),u.children);else{const p=jr(u.children,oe(h));if(p){const g=p.getChild(ve(h));o=Vi(o,de(),g)}}}else throw $r("WriteRecord should have .snap or .children")}}return o}function Rm(i,t,r,o,l){if(!o&&!l){const u=ar(i.visibleWrites,t);if(u!=null)return u;{const d=On(i.visibleWrites,t);if(Au(d))return r;if(r==null&&!Du(d,de()))return null;{const h=r||X.EMPTY_NODE;return Br(d,h)}}}else{const u=On(i.visibleWrites,t);if(!l&&Au(u))return r;if(!l&&r==null&&!Du(u,de()))return null;{const d=function(g){return(g.visible||l)&&(!o||!~o.indexOf(g.writeId))&&(Mt(g.path,t)||Mt(t,g.path))},h=Tm(i.allWrites,d,t),p=r||X.EMPTY_NODE;return Br(h,p)}}}function U0(i,t,r){let o=X.EMPTY_NODE;const l=ar(i.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Le,(u,d)=>{o=o.updateImmediateChild(u,d)}),o;if(r){const u=On(i.visibleWrites,t);return r.forEachChild(Le,(d,h)=>{const p=Br(On(u,new pe(d)),h);o=o.updateImmediateChild(d,p)}),ap(u).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}else{const u=On(i.visibleWrites,t);return ap(u).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}}function B0(i,t,r,o,l){j(o||l,"Either existingEventSnap or existingServerSnap must exist");const u=Be(t,r);if(Du(i.visibleWrites,u))return null;{const d=On(i.visibleWrites,u);return Au(d)?l.getChild(r):Br(d,l.getChild(r))}}function W0(i,t,r,o){const l=Be(t,r),u=ar(i.visibleWrites,l);if(u!=null)return u;if(o.isCompleteForChild(r)){const d=On(i.visibleWrites,l);return Br(d,o.getNode().getImmediateChild(r))}else return null}function $0(i,t){return ar(i.visibleWrites,t)}function H0(i,t,r,o,l,u,d){let h;const p=On(i.visibleWrites,t),g=ar(p,de());if(g!=null)h=g;else if(r!=null)h=Br(p,r);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const w=[],y=d.getCompare(),v=u?h.getReverseIteratorFrom(o,d):h.getIteratorFrom(o,d);let T=v.getNext();for(;T&&w.length<l;)y(T,o)!==0&&w.push(T),T=v.getNext();return w}else return[]}function V0(){return{visibleWrites:bt.empty(),allWrites:[],lastWriteId:-1}}function Ho(i,t,r,o){return Rm(i.writeTree,i.treePath,t,r,o)}function ec(i,t){return U0(i.writeTree,i.treePath,t)}function up(i,t,r,o){return B0(i.writeTree,i.treePath,t,r,o)}function Vo(i,t){return $0(i.writeTree,Be(i.treePath,t))}function G0(i,t,r,o,l,u){return H0(i.writeTree,i.treePath,t,r,o,l,u)}function tc(i,t,r){return W0(i.writeTree,i.treePath,t,r)}function Pm(i,t){return Dm(Be(i.treePath,t),i.writeTree)}function Dm(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;j(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),j(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const u=l.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(o,Ji(o,t.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(o,Xi(o,l.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(o,Ur(o,t.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(o,Ji(o,t.snapshotNode,l.oldSnap));else throw $r("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const Am=new K0;class nc{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new bn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tc(this.writes_,t,o)}}getChildAfterChild(t,r,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:or(this.viewCache_),u=G0(this.writes_,l,r,1,o,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(i){return{filter:i}}function q0(i,t){j(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),j(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function X0(i,t,r,o,l){const u=new Q0;let d,h;if(r.type===Ft.OVERWRITE){const g=r;g.source.fromUser?d=Lu(i,t,g.path,g.snap,o,l,u):(j(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!se(g.path),d=Go(i,t,g.path,g.snap,o,l,h,u))}else if(r.type===Ft.MERGE){const g=r;g.source.fromUser?d=Z0(i,t,g.path,g.children,o,l,u):(j(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),d=Ou(i,t,g.path,g.children,o,l,h,u))}else if(r.type===Ft.ACK_USER_WRITE){const g=r;g.revert?d=nE(i,t,g.path,o,l,u):d=eE(i,t,g.path,g.affectedTree,o,l,u)}else if(r.type===Ft.LISTEN_COMPLETE)d=tE(i,t,r.path,o,u);else throw $r("Unknown operation type: "+r.type);const p=u.getChanges();return J0(t,d,p),{viewCache:d,changes:p}}function J0(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),u=$o(i);(r.length>0||!i.eventCache.isFullyInitialized()||l&&!o.getNode().equals(u)||!o.getNode().getPriority().equals(u.getPriority()))&&r.push(Sm($o(t)))}}function Lm(i,t,r,o,l,u){const d=t.eventCache;if(Vo(o,r)!=null)return t;{let h,p;if(se(r))if(j(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=or(t),w=g instanceof X?g:X.EMPTY_NODE,y=ec(o,w);h=i.filter.updateFullNode(t.eventCache.getNode(),y,u)}else{const g=Ho(o,or(t));h=i.filter.updateFullNode(t.eventCache.getNode(),g,u)}else{const g=oe(r);if(g===".priority"){j(Fn(r)===1,"Can't have a priority with additional path components");const w=d.getNode();p=t.serverCache.getNode();const y=up(o,r,w,p);y!=null?h=i.filter.updatePriority(w,y):h=d.getNode()}else{const w=ve(r);let y;if(d.isCompleteForChild(g)){p=t.serverCache.getNode();const v=up(o,r,d.getNode(),p);v!=null?y=d.getNode().getImmediateChild(g).updateChild(w,v):y=d.getNode().getImmediateChild(g)}else y=tc(o,g,t.serverCache);y!=null?h=i.filter.updateChild(d.getNode(),g,y,w,l,u):h=d.getNode()}}return Hi(t,h,d.isFullyInitialized()||se(r),i.filter.filtersNodes())}}function Go(i,t,r,o,l,u,d,h){const p=t.serverCache;let g;const w=d?i.filter:i.filter.getIndexedFilter();if(se(r))g=w.updateFullNode(p.getNode(),o,null);else if(w.filtersNodes()&&!p.isFiltered()){const T=p.getNode().updateChild(r,o);g=w.updateFullNode(p.getNode(),T,null)}else{const T=oe(r);if(!p.isCompleteForPath(r)&&Fn(r)>1)return t;const N=ve(r),M=p.getNode().getImmediateChild(T).updateChild(N,o);T===".priority"?g=w.updatePriority(p.getNode(),M):g=w.updateChild(p.getNode(),T,M,N,Am,null)}const y=Im(t,g,p.isFullyInitialized()||se(r),w.filtersNodes()),v=new nc(l,y,u);return Lm(i,y,r,l,v,h)}function Lu(i,t,r,o,l,u,d){const h=t.eventCache;let p,g;const w=new nc(l,t,u);if(se(r))g=i.filter.updateFullNode(t.eventCache.getNode(),o,d),p=Hi(t,g,!0,i.filter.filtersNodes());else{const y=oe(r);if(y===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),o),p=Hi(t,g,h.isFullyInitialized(),h.isFiltered());else{const v=ve(r),T=h.getNode().getImmediateChild(y);let N;if(se(v))N=o;else{const D=w.getCompleteChild(y);D!=null?hm(v)===".priority"&&D.getChild(mm(v)).isEmpty()?N=D:N=D.updateChild(v,o):N=X.EMPTY_NODE}if(T.equals(N))p=t;else{const D=i.filter.updateChild(h.getNode(),y,N,v,w,d);p=Hi(t,D,h.isFullyInitialized(),i.filter.filtersNodes())}}}return p}function cp(i,t){return i.eventCache.isCompleteForChild(t)}function Z0(i,t,r,o,l,u,d){let h=t;return o.foreach((p,g)=>{const w=Be(r,p);cp(t,oe(w))&&(h=Lu(i,h,w,g,l,u,d))}),o.foreach((p,g)=>{const w=Be(r,p);cp(t,oe(w))||(h=Lu(i,h,w,g,l,u,d))}),h}function dp(i,t,r){return r.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function Ou(i,t,r,o,l,u,d,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,g;se(r)?g=o:g=new Ce(null).setTree(r,o);const w=t.serverCache.getNode();return g.children.inorderTraversal((y,v)=>{if(w.hasChild(y)){const T=t.serverCache.getNode().getImmediateChild(y),N=dp(i,T,v);p=Go(i,p,new pe(y),N,l,u,d,h)}}),g.children.inorderTraversal((y,v)=>{const T=!t.serverCache.isCompleteForChild(y)&&v.value===null;if(!w.hasChild(y)&&!T){const N=t.serverCache.getNode().getImmediateChild(y),D=dp(i,N,v);p=Go(i,p,new pe(y),D,l,u,d,h)}}),p}function eE(i,t,r,o,l,u,d){if(Vo(l,r)!=null)return t;const h=t.serverCache.isFiltered(),p=t.serverCache;if(o.value!=null){if(se(r)&&p.isFullyInitialized()||p.isCompleteForPath(r))return Go(i,t,r,p.getNode().getChild(r),l,u,h,d);if(se(r)){let g=new Ce(null);return p.getNode().forEachChild(br,(w,y)=>{g=g.set(new pe(w),y)}),Ou(i,t,r,g,l,u,h,d)}else return t}else{let g=new Ce(null);return o.foreach((w,y)=>{const v=Be(r,w);p.isCompleteForPath(v)&&(g=g.set(w,p.getNode().getChild(v)))}),Ou(i,t,r,g,l,u,h,d)}}function tE(i,t,r,o,l){const u=t.serverCache,d=Im(t,u.getNode(),u.isFullyInitialized()||se(r),u.isFiltered());return Lm(i,d,r,o,Am,l)}function nE(i,t,r,o,l,u){let d;if(Vo(o,r)!=null)return t;{const h=new nc(o,t,l),p=t.eventCache.getNode();let g;if(se(r)||oe(r)===".priority"){let w;if(t.serverCache.isFullyInitialized())w=Ho(o,or(t));else{const y=t.serverCache.getNode();j(y instanceof X,"serverChildren would be complete if leaf node"),w=ec(o,y)}w=w,g=i.filter.updateFullNode(p,w,u)}else{const w=oe(r);let y=tc(o,w,t.serverCache);y==null&&t.serverCache.isCompleteForChild(w)&&(y=p.getImmediateChild(w)),y!=null?g=i.filter.updateChild(p,w,y,ve(r),h,u):t.eventCache.getNode().hasChild(w)?g=i.filter.updateChild(p,w,X.EMPTY_NODE,ve(r),h,u):g=p,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Ho(o,or(t)),d.isLeafNode()&&(g=i.filter.updateFullNode(g,d,u)))}return d=t.serverCache.isFullyInitialized()||Vo(o,de())!=null,Hi(t,g,d,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new qu(o.getIndex()),u=C0(o);this.processor_=Y0(u);const d=r.serverCache,h=r.eventCache,p=l.updateFullNode(X.EMPTY_NODE,d.getNode(),null),g=u.updateFullNode(X.EMPTY_NODE,h.getNode(),null),w=new bn(p,d.isFullyInitialized(),l.filtersNodes()),y=new bn(g,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Zo(y,w),this.eventGenerator_=new R0(this.query_)}get query(){return this.query_}}function iE(i){return i.viewCache_.serverCache.getNode()}function sE(i){return $o(i.viewCache_)}function oE(i,t){const r=or(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!se(t)&&!r.getImmediateChild(oe(t)).isEmpty())?r.getChild(t):null}function fp(i){return i.eventRegistrations_.length===0}function lE(i,t){i.eventRegistrations_.push(t)}function hp(i,t,r){const o=[];if(r){j(t==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(r,l);d&&o.push(d)})}if(t){let l=[];for(let u=0;u<i.eventRegistrations_.length;++u){const d=i.eventRegistrations_[u];if(!d.matches(t))l.push(d);else if(t.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return o}function pp(i,t,r,o){t.type===Ft.MERGE&&t.source.queryId!==null&&(j(or(i.viewCache_),"We should always have a full cache before handling merges"),j($o(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,u=X0(i.processor_,l,t,r,o);return q0(i.processor_,u.viewCache),j(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,Om(i,u.changes,u.viewCache.eventCache.getNode(),null)}function aE(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Le,(u,d)=>{o.push(Ur(u,d))}),r.isFullyInitialized()&&o.push(Sm(r.getNode())),Om(i,o,r.getNode(),t)}function Om(i,t,r,o){const l=o?[o]:i.eventRegistrations_;return P0(i.eventGenerator_,t,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo;class Mm{constructor(){this.views=new Map}}function uE(i){j(!Qo,"__referenceConstructor has already been defined"),Qo=i}function cE(){return j(Qo,"Reference.ts has not been loaded"),Qo}function dE(i){return i.views.size===0}function rc(i,t,r,o){const l=t.source.queryId;if(l!==null){const u=i.views.get(l);return j(u!=null,"SyncTree gave us an op for an invalid query."),pp(u,t,r,o)}else{let u=[];for(const d of i.views.values())u=u.concat(pp(d,t,r,o));return u}}function Fm(i,t,r,o,l){const u=t._queryIdentifier,d=i.views.get(u);if(!d){let h=Ho(r,l?o:null),p=!1;h?p=!0:o instanceof X?(h=ec(r,o),p=!1):(h=X.EMPTY_NODE,p=!1);const g=Zo(new bn(h,p,!1),new bn(o,l,!1));return new rE(t,g)}return d}function fE(i,t,r,o,l,u){const d=Fm(i,t,o,l,u);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,d),lE(d,r),aE(d,r)}function hE(i,t,r,o){const l=t._queryIdentifier,u=[];let d=[];const h=jn(i);if(l==="default")for(const[p,g]of i.views.entries())d=d.concat(hp(g,r,o)),fp(g)&&(i.views.delete(p),g.query._queryParams.loadsAllData()||u.push(g.query));else{const p=i.views.get(l);p&&(d=d.concat(hp(p,r,o)),fp(p)&&(i.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!jn(i)&&u.push(new(cE())(t._repo,t._path)),{removed:u,events:d}}function bm(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Mn(i,t){let r=null;for(const o of i.views.values())r=r||oE(o,t);return r}function jm(i,t){if(t._queryParams.loadsAllData())return tl(i);{const o=t._queryIdentifier;return i.views.get(o)}}function zm(i,t){return jm(i,t)!=null}function jn(i){return tl(i)!=null}function tl(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko;function pE(i){j(!Ko,"__referenceConstructor has already been defined"),Ko=i}function mE(){return j(Ko,"Reference.ts has not been loaded"),Ko}let gE=1;class mp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ce(null),this.pendingWriteTree_=V0(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Um(i,t,r,o,l){return O0(i.pendingWriteTree_,t,r,o,l),l?cs(i,new sr(km(),t,r)):[]}function rr(i,t,r=!1){const o=M0(i.pendingWriteTree_,t);if(F0(i.pendingWriteTree_,t)){let u=new Ce(null);return o.snap!=null?u=u.set(de(),!0):pt(o.children,d=>{u=u.set(new pe(d),!0)}),cs(i,new Wo(o.path,u,r))}else return[]}function us(i,t,r){return cs(i,new sr(Ju(),t,r))}function _E(i,t,r){const o=Ce.fromObject(r);return cs(i,new ts(Ju(),t,o))}function yE(i,t){return cs(i,new es(Ju(),t))}function vE(i,t,r){const o=sc(i,r);if(o){const l=oc(o),u=l.path,d=l.queryId,h=it(u,t),p=new es(Zu(d),h);return lc(i,u,p)}else return[]}function Bm(i,t,r,o,l=!1){const u=t._path,d=i.syncPointTree_.get(u);let h=[];if(d&&(t._queryIdentifier==="default"||zm(d,t))){const p=hE(d,t,r,o);dE(d)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const g=p.removed;if(h=p.events,!l){const w=g.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=i.syncPointTree_.findOnPath(u,(v,T)=>jn(T));if(w&&!y){const v=i.syncPointTree_.subtree(u);if(!v.isEmpty()){const T=SE(v);for(let N=0;N<T.length;++N){const D=T[N],M=D.query,z=Vm(i,D);i.listenProvider_.startListening(Gi(M),ns(i,M),z.hashFn,z.onComplete)}}}!y&&g.length>0&&!o&&(w?i.listenProvider_.stopListening(Gi(t),null):g.forEach(v=>{const T=i.queryToTagMap.get(nl(v));i.listenProvider_.stopListening(Gi(v),T)}))}xE(i,g)}return h}function Wm(i,t,r,o){const l=sc(i,o);if(l!=null){const u=oc(l),d=u.path,h=u.queryId,p=it(d,t),g=new sr(Zu(h),p,r);return lc(i,d,g)}else return[]}function wE(i,t,r,o){const l=sc(i,o);if(l){const u=oc(l),d=u.path,h=u.queryId,p=it(d,t),g=Ce.fromObject(r),w=new ts(Zu(h),p,g);return lc(i,d,w)}else return[]}function EE(i,t,r,o=!1){const l=t._path;let u=null,d=!1;i.syncPointTree_.foreachOnPath(l,(v,T)=>{const N=it(v,l);u=u||Mn(T,N),d=d||jn(T)});let h=i.syncPointTree_.get(l);h?(d=d||jn(h),u=u||Mn(h,de())):(h=new Mm,i.syncPointTree_=i.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=X.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((T,N)=>{const D=Mn(N,de());D&&(u=u.updateImmediateChild(T,D))}));const g=zm(h,t);if(!g&&!t._queryParams.loadsAllData()){const v=nl(t);j(!i.queryToTagMap.has(v),"View does not exist, but we have a tag");const T=kE();i.queryToTagMap.set(v,T),i.tagToQueryMap.set(T,v)}const w=el(i.pendingWriteTree_,l);let y=fE(h,t,r,w,u,p);if(!g&&!d&&!o){const v=jm(h,t);y=y.concat(IE(i,t,v))}return y}function ic(i,t,r){const l=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(t,(d,h)=>{const p=it(d,t),g=Mn(h,p);if(g)return g});return Rm(l,t,u,r,!0)}function CE(i,t){const r=t._path;let o=null;i.syncPointTree_.foreachOnPath(r,(g,w)=>{const y=it(g,r);o=o||Mn(w,y)});let l=i.syncPointTree_.get(r);l?o=o||Mn(l,de()):(l=new Mm,i.syncPointTree_=i.syncPointTree_.set(r,l));const u=o!=null,d=u?new bn(o,!0,!1):null,h=el(i.pendingWriteTree_,t._path),p=Fm(l,t,h,u?d.getNode():X.EMPTY_NODE,u);return sE(p)}function cs(i,t){return $m(t,i.syncPointTree_,null,el(i.pendingWriteTree_,de()))}function $m(i,t,r,o){if(se(i.path))return Hm(i,t,r,o);{const l=t.get(de());r==null&&l!=null&&(r=Mn(l,de()));let u=[];const d=oe(i.path),h=i.operationForChild(d),p=t.children.get(d);if(p&&h){const g=r?r.getImmediateChild(d):null,w=Pm(o,d);u=u.concat($m(h,p,g,w))}return l&&(u=u.concat(rc(l,i,o,r))),u}}function Hm(i,t,r,o){const l=t.get(de());r==null&&l!=null&&(r=Mn(l,de()));let u=[];return t.children.inorderTraversal((d,h)=>{const p=r?r.getImmediateChild(d):null,g=Pm(o,d),w=i.operationForChild(d);w&&(u=u.concat(Hm(w,h,p,g)))}),l&&(u=u.concat(rc(l,i,o,r))),u}function Vm(i,t){const r=t.query,o=ns(i,r);return{hashFn:()=>(iE(t)||X.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?vE(i,r._path,o):yE(i,r._path);{const u=Ew(l,r);return Bm(i,r,null,u)}}}}function ns(i,t){const r=nl(t);return i.queryToTagMap.get(r)}function nl(i){return i._path.toString()+"$"+i._queryIdentifier}function sc(i,t){return i.tagToQueryMap.get(t)}function oc(i){const t=i.indexOf("$");return j(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new pe(i.substr(0,t))}}function lc(i,t,r){const o=i.syncPointTree_.get(t);j(o,"Missing sync point for query tag that we're tracking");const l=el(i.pendingWriteTree_,t);return rc(o,r,l,null)}function SE(i){return i.fold((t,r,o)=>{if(r&&jn(r))return[tl(r)];{let l=[];return r&&(l=bm(r)),pt(o,(u,d)=>{l=l.concat(d)}),l}})}function Gi(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(mE())(i._repo,i._path):i}function xE(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const l=nl(o),u=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(u)}}}function kE(){return gE++}function IE(i,t,r){const o=t._path,l=ns(i,t),u=Vm(i,r),d=i.listenProvider_.startListening(Gi(t),l,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(o);if(l)j(!jn(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((g,w,y)=>{if(!se(g)&&w&&jn(w))return[tl(w).query];{let v=[];return w&&(v=v.concat(bm(w).map(T=>T.query))),pt(y,(T,N)=>{v=v.concat(N)}),v}});for(let g=0;g<p.length;++g){const w=p[g];i.listenProvider_.stopListening(Gi(w),ns(i,w))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new ac(r)}node(){return this.node_}}class uc{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Be(this.path_,t);return new uc(this.syncTree_,r)}node(){return ic(this.syncTree_,this.path_)}}const NE=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},gp=function(i,t,r){if(!i||typeof i!="object")return i;if(j(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return TE(i[".sv"],t,r);if(typeof i[".sv"]=="object")return RE(i[".sv"],t);j(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},TE=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:j(!1,"Unexpected server value: "+i)}},RE=function(i,t,r){i.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&j(!1,"Unexpected increment value: "+o);const l=t.node();if(j(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const d=l.getValue();return typeof d!="number"?o:d+o},PE=function(i,t,r,o){return cc(t,new uc(r,i),o)},Gm=function(i,t,r){return cc(i,new ac(t),r)};function cc(i,t,r){const o=i.getPriority().val(),l=gp(o,t.getImmediateChild(".priority"),r);let u;if(i.isLeafNode()){const d=i,h=gp(d.getValue(),t,r);return h!==d.getValue()||l!==d.getPriority().val()?new Ge(h,Ke(l)):i}else{const d=i;return u=d,l!==d.getPriority().val()&&(u=u.updatePriority(new Ge(l))),d.forEachChild(Le,(h,p)=>{const g=cc(p,t.getImmediateChild(h),r);g!==p&&(u=u.updateImmediateChild(h,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function fc(i,t){let r=t instanceof pe?t:new pe(t),o=i,l=oe(r);for(;l!==null;){const u=jr(o.node.children,l)||{children:{},childCount:0};o=new dc(l,o,u),r=ve(r),l=oe(r)}return o}function Gr(i){return i.node.value}function Qm(i,t){i.node.value=t,Mu(i)}function Km(i){return i.node.childCount>0}function DE(i){return Gr(i)===void 0&&!Km(i)}function rl(i,t){pt(i.node.children,(r,o)=>{t(new dc(r,i,o))})}function Ym(i,t,r,o){r&&t(i),rl(i,l=>{Ym(l,t,!0)})}function AE(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function ds(i){return new pe(i.parent===null?i.name:ds(i.parent)+"/"+i.name)}function Mu(i){i.parent!==null&&LE(i.parent,i.name,i)}function LE(i,t,r){const o=DE(r),l=cn(i.node.children,t);o&&l?(delete i.node.children[t],i.node.childCount--,Mu(i)):!o&&!l&&(i.node.children[t]=r.node,i.node.childCount++,Mu(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=/[\[\].#$\/\u0000-\u001F\u007F]/,ME=/[\[\].#$\u0000-\u001F\u007F]/,gu=10*1024*1024,qm=function(i){return typeof i=="string"&&i.length!==0&&!OE.test(i)},Xm=function(i){return typeof i=="string"&&i.length!==0&&!ME.test(i)},FE=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Xm(i)},Jm=function(i,t,r,o){o&&t===void 0||hc(Wu(i,"value"),t,r)},hc=function(i,t,r){const o=r instanceof pe?new e0(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+tr(o));if(typeof t=="function")throw new Error(i+"contains a function "+tr(o)+" with contents = "+t.toString());if(Gp(t))throw new Error(i+"contains "+t.toString()+" "+tr(o));if(typeof t=="string"&&t.length>gu/3&&Xo(t)>gu)throw new Error(i+"contains a string greater than "+gu+" utf8 bytes "+tr(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,u=!1;if(pt(t,(d,h)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!qm(d)))throw new Error(i+" contains an invalid key ("+d+") "+tr(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);t0(o,d),hc(i,h,o),n0(o)}),l&&u)throw new Error(i+' contains ".value" child '+tr(o)+" in addition to actual children.")}},Zm=function(i,t,r,o){if(!Xm(r))throw new Error(Wu(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},bE=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Zm(i,t,r)},eg=function(i,t){if(oe(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},jE=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!qm(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!FE(r))throw new Error(Wu(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tg(i,t){let r=null;for(let o=0;o<t.length;o++){const l=t[o],u=l.getPath();r!==null&&!gm(u,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(l)}r&&i.eventLists_.push(r)}function Qt(i,t,r){tg(i,r),UE(i,o=>Mt(o,t)||Mt(t,o))}function UE(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const l=i.eventLists_[o];if(l){const u=l.path;t(u)?(BE(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function BE(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Wi&&tt("event: "+r.toString()),Vr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="repo_interrupt",$E=25;class HE{constructor(t,r,o,l){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bo(),this.transactionQueueTree_=new dc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VE(i,t,r){if(i.stats_=Gu(i.repoInfo_),i.forceRestClient_||kw())i.server_=new Uo(i.repoInfo_,(o,l,u,d)=>{_p(i,o,l,u,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>yp(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ue(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new on(i.repoInfo_,t,(o,l,u,d)=>{_p(i,o,l,u,d)},o=>{yp(i,o)},o=>{GE(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=Pw(i.repoInfo_,()=>new T0(i.stats_,i.server_)),i.infoData_=new S0,i.infoSyncTree_=new mp({startListening:(o,l,u,d)=>{let h=[];const p=i.infoData_.getNode(o._path);return p.isEmpty()||(h=us(i.infoSyncTree_,o._path,p),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),mc(i,"connected",!1),i.serverSyncTree_=new mp({startListening:(o,l,u,d)=>(i.server_.listen(o,u,l,(h,p)=>{const g=d(h,p);Qt(i.eventQueue_,o._path,g)}),[]),stopListening:(o,l)=>{i.server_.unlisten(o,l)}})}function ng(i){const r=i.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function pc(i){return NE({timestamp:ng(i)})}function _p(i,t,r,o,l){i.dataUpdateCount++;const u=new pe(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let d=[];if(l)if(o){const p=Oo(r,g=>Ke(g));d=wE(i.serverSyncTree_,u,p,l)}else{const p=Ke(r);d=Wm(i.serverSyncTree_,u,p,l)}else if(o){const p=Oo(r,g=>Ke(g));d=_E(i.serverSyncTree_,u,p)}else{const p=Ke(r);d=us(i.serverSyncTree_,u,p)}let h=u;d.length>0&&(h=sl(i,u)),Qt(i.eventQueue_,h,d)}function yp(i,t){mc(i,"connected",t),t===!1&&YE(i)}function GE(i,t){pt(t,(r,o)=>{mc(i,r,o)})}function mc(i,t,r){const o=new pe("/.info/"+t),l=Ke(r);i.infoData_.updateSnapshot(o,l);const u=us(i.infoSyncTree_,o,l);Qt(i.eventQueue_,o,u)}function rg(i){return i.nextWriteId_++}function QE(i,t,r){const o=CE(i.serverSyncTree_,t);return o!=null?Promise.resolve(o):i.server_.get(t).then(l=>{const u=Ke(l).withIndex(t._queryParams.getIndex());EE(i.serverSyncTree_,t,r,!0);let d;if(t._queryParams.loadsAllData())d=us(i.serverSyncTree_,t._path,u);else{const h=ns(i.serverSyncTree_,t);d=Wm(i.serverSyncTree_,t._path,u,h)}return Qt(i.eventQueue_,t._path,d),Bm(i.serverSyncTree_,t,r,null,!0),u},l=>(il(i,"get for query "+Ue(t)+" failed: "+l),Promise.reject(new Error(l))))}function KE(i,t,r,o,l){il(i,"set",{path:t.toString(),value:r,priority:o});const u=pc(i),d=Ke(r,o),h=ic(i.serverSyncTree_,t),p=Gm(d,h,u),g=rg(i),w=Um(i.serverSyncTree_,t,p,g,!0);tg(i.eventQueue_,w),i.server_.put(t.toString(),d.val(!0),(v,T)=>{const N=v==="ok";N||ht("set at "+t+" failed: "+v);const D=rr(i.serverSyncTree_,g,!N);Qt(i.eventQueue_,t,D),XE(i,l,v,T)});const y=ag(i,t);sl(i,y),Qt(i.eventQueue_,y,[])}function YE(i){il(i,"onDisconnectEvents");const t=pc(i),r=Bo();Pu(i.onDisconnect_,de(),(l,u)=>{const d=PE(l,u,i.serverSyncTree_,t);xm(r,l,d)});let o=[];Pu(r,de(),(l,u)=>{o=o.concat(us(i.serverSyncTree_,l,u));const d=ag(i,l);sl(i,d)}),i.onDisconnect_=Bo(),Qt(i.eventQueue_,de(),o)}function qE(i){i.persistentConnection_&&i.persistentConnection_.interrupt(WE)}function il(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),tt(r,...t)}function XE(i,t,r,o){t&&Vr(()=>{if(r==="ok")t(null);else{const l=(r||"error").toUpperCase();let u=l;o&&(u+=": "+o);const d=new Error(u);d.code=l,t(d)}})}function ig(i,t,r){return ic(i.serverSyncTree_,t,r)||X.EMPTY_NODE}function gc(i,t=i.transactionQueueTree_){if(t||ol(i,t),Gr(t)){const r=og(i,t);j(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&JE(i,ds(t),r)}else Km(t)&&rl(t,r=>{gc(i,r)})}function JE(i,t,r){const o=r.map(g=>g.currentWriteId),l=ig(i,t,o);let u=l;const d=l.hash();for(let g=0;g<r.length;g++){const w=r[g];j(w.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const y=it(t,w.path);u=u.updateChild(y,w.currentOutputSnapshotRaw)}const h=u.val(!0),p=t;i.server_.put(p.toString(),h,g=>{il(i,"transaction put response",{path:p.toString(),status:g});let w=[];if(g==="ok"){const y=[];for(let v=0;v<r.length;v++)r[v].status=2,w=w.concat(rr(i.serverSyncTree_,r[v].currentWriteId)),r[v].onComplete&&y.push(()=>r[v].onComplete(null,!0,r[v].currentOutputSnapshotResolved)),r[v].unwatcher();ol(i,fc(i.transactionQueueTree_,t)),gc(i,i.transactionQueueTree_),Qt(i.eventQueue_,t,w);for(let v=0;v<y.length;v++)Vr(y[v])}else{if(g==="datastale")for(let y=0;y<r.length;y++)r[y].status===3?r[y].status=4:r[y].status=0;else{ht("transaction at "+p.toString()+" failed: "+g);for(let y=0;y<r.length;y++)r[y].status=4,r[y].abortReason=g}sl(i,t)}},d)}function sl(i,t){const r=sg(i,t),o=ds(r),l=og(i,r);return ZE(i,l,o),o}function ZE(i,t,r){if(t.length===0)return;const o=[];let l=[];const d=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const p=t[h],g=it(r,p.path);let w=!1,y;if(j(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)w=!0,y=p.abortReason,l=l.concat(rr(i.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=$E)w=!0,y="maxretry",l=l.concat(rr(i.serverSyncTree_,p.currentWriteId,!0));else{const v=ig(i,p.path,d);p.currentInputSnapshot=v;const T=t[h].update(v.val());if(T!==void 0){hc("transaction failed: Data returned ",T,p.path);let N=Ke(T);typeof T=="object"&&T!=null&&cn(T,".priority")||(N=N.updatePriority(v.getPriority()));const M=p.currentWriteId,z=pc(i),U=Gm(N,v,z);p.currentOutputSnapshotRaw=N,p.currentOutputSnapshotResolved=U,p.currentWriteId=rg(i),d.splice(d.indexOf(M),1),l=l.concat(Um(i.serverSyncTree_,p.path,U,p.currentWriteId,p.applyLocally)),l=l.concat(rr(i.serverSyncTree_,M,!0))}else w=!0,y="nodata",l=l.concat(rr(i.serverSyncTree_,p.currentWriteId,!0))}Qt(i.eventQueue_,r,l),l=[],w&&(t[h].status=2,function(v){setTimeout(v,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?o.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):o.push(()=>t[h].onComplete(new Error(y),!1,null))))}ol(i,i.transactionQueueTree_);for(let h=0;h<o.length;h++)Vr(o[h]);gc(i,i.transactionQueueTree_)}function sg(i,t){let r,o=i.transactionQueueTree_;for(r=oe(t);r!==null&&Gr(o)===void 0;)o=fc(o,r),t=ve(t),r=oe(t);return o}function og(i,t){const r=[];return lg(i,t,r),r.sort((o,l)=>o.order-l.order),r}function lg(i,t,r){const o=Gr(t);if(o)for(let l=0;l<o.length;l++)r.push(o[l]);rl(t,l=>{lg(i,l,r)})}function ol(i,t){const r=Gr(t);if(r){let o=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[o]=r[l],o++);r.length=o,Qm(t,r.length>0?r:void 0)}rl(t,o=>{ol(i,o)})}function ag(i,t){const r=ds(sg(i,t)),o=fc(i.transactionQueueTree_,t);return AE(o,l=>{_u(i,l)}),_u(i,o),Ym(o,l=>{_u(i,l)}),r}function _u(i,t){const r=Gr(t);if(r){const o=[];let l=[],u=-1;for(let d=0;d<r.length;d++)r[d].status===3||(r[d].status===1?(j(u===d-1,"All SENT items should be at beginning of queue."),u=d,r[d].status=3,r[d].abortReason="set"):(j(r[d].status===0,"Unexpected transaction status in abort"),r[d].unwatcher(),l=l.concat(rr(i.serverSyncTree_,r[d].currentWriteId,!0)),r[d].onComplete&&o.push(r[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Qm(t,void 0):r.length=u+1,Qt(i.eventQueue_,ds(t),l);for(let d=0;d<o.length;d++)Vr(o[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let l=r[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function tC(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ht(`Invalid query segment '${r}' in query '${i}'`)}return t}const vp=function(i,t){const r=nC(i),o=r.namespace;r.domain==="firebase.com"&&un(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||gw();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new im(r.host,r.secure,o,l,t,"",o!==r.subdomain),path:new pe(r.pathString)}},nC=function(i){let t="",r="",o="",l="",u="",d=!0,h="https",p=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(h=i.substring(0,g-1),i=i.substring(g+2));let w=i.indexOf("/");w===-1&&(w=i.length);let y=i.indexOf("?");y===-1&&(y=i.length),t=i.substring(0,Math.min(w,y)),w<y&&(l=eC(i.substring(w,y)));const v=tC(i.substring(Math.min(i.length,y)));g=t.indexOf(":"),g>=0?(d=h==="https"||h==="wss",p=parseInt(t.substring(g+1),10)):g=t.length;const T=t.slice(0,g);if(T.toLowerCase()==="localhost")r="localhost";else if(T.split(".").length<=2)r=T;else{const N=t.indexOf(".");o=t.substring(0,N).toLowerCase(),r=t.substring(N+1),u=o}"ns"in v&&(u=v.ns)}return{host:t,port:p,domain:r,subdomain:o,secure:d,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",rC=function(){let i=0;const t=[];return function(r){const o=r===i;i=r;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=wp.charAt(r%64),r=Math.floor(r/64);j(r===0,"Cannot push at time == 0");let d=u.join("");if(o){for(l=11;l>=0&&t[l]===63;l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)d+=wp.charAt(t[l]);return j(d.length===20,"nextPushId: Length should be 20."),d}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t,r,o,l){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ue(this.snapshot.exportVal())}}class sC{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,r,o,l){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=l}get key(){return se(this._path)?null:hm(this._path)}get ref(){return new dn(this._repo,this._path)}get _queryIdentifier(){const t=ip(this._queryParams),r=Hu(t);return r==="{}"?"default":r}get _queryObject(){return ip(this._queryParams)}isEqual(t){if(t=lr(t),!(t instanceof _c))return!1;const r=this._repo===t._repo,o=gm(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return r&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+Zw(this._path)}}class dn extends _c{constructor(t,r){super(t,r,new Xu,!1)}get parent(){const t=mm(this._path);return t===null?null:new dn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class rs{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new pe(t),o=Wr(this.ref,t);return new rs(this._node.getChild(r),o,Le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>t(new rs(l,Wr(this.ref,o),Le)))}hasChild(t){const r=new pe(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ug(i,t){return i=lr(i),i._checkNotDeleted("ref"),t!==void 0?Wr(i._root,t):i._root}function Wr(i,t){return i=lr(i),oe(i._path)===null?bE("child","path",t):Zm("child","path",t),new dn(i._repo,Be(i._path,t))}function lC(i,t){i=lr(i),eg("push",i._path),Jm("push",t,i._path,!0);const r=ng(i._repo),o=rC(r),l=Wr(i,o),u=Wr(i,o);let d;return d=Promise.resolve(u),l.then=d.then.bind(d),l.catch=d.then.bind(d,void 0),l}function aC(i,t){i=lr(i),eg("set",i._path),Jm("set",t,i._path,!1);const r=new qo;return KE(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}function uC(i){i=lr(i);const t=new oC(()=>{}),r=new yc(t);return QE(i._repo,i,r).then(o=>new rs(o,new dn(i._repo,i._path),i._queryParams.getIndex()))}class yc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new iC("value",this,new rs(t.snapshotNode,new dn(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new sC(this,t,r):null}matches(t){return t instanceof yc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}uE(dn);pE(dn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="FIREBASE_DATABASE_EMULATOR_HOST",Fu={};let dC=!1;function fC(i,t,r,o){i.repoInfo_=new im(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function hC(i,t,r,o,l){let u=o||i.options.databaseURL;u===void 0&&(i.options.projectId||un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=vp(u,l),h=d.repoInfo,p;typeof process<"u"&&Uh&&(p=Uh[cC]),p?(u=`http://${p}?ns=${h.namespace}`,d=vp(u,l),h=d.repoInfo):d.repoInfo.secure;const g=new Nw(i.name,i.options,t);jE("Invalid Firebase Database URL",d),se(d.path)||un("Database URL must point to the root of a Firebase Database (not including a child path).");const w=mC(h,i,g,new Iw(i.name,r));return new gC(w,i)}function pC(i,t){const r=Fu[t];(!r||r[i.key]!==i)&&un(`Database ${t}(${i.repoInfo_}) has already been deleted.`),qE(i),delete r[i.key]}function mC(i,t,r,o){let l=Fu[t.name];l||(l={},Fu[t.name]=l);let u=l[i.toURLString()];return u&&un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new HE(i,dC,r,o),l[i.toURLString()]=u,u}class gC{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(VE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dn(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(pC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&un("Cannot call "+t+" on a deleted database.")}}function _C(i=ew(),t){const r=qv(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=zy("database");o&&yC(r,...o)}return r}function yC(i,t,r,o={}){i=lr(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&un("Cannot call useEmulator() after instance has already been initialized.");const l=i._repoInternal;let u;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Po(Po.OWNER);else if(o.mockUserToken){const d=typeof o.mockUserToken=="string"?o.mockUserToken:Uy(o.mockUserToken,i.app.options.projectId);u=new Po(d)}fC(l,t,r,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(i){cw(Zv),Fo(new Ki("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return hC(o,l,u,r)},"PUBLIC").setMultipleInstances(!0)),Mr(Bh,Wh,i),Mr(Bh,Wh,"esm2017")}on.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};on.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};vC();var wC="firebase",EC="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(wC,EC,"app");const CC={apiKey:"AIzaSyAKEAcA5YjJcDdjICBZQVfx81bdcNbzvP0",authDomain:"internetbillingsystem-9d4fe.firebaseapp.com",databaseURL:"https://internetbillingsystem-9d4fe-default-rtdb.firebaseio.com",projectId:"internetbillingsystem-9d4fe",storageBucket:"internetbillingsystem-9d4fe.firebasestorage.app",messagingSenderId:"203101832242",appId:"1:203101832242:web:09198a7b73cc3115c8682b",measurementId:"G-RC84E6QDEX"},SC=Up(CC),cg=_C(SC);function xC({userName:i,userIndex:t,userSpeed:r,userSender:o,userLocation:l,userAccount:u,userPassword:d,userContact:h,userIp:p,userFee:g}){return R.jsxs(R.Fragment,{children:[R.jsxs("strong",{className:"text-primary900 underline underline-offset-2 text-2xl",children:[t,".",i]}),R.jsxs("div",{className:"font-bold text-gray-500 flex mt-3",children:[R.jsx("p",{children:"سرعة الاشتراك :  "}),R.jsx("div",{children:r})]}),R.jsxs("div",{className:"font-bold text-gray-500 flex",children:[R.jsx("p",{children:" الفاتورة الشهرية :  "}),R.jsx("div",{children:g})]}),R.jsxs("div",{className:"font-bold text-gray-500 flex",children:[R.jsx("p",{children:"المرسل :  "}),R.jsx("div",{children:o})]}),R.jsxs("div",{className:"font-bold text-gray-500 flex",children:[R.jsx("p",{children:"الموقع :  "}),R.jsx("div",{children:l})]}),R.jsxs("div",{className:"font-bold text-gray-500 flex",children:[R.jsx("p",{children:"اسم المستخدم :  "}),R.jsx("div",{children:u})]}),R.jsxs("div",{className:"font-bold text-gray-500 flex",children:[R.jsx("p",{children:"كلمة المرور :  "}),R.jsx("div",{children:d})]}),R.jsxs("div",{className:"font-bold text-gray-500 flex",children:[R.jsx("p",{children:"للتصواصل :  "}),R.jsx("div",{children:h})]}),R.jsxs("div",{className:"font-bold text-gray-500 flex",children:[R.jsx("p",{children:"عنوان ip :  "}),R.jsx("div",{children:p})]})]})}const kC=()=>{const[i,t]=P.useState([]),[r,o]=P.useState(!0),[l,u]=P.useState(null);return P.useEffect(()=>{(async()=>{try{const h=ug(cg),p=await uC(Wr(h,"Subscribers"));if(p.exists()){const g=p.val(),w=Object.keys(g).map(y=>({id:y,...g[y]}));t(w)}else console.log("No data available")}catch(h){u("Error reading data: "+h.message)}finally{o(!1)}})()},[]),r?R.jsx("div",{className:"m-6",children:"Loading..."}):l?R.jsx("div",{className:"m-6",children:l}):R.jsx("div",{className:"p-4 overflow-y-auto h-screen scrollbar-hide",children:R.jsx("ul",{className:"flex flex-wrap gap-6",children:i.map((d,h)=>R.jsx("li",{className:"bg-gray-200 flex-1 min-w-[200px] max-w-[55%] p-6 rounded-2xl hover:shadow-hlw shadow-lw shadow-primary900 transition-all",children:R.jsx(xC,{userName:d.Name,userIndex:h+1,userSpeed:d.SubscriptionSpeed,userLocation:d.location,userSender:d.sender,userContact:d.Contact,userAccount:d.UserName,userPassword:d.Password,userIp:d.userIp,userFee:d.MonthlyFee})},d.SubscriberID))})})};function IC({isOpen:i,onClose:t,onSubmit:r}){if(!i)return null;const o=l=>{l.preventDefault();const u={Name:document.getElementById("name").value,Contact:document.getElementById("contactNumber").value,SubscriptionSpeed:document.getElementById("speed").value,MonthlyFee:document.getElementById("MonthlyFee").value,userIp:document.getElementById("userIp").value,UserName:document.getElementById("userName").value,Password:document.getElementById("password").value,location:document.getElementById("location").value,sender:document.getElementById("sender").value},d=ug(cg,"Subscribers"),h=lC(d);aC(h,u).then(()=>{console.log("Data added successfully!"),t()}).catch(p=>{console.error("Error adding data:",p)}),r(),t()};return R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:R.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-96 relative rtl",children:[R.jsx("button",{className:"absolute top-2 left-2 text-gray-500 hover:text-gray-800",onClick:t,children:"✕"}),R.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 text-right",children:"اضافة اشتراك جديد"}),R.jsxs("form",{onSubmit:o,children:[R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{htmlFor:"name",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:"الاسم"}),R.jsx("input",{tabIndex:1,type:"text",id:"name",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{htmlFor:"contactNumber",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:"رقم الاتصال"}),R.jsx("input",{tabIndex:2,type:"number",id:"contactNumber",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),R.jsxs("div",{className:"mb-4 flex gap-2",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"MonthlyFee",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:"الفاتورة الشهرية"}),R.jsx("input",{tabIndex:4,type:"number",id:"MonthlyFee",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"speed",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:"سرعة الاشتراك"}),R.jsx("input",{tabIndex:3,type:"number",id:"speed",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{htmlFor:"userIp",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:"User IP"}),R.jsx("input",{tabIndex:5,type:"text",id:"userIp",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{htmlFor:"userName",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:"اسم المستخدم"}),R.jsx("input",{tabIndex:6,type:"text",id:"userName",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{htmlFor:"password",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:"كلمة السر"}),R.jsx("input",{tabIndex:7,type:"password",id:"password",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),R.jsxs("div",{className:"mb-4 flex gap-2",children:[R.jsxs("div",{className:"",children:[R.jsx("label",{htmlFor:"location",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:"الموقع"}),R.jsx("input",{tabIndex:9,type:"text",id:"location",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]}),R.jsxs("div",{className:"",children:[R.jsx("label",{htmlFor:"sender",className:"mr-1 block text-sm font-medium text-gray-700 text-right",children:"المرسل"}),R.jsx("input",{tabIndex:8,type:"text",id:"sender",required:!0,className:"focus:outline-primary mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-right"})]})]}),R.jsxs("div",{className:"flex justify-start",children:[R.jsx("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600",children:"Save"}),R.jsx("button",{className:"ml-auto bg-red-500 text-white hover:text-white",onClick:t,children:"Close"})]})]})]})})}function NC(){const[i,t]=P.useState(!1),r=()=>t(!1),o=()=>t(!0),l=()=>{console.log("Form submitted!"),r()};return R.jsxs(R.Fragment,{children:[R.jsx(kC,{}),R.jsx("button",{onClick:o,className:"absolute bottom-3 right-5 p-2 bg-primary rounded-full border-solid border-4 border-indigo-600 hover:border-primary border-primary900 shadow-lw shadow-primary900 transition-all ",children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"28px",viewBox:"0 -960 960 960",width:"28px",fill:"#3D2500",className:"",children:R.jsx("path",{d:"M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"})})}),R.jsx(IC,{isOpen:i,onClose:r,onSubmit:l})]})}var Ui={},Ep;function TC(){if(Ep)return Ui;Ep=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.parse=d,Ui.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function d(v,T){const N=new u,D=v.length;if(D<2)return N;const M=(T==null?void 0:T.decode)||w;let z=0;do{const U=v.indexOf("=",z);if(U===-1)break;const Z=v.indexOf(";",z),re=Z===-1?D:Z;if(U>re){z=v.lastIndexOf(";",U-1)+1;continue}const me=h(v,z,U),Re=p(v,U,me),ke=v.slice(me,Re);if(N[ke]===void 0){let Fe=h(v,U+1,re),Pe=p(v,re,Fe);const We=M(v.slice(Fe,Pe));N[ke]=We}z=re+1}while(z<D);return N}function h(v,T,N){do{const D=v.charCodeAt(T);if(D!==32&&D!==9)return T}while(++T<N);return N}function p(v,T,N){for(;T>N;){const D=v.charCodeAt(--T);if(D!==32&&D!==9)return T+1}return N}function g(v,T,N){const D=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(v))throw new TypeError(`argument name is invalid: ${v}`);const M=D(T);if(!t.test(M))throw new TypeError(`argument val is invalid: ${T}`);let z=v+"="+M;if(!N)return z;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);z+="; Max-Age="+N.maxAge}if(N.domain){if(!r.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);z+="; Domain="+N.domain}if(N.path){if(!o.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);z+="; Path="+N.path}if(N.expires){if(!y(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);z+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(z+="; HttpOnly"),N.secure&&(z+="; Secure"),N.partitioned&&(z+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return z}function w(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return l.call(v)==="[object Date]"}return Ui}TC();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cp="popstate";function RC(i={}){function t(o,l){let{pathname:u,search:d,hash:h}=o.location;return bu("",{pathname:u,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(o,l){return typeof l=="string"?l:is(l)}return DC(t,r,null,i)}function Te(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Kt(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PC(){return Math.random().toString(36).substring(2,10)}function Sp(i,t){return{usr:i.state,key:i.key,idx:t}}function bu(i,t,r=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Qr(t):t,state:r,key:t&&t.key||o||PC()}}function is({pathname:i="/",search:t="",hash:r=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Qr(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substring(r),i=i.substring(0,r));let o=i.indexOf("?");o>=0&&(t.search=i.substring(o),i=i.substring(0,o)),i&&(t.pathname=i)}return t}function DC(i,t,r,o={}){let{window:l=document.defaultView,v5Compat:u=!1}=o,d=l.history,h="POP",p=null,g=w();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function w(){return(d.state||{idx:null}).idx}function y(){h="POP";let M=w(),z=M==null?null:M-g;g=M,p&&p({action:h,location:D.location,delta:z})}function v(M,z){h="PUSH";let U=bu(D.location,M,z);g=w()+1;let Z=Sp(U,g),re=D.createHref(U);try{d.pushState(Z,"",re)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;l.location.assign(re)}u&&p&&p({action:h,location:D.location,delta:1})}function T(M,z){h="REPLACE";let U=bu(D.location,M,z);g=w();let Z=Sp(U,g),re=D.createHref(U);d.replaceState(Z,"",re),u&&p&&p({action:h,location:D.location,delta:0})}function N(M){let z=l.location.origin!=="null"?l.location.origin:l.location.href,U=typeof M=="string"?M:is(M);return U=U.replace(/ $/,"%20"),Te(z,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,z)}let D={get action(){return h},get location(){return i(l,d)},listen(M){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Cp,y),p=M,()=>{l.removeEventListener(Cp,y),p=null}},createHref(M){return t(l,M)},createURL:N,encodeLocation(M){let z=N(M);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:v,replace:T,go(M){return d.go(M)}};return D}function dg(i,t,r="/"){return AC(i,t,r,!1)}function AC(i,t,r,o){let l=typeof t=="string"?Qr(t):t,u=zn(l.pathname||"/",r);if(u==null)return null;let d=fg(i);LC(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let g=HC(u);h=WC(d[p],g,o)}return h}function fg(i,t=[],r=[],o=""){let l=(u,d,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(Te(p.relativePath.startsWith(o),`Absolute route path "${p.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(o.length));let g=ln([o,p.relativePath]),w=r.concat(p);u.children&&u.children.length>0&&(Te(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),fg(u.children,t,w,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:UC(g,u.index),routesMeta:w})};return i.forEach((u,d)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,d);else for(let p of hg(u.path))l(u,d,p)}),t}function hg(i){let t=i.split("/");if(t.length===0)return[];let[r,...o]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let d=hg(o.join("/")),h=[];return h.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...d),h.map(p=>i.startsWith("/")&&p===""?"/":p)}function LC(i){i.sort((t,r)=>t.score!==r.score?r.score-t.score:BC(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var OC=/^:[\w-]+$/,MC=3,FC=2,bC=1,jC=10,zC=-2,xp=i=>i==="*";function UC(i,t){let r=i.split("/"),o=r.length;return r.some(xp)&&(o+=zC),t&&(o+=FC),r.filter(l=>!xp(l)).reduce((l,u)=>l+(OC.test(u)?MC:u===""?bC:jC),o)}function BC(i,t){return i.length===t.length&&i.slice(0,-1).every((o,l)=>o===t[l])?i[i.length-1]-t[t.length-1]:0}function WC(i,t,r=!1){let{routesMeta:o}=i,l={},u="/",d=[];for(let h=0;h<o.length;++h){let p=o[h],g=h===o.length-1,w=u==="/"?t:t.slice(u.length)||"/",y=Yo({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},w),v=p.route;if(!y&&g&&r&&!o[o.length-1].route.index&&(y=Yo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!y)return null;Object.assign(l,y.params),d.push({params:l,pathname:ln([u,y.pathname]),pathnameBase:KC(ln([u,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(u=ln([u,y.pathnameBase]))}return d}function Yo(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,o]=$C(i.path,i.caseSensitive,i.end),l=t.match(r);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:o.reduce((g,{paramName:w,isOptional:y},v)=>{if(w==="*"){let N=h[v]||"";d=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const T=h[v];return y&&!T?g[w]=void 0:g[w]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:i}}function $C(i,t=!1,r=!0){Kt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),o]}function HC(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kt(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function zn(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=i.charAt(r);return o&&o!=="/"?null:i.slice(r)||"/"}function VC(i,t="/"){let{pathname:r,search:o="",hash:l=""}=typeof i=="string"?Qr(i):i;return{pathname:r?r.startsWith("/")?r:GC(r,t):t,search:YC(o),hash:qC(l)}}function GC(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function yu(i,t,r,o){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QC(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pg(i){let t=QC(i);return t.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase)}function mg(i,t,r,o=!1){let l;typeof i=="string"?l=Qr(i):(l={...i},Te(!l.pathname||!l.pathname.includes("?"),yu("?","pathname","search",l)),Te(!l.pathname||!l.pathname.includes("#"),yu("#","pathname","hash",l)),Te(!l.search||!l.search.includes("#"),yu("#","search","hash",l)));let u=i===""||l.pathname==="",d=u?"/":l.pathname,h;if(d==null)h=r;else{let y=t.length-1;if(!o&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),y-=1;l.pathname=v.join("/")}h=y>=0?t[y]:"/"}let p=VC(l,h),g=d&&d!=="/"&&d.endsWith("/"),w=(u||d===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||w)&&(p.pathname+="/"),p}var ln=i=>i.join("/").replace(/\/\/+/g,"/"),KC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),YC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,qC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function XC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var gg=["POST","PUT","PATCH","DELETE"];new Set(gg);var JC=["GET",...gg];new Set(JC);var Kr=P.createContext(null);Kr.displayName="DataRouter";var ll=P.createContext(null);ll.displayName="DataRouterState";var _g=P.createContext({isTransitioning:!1});_g.displayName="ViewTransition";var ZC=P.createContext(new Map);ZC.displayName="Fetchers";var eS=P.createContext(null);eS.displayName="Await";var Yt=P.createContext(null);Yt.displayName="Navigation";var fs=P.createContext(null);fs.displayName="Location";var fn=P.createContext({outlet:null,matches:[],isDataRoute:!1});fn.displayName="Route";var vc=P.createContext(null);vc.displayName="RouteError";function tS(i,{relative:t}={}){Te(hs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=P.useContext(Yt),{hash:l,pathname:u,search:d}=ps(i,{relative:t}),h=u;return r!=="/"&&(h=u==="/"?r:ln([r,u])),o.createHref({pathname:h,search:d,hash:l})}function hs(){return P.useContext(fs)!=null}function Un(){return Te(hs(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(fs).location}var yg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vg(i){P.useContext(Yt).static||P.useLayoutEffect(i)}function nS(){let{isDataRoute:i}=P.useContext(fn);return i?mS():rS()}function rS(){Te(hs(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(Kr),{basename:t,navigator:r}=P.useContext(Yt),{matches:o}=P.useContext(fn),{pathname:l}=Un(),u=JSON.stringify(pg(o)),d=P.useRef(!1);return vg(()=>{d.current=!0}),P.useCallback((p,g={})=>{if(Kt(d.current,yg),!d.current)return;if(typeof p=="number"){r.go(p);return}let w=mg(p,JSON.parse(u),l,g.relative==="path");i==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:ln([t,w.pathname])),(g.replace?r.replace:r.push)(w,g.state,g)},[t,r,u,l,i])}P.createContext(null);function ps(i,{relative:t}={}){let{matches:r}=P.useContext(fn),{pathname:o}=Un(),l=JSON.stringify(pg(r));return P.useMemo(()=>mg(i,JSON.parse(l),o,t==="path"),[i,l,o,t])}function iS(i,t){return wg(i,t)}function wg(i,t,r,o){var z;Te(hs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(Yt),{matches:u}=P.useContext(fn),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",w=d&&d.route;{let U=w&&w.path||"";Eg(p,!w||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let y=Un(),v;if(t){let U=typeof t=="string"?Qr(t):t;Te(g==="/"||((z=U.pathname)==null?void 0:z.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),v=U}else v=y;let T=v.pathname||"/",N=T;if(g!=="/"){let U=g.replace(/^\//,"").split("/");N="/"+T.replace(/^\//,"").split("/").slice(U.length).join("/")}let D=dg(i,{pathname:N});Kt(w||D!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Kt(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=uS(D&&D.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:ln([g,l.encodeLocation?l.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:ln([g,l.encodeLocation?l.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,r,o);return t&&M?P.createElement(fs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},M):M}function sS(){let i=pS(),t=XC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),r?P.createElement("pre",{style:l},r):null,d)}var oS=P.createElement(sS,null),lS=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?P.createElement(fn.Provider,{value:this.props.routeContext},P.createElement(vc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aS({routeContext:i,match:t,children:r}){let o=P.useContext(Kr);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(fn.Provider,{value:i},r)}function uS(i,t=[],r=null,o=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let l=i,u=r==null?void 0:r.errors;if(u!=null){let p=l.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Te(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(r)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:w,errors:y}=r,v=g.route.loader&&!w.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||v){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,g,w)=>{let y,v=!1,T=null,N=null;r&&(y=u&&g.route.id?u[g.route.id]:void 0,T=g.route.errorElement||oS,d&&(h<0&&w===0?(Eg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,N=null):h===w&&(v=!0,N=g.route.hydrateFallbackElement||null)));let D=t.concat(l.slice(0,w+1)),M=()=>{let z;return y?z=T:v?z=N:g.route.Component?z=P.createElement(g.route.Component,null):g.route.element?z=g.route.element:z=p,P.createElement(aS,{match:g,routeContext:{outlet:p,matches:D,isDataRoute:r!=null},children:z})};return r&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?P.createElement(lS,{location:r.location,revalidation:r.revalidation,component:T,error:y,children:M(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):M()},null)}function wc(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cS(i){let t=P.useContext(Kr);return Te(t,wc(i)),t}function dS(i){let t=P.useContext(ll);return Te(t,wc(i)),t}function fS(i){let t=P.useContext(fn);return Te(t,wc(i)),t}function Ec(i){let t=fS(i),r=t.matches[t.matches.length-1];return Te(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function hS(){return Ec("useRouteId")}function pS(){var o;let i=P.useContext(vc),t=dS("useRouteError"),r=Ec("useRouteError");return i!==void 0?i:(o=t.errors)==null?void 0:o[r]}function mS(){let{router:i}=cS("useNavigate"),t=Ec("useNavigate"),r=P.useRef(!1);return vg(()=>{r.current=!0}),P.useCallback(async(l,u={})=>{Kt(r.current,yg),r.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...u}))},[i,t])}var kp={};function Eg(i,t,r){!t&&!kp[i]&&(kp[i]=!0,Kt(!1,r))}P.memo(gS);function gS({routes:i,future:t,state:r}){return wg(i,void 0,r,t)}function ju(i){Te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _S({basename:i="/",children:t=null,location:r,navigationType:o="POP",navigator:l,static:u=!1}){Te(!hs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof r=="string"&&(r=Qr(r));let{pathname:p="/",search:g="",hash:w="",state:y=null,key:v="default"}=r,T=P.useMemo(()=>{let N=zn(p,d);return N==null?null:{location:{pathname:N,search:g,hash:w,state:y,key:v},navigationType:o}},[d,p,g,w,y,v,o]);return Kt(T!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${w}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:P.createElement(Yt.Provider,{value:h},P.createElement(fs.Provider,{children:t,value:T}))}function yS({children:i,location:t}){return iS(zu(i),t)}function zu(i,t=[]){let r=[];return P.Children.forEach(i,(o,l)=>{if(!P.isValidElement(o))return;let u=[...t,l];if(o.type===P.Fragment){r.push.apply(r,zu(o.props.children,u));return}Te(o.type===ju,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Te(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=zu(o.props.children,u)),r.push(d)}),r}var Do="get",Ao="application/x-www-form-urlencoded";function al(i){return i!=null&&typeof i.tagName=="string"}function vS(i){return al(i)&&i.tagName.toLowerCase()==="button"}function wS(i){return al(i)&&i.tagName.toLowerCase()==="form"}function ES(i){return al(i)&&i.tagName.toLowerCase()==="input"}function CS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function SS(i,t){return i.button===0&&(!t||t==="_self")&&!CS(i)}var Ro=null;function xS(){if(Ro===null)try{new FormData(document.createElement("form"),0),Ro=!1}catch{Ro=!0}return Ro}var kS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vu(i){return i!=null&&!kS.has(i)?(Kt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ao}"`),null):i}function IS(i,t){let r,o,l,u,d;if(wS(i)){let h=i.getAttribute("action");o=h?zn(h,t):null,r=i.getAttribute("method")||Do,l=vu(i.getAttribute("enctype"))||Ao,u=new FormData(i)}else if(vS(i)||ES(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||h.getAttribute("action");if(o=p?zn(p,t):null,r=i.getAttribute("formmethod")||h.getAttribute("method")||Do,l=vu(i.getAttribute("formenctype"))||vu(h.getAttribute("enctype"))||Ao,u=new FormData(h,i),!xS()){let{name:g,type:w,value:y}=i;if(w==="image"){let v=g?`${g}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else g&&u.append(g,y)}}else{if(al(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Do,o=null,l=Ao,d=i}return u&&l==="text/plain"&&(d=u,u=void 0),{action:o,method:r.toLowerCase(),encType:l,formData:u,body:d}}function Cc(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function NS(i,t){if(i.id in t)return t[i.id];try{let r=await import(i.module);return t[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function RS(i,t,r){let o=await Promise.all(i.map(async l=>{let u=t.routes[l.route.id];if(u){let d=await NS(u,r);return d.links?d.links():[]}return[]}));return LS(o.flat(1).filter(TS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Ip(i,t,r,o,l,u){let d=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,h=(p,g)=>{var w;return r[g].pathname!==p.pathname||((w=r[g].route.path)==null?void 0:w.endsWith("*"))&&r[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>d(p,g)||h(p,g)):u==="data"?t.filter((p,g)=>{var y;let w=o.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(d(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=r[0])==null?void 0:y.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function PS(i,t){return DS(i.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let l=[o.module];return o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function DS(i){return[...new Set(i)]}function AS(i){let t={},r=Object.keys(i).sort();for(let o of r)t[o]=i[o];return t}function LS(i,t){let r=new Set;return new Set(t),i.reduce((o,l)=>{let u=JSON.stringify(AS(l));return r.has(u)||(r.add(u),o.push({key:u,link:l})),o},[])}function OS(i){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function MS(){let i=P.useContext(Kr);return Cc(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function FS(){let i=P.useContext(ll);return Cc(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Sc=P.createContext(void 0);Sc.displayName="FrameworkContext";function Cg(){let i=P.useContext(Sc);return Cc(i,"You must render this element inside a <HydratedRouter> element"),i}function bS(i,t){let r=P.useContext(Sc),[o,l]=P.useState(!1),[u,d]=P.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:w,onTouchStart:y}=t,v=P.useRef(null);P.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let D=z=>{z.forEach(U=>{d(U.isIntersecting)})},M=new IntersectionObserver(D,{threshold:.5});return v.current&&M.observe(v.current),()=>{M.disconnect()}}},[i]),P.useEffect(()=>{if(o){let D=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(D)}}},[o]);let T=()=>{l(!0)},N=()=>{l(!1),d(!1)};return r?i!=="intent"?[u,v,{}]:[u,v,{onFocus:Bi(h,T),onBlur:Bi(p,N),onMouseEnter:Bi(g,T),onMouseLeave:Bi(w,N),onTouchStart:Bi(y,T)}]:[!1,v,{}]}function Bi(i,t){return r=>{i&&i(r),r.defaultPrevented||t(r)}}function jS({page:i,...t}){let{router:r}=MS(),o=P.useMemo(()=>dg(r.routes,i,r.basename),[r.routes,i,r.basename]);return o?P.createElement(US,{page:i,matches:o,...t}):null}function zS(i){let{manifest:t,routeModules:r}=Cg(),[o,l]=P.useState([]);return P.useEffect(()=>{let u=!1;return RS(i,t,r).then(d=>{u||l(d)}),()=>{u=!0}},[i,t,r]),o}function US({page:i,matches:t,...r}){let o=Un(),{manifest:l,routeModules:u}=Cg(),{loaderData:d,matches:h}=FS(),p=P.useMemo(()=>Ip(i,t,h,l,o,"data"),[i,t,h,l,o]),g=P.useMemo(()=>Ip(i,t,h,l,o,"assets"),[i,t,h,l,o]),w=P.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let T=new Set,N=!1;if(t.forEach(M=>{var U;let z=l.routes[M.route.id];!z||!z.hasLoader||(!p.some(Z=>Z.route.id===M.route.id)&&M.route.id in d&&((U=u[M.route.id])!=null&&U.shouldRevalidate)||z.hasClientLoader?N=!0:T.add(M.route.id))}),T.size===0)return[];let D=OS(i);return N&&T.size>0&&D.searchParams.set("_routes",t.filter(M=>T.has(M.route.id)).map(M=>M.route.id).join(",")),[D.pathname+D.search]},[d,o,l,p,t,i,u]),y=P.useMemo(()=>PS(g,l),[g,l]),v=zS(g);return P.createElement(P.Fragment,null,w.map(T=>P.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...r})),y.map(T=>P.createElement("link",{key:T,rel:"modulepreload",href:T,...r})),v.map(({key:T,link:N})=>P.createElement("link",{key:T,...N})))}function BS(...i){return t=>{i.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Sg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sg&&(window.__reactRouterVersion="7.1.1")}catch{}function WS({basename:i,children:t,window:r}){let o=P.useRef();o.current==null&&(o.current=RC({window:r,v5Compat:!0}));let l=o.current,[u,d]=P.useState({action:l.action,location:l.location}),h=P.useCallback(p=>{P.startTransition(()=>d(p))},[d]);return P.useLayoutEffect(()=>l.listen(h),[l,h]),P.createElement(_S,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:l})}var xg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xc=P.forwardRef(function({onClick:t,discover:r="render",prefetch:o="none",relative:l,reloadDocument:u,replace:d,state:h,target:p,to:g,preventScrollReset:w,viewTransition:y,...v},T){let{basename:N}=P.useContext(Yt),D=typeof g=="string"&&xg.test(g),M,z=!1;if(typeof g=="string"&&D&&(M=g,Sg))try{let Pe=new URL(window.location.href),We=g.startsWith("//")?new URL(Pe.protocol+g):new URL(g),jt=zn(We.pathname,N);We.origin===Pe.origin&&jt!=null?g=jt+We.search+We.hash:z=!0}catch{Kt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=tS(g,{relative:l}),[Z,re,me]=bS(o,v),Re=GS(g,{replace:d,state:h,target:p,preventScrollReset:w,relative:l,viewTransition:y});function ke(Pe){t&&t(Pe),Pe.defaultPrevented||Re(Pe)}let Fe=P.createElement("a",{...v,...me,href:M||U,onClick:z||u?t:ke,ref:BS(T,re),target:p,"data-discover":!D&&r==="render"?"true":void 0});return Z&&!D?P.createElement(P.Fragment,null,Fe,P.createElement(jS,{page:U})):Fe});xc.displayName="Link";var $S=P.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:o="",end:l=!1,style:u,to:d,viewTransition:h,children:p,...g},w){let y=ps(d,{relative:g.relative}),v=Un(),T=P.useContext(ll),{navigator:N,basename:D}=P.useContext(Yt),M=T!=null&&XS(y)&&h===!0,z=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,U=v.pathname,Z=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;r||(U=U.toLowerCase(),Z=Z?Z.toLowerCase():null,z=z.toLowerCase()),Z&&D&&(Z=zn(Z,D)||Z);const re=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let me=U===z||!l&&U.startsWith(z)&&U.charAt(re)==="/",Re=Z!=null&&(Z===z||!l&&Z.startsWith(z)&&Z.charAt(z.length)==="/"),ke={isActive:me,isPending:Re,isTransitioning:M},Fe=me?t:void 0,Pe;typeof o=="function"?Pe=o(ke):Pe=[o,me?"active":null,Re?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let We=typeof u=="function"?u(ke):u;return P.createElement(xc,{...g,"aria-current":Fe,className:Pe,ref:w,style:We,to:d,viewTransition:h},typeof p=="function"?p(ke):p)});$S.displayName="NavLink";var HS=P.forwardRef(({discover:i="render",fetcherKey:t,navigate:r,reloadDocument:o,replace:l,state:u,method:d=Do,action:h,onSubmit:p,relative:g,preventScrollReset:w,viewTransition:y,...v},T)=>{let N=YS(),D=qS(h,{relative:g}),M=d.toLowerCase()==="get"?"get":"post",z=typeof h=="string"&&xg.test(h),U=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let re=Z.nativeEvent.submitter,me=(re==null?void 0:re.getAttribute("formmethod"))||d;N(re||Z.currentTarget,{fetcherKey:t,method:me,navigate:r,replace:l,state:u,relative:g,preventScrollReset:w,viewTransition:y})};return P.createElement("form",{ref:T,method:M,action:D,onSubmit:o?p:U,...v,"data-discover":!z&&i==="render"?"true":void 0})});HS.displayName="Form";function VS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kg(i){let t=P.useContext(Kr);return Te(t,VS(i)),t}function GS(i,{target:t,replace:r,state:o,preventScrollReset:l,relative:u,viewTransition:d}={}){let h=nS(),p=Un(),g=ps(i,{relative:u});return P.useCallback(w=>{if(SS(w,t)){w.preventDefault();let y=r!==void 0?r:is(p)===is(g);h(i,{replace:y,state:o,preventScrollReset:l,relative:u,viewTransition:d})}},[p,h,g,r,o,t,i,l,u,d])}var QS=0,KS=()=>`__${String(++QS)}__`;function YS(){let{router:i}=kg("useSubmit"),{basename:t}=P.useContext(Yt),r=hS();return P.useCallback(async(o,l={})=>{let{action:u,method:d,encType:h,formData:p,body:g}=IS(o,t);if(l.navigate===!1){let w=l.fetcherKey||KS();await i.fetch(w,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,r])}function qS(i,{relative:t}={}){let{basename:r}=P.useContext(Yt),o=P.useContext(fn);Te(o,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),u={...ps(i||".",{relative:t})},d=Un();if(i==null){u.search=d.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(w=>w==="")){h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let w=h.toString();u.search=w?`?${w}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:ln([r,u.pathname])),is(u)}function XS(i,t={}){let r=P.useContext(_g);Te(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=kg("useViewTransitionState"),l=ps(i,{relative:t.relative});if(!r.isTransitioning)return!1;let u=zn(r.currentLocation.pathname,o)||r.currentLocation.pathname,d=zn(r.nextLocation.pathname,o)||r.nextLocation.pathname;return Yo(l.pathname,d)!=null||Yo(l.pathname,u)!=null}new TextEncoder;function JS(){return R.jsx(R.Fragment,{children:R.jsx("div",{className:"m-auto pt-4 w-44 h-44",children:R.jsxs("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[R.jsx("g",{filter:"url(#filter0_i_1_18)",children:R.jsx("rect",{width:"32",height:"32",rx:"16",fill:"#FF8A00"})}),R.jsx("rect",{x:"0.375",y:"0.375",width:"31.25",height:"31.25",rx:"15.625",stroke:"white",strokeWidth:"0.75"}),R.jsxs("g",{filter:"url(#filter1_d_1_18)",children:[R.jsx("circle",{cx:"15",cy:"16",r:"2",fill:"white"}),R.jsx("rect",{x:"10",y:"5",width:"2",height:"22",fill:"white"}),R.jsx("path",{d:"M15.5 12C20.5 13 20.5 19 15.5 20",stroke:"white",strokeWidth:"1.3",strokeLinecap:"round"}),R.jsx("path",{d:"M16 9C24 10.75 24 21.25 16 23",stroke:"white",strokeWidth:"1.3",strokeLinecap:"round"}),R.jsx("path",{d:"M16.5 6.5C27.5 9 27.5 23 16.5 25.5",stroke:"white",strokeWidth:"1.3",strokeLinecap:"round"})]}),R.jsxs("defs",{children:[R.jsxs("filter",{id:"filter0_i_1_18",x:"0",y:"0",width:"32",height:"32",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[R.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),R.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),R.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),R.jsx("feOffset",{}),R.jsx("feGaussianBlur",{stdDeviation:"2"}),R.jsx("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),R.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}),R.jsx("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_1_18"})]}),R.jsxs("filter",{id:"filter1_d_1_18",x:"8",y:"3",width:"19.4",height:"26",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[R.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),R.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),R.jsx("feOffset",{}),R.jsx("feGaussianBlur",{stdDeviation:"1"}),R.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),R.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.239216 0 0 0 0 0.145098 0 0 0 0 0 0 0 0 0.5 0"}),R.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1_18"}),R.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1_18",result:"shape"})]})]})]})})})}function Np({buttonText:i,linkDirectory:t}){const o=Un().pathname===`/${t}`;return R.jsx("div",{className:`mt-2 rounded-l-full w-56 ml-auto hover:bg-white text-center transition-all duration-700 ${o?"bg-white text-primary":"bg-primary text-white"}`,children:R.jsx(xc,{to:`/${t}`,className:"hover:text-primary text-inherit text-2xl font-bold select-none block p-1",children:i})})}function ZS(){return R.jsx(R.Fragment,{children:R.jsxs("div",{className:"bg-primary h-screen w-60",children:[R.jsxs("div",{className:"mb-20",children:[R.jsx(JS,{}),R.jsx("h1",{className:"mt-6 text-center text-white font-bold text-4xl select-none",children:"Daher.Net"})]}),R.jsx(Np,{buttonText:"Dashboard",linkDirectory:""}),R.jsx(Np,{buttonText:"Invoice",linkDirectory:"Invoice"})]})})}function e1(){return R.jsx(R.Fragment,{})}function t1(){return R.jsx(R.Fragment,{children:R.jsx(WS,{children:R.jsxs("main",{className:"flex",children:[R.jsx(ZS,{}),R.jsxs(yS,{children:[R.jsx(ju,{path:"/",element:R.jsx(NC,{})}),R.jsx(ju,{path:"/invoice",element:R.jsx(e1,{})})]})]})})})}Ry.createRoot(document.getElementById("root")).render(R.jsx(P.StrictMode,{children:R.jsx(t1,{})}));
